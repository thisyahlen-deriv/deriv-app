/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_object-assign_index_js-node_modules_object-inspect_index_js-node_modules-47ff9e"],{

/***/ "../../../node_modules/@popmotion/easing/dist/easing.es.js":
/*!*****************************************************************!*\
  !*** ../../../node_modules/@popmotion/easing/dist/easing.es.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"reversed\": () => (/* binding */ reversed),\n/* harmony export */   \"mirrored\": () => (/* binding */ mirrored),\n/* harmony export */   \"createReversedEasing\": () => (/* binding */ createReversedEasing),\n/* harmony export */   \"createMirroredEasing\": () => (/* binding */ createMirroredEasing),\n/* harmony export */   \"createExpoIn\": () => (/* binding */ createExpoIn),\n/* harmony export */   \"createBackIn\": () => (/* binding */ createBackIn),\n/* harmony export */   \"createAnticipateEasing\": () => (/* binding */ createAnticipateEasing),\n/* harmony export */   \"linear\": () => (/* binding */ linear),\n/* harmony export */   \"easeIn\": () => (/* binding */ easeIn),\n/* harmony export */   \"easeOut\": () => (/* binding */ easeOut),\n/* harmony export */   \"easeInOut\": () => (/* binding */ easeInOut),\n/* harmony export */   \"circIn\": () => (/* binding */ circIn),\n/* harmony export */   \"circOut\": () => (/* binding */ circOut),\n/* harmony export */   \"circInOut\": () => (/* binding */ circInOut),\n/* harmony export */   \"backIn\": () => (/* binding */ backIn),\n/* harmony export */   \"backOut\": () => (/* binding */ backOut),\n/* harmony export */   \"backInOut\": () => (/* binding */ backInOut),\n/* harmony export */   \"anticipate\": () => (/* binding */ anticipate),\n/* harmony export */   \"bounceOut\": () => (/* binding */ bounceOut),\n/* harmony export */   \"bounceIn\": () => (/* binding */ bounceIn),\n/* harmony export */   \"bounceInOut\": () => (/* binding */ bounceInOut),\n/* harmony export */   \"cubicBezier\": () => (/* binding */ cubicBezier)\n/* harmony export */ });\nvar DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nvar reversed = function (easing) {\n    return function (p) {\n        return 1 - easing(1 - p);\n    };\n};\nvar mirrored = function (easing) {\n    return function (p) {\n        return p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n    };\n};\nvar createReversedEasing = reversed;\nvar createMirroredEasing = mirrored;\nvar createExpoIn = function (power) {\n    return function (p) {\n        return Math.pow(p, power);\n    };\n};\nvar createBackIn = function (power) {\n    return function (p) {\n        return p * p * ((power + 1) * p - power);\n    };\n};\nvar createAnticipateEasing = function (power) {\n    var backEasing = createBackIn(power);\n    return function (p) {\n        return (p *= 2) < 1 ? 0.5 * backEasing(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n    };\n};\nvar linear = function (p) {\n    return p;\n};\nvar easeIn = /*#__PURE__*/createExpoIn(2);\nvar easeOut = /*#__PURE__*/reversed(easeIn);\nvar easeInOut = /*#__PURE__*/mirrored(easeIn);\nvar circIn = function (p) {\n    return 1 - Math.sin(Math.acos(p));\n};\nvar circOut = /*#__PURE__*/reversed(circIn);\nvar circInOut = /*#__PURE__*/mirrored(circOut);\nvar backIn = /*#__PURE__*/createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nvar backOut = /*#__PURE__*/reversed(backIn);\nvar backInOut = /*#__PURE__*/mirrored(backIn);\nvar anticipate = /*#__PURE__*/createAnticipateEasing(DEFAULT_OVERSHOOT_STRENGTH);\nvar BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nvar BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nvar BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\nvar ca = 4356.0 / 361.0;\nvar cb = 35442.0 / 1805.0;\nvar cc = 16061.0 / 1805.0;\nvar bounceOut = function (p) {\n    var p2 = p * p;\n    return p < BOUNCE_FIRST_THRESHOLD ? 7.5625 * p2 : p < BOUNCE_SECOND_THRESHOLD ? 9.075 * p2 - 9.9 * p + 3.4 : p < BOUNCE_THIRD_THRESHOLD ? ca * p2 - cb * p + cc : 10.8 * p * p - 20.52 * p + 10.72;\n};\nvar bounceIn = function (p) {\n    return 1.0 - bounceOut(1.0 - p);\n};\nvar bounceInOut = function (p) {\n    return p < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0)) : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n};\nvar NEWTON_ITERATIONS = 8;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\nvar K_SPLINE_TABLE_SIZE = 11;\nvar K_SAMPLE_STEP_SIZE = 1.0 / (K_SPLINE_TABLE_SIZE - 1.0);\nvar FLOAT_32_SUPPORTED = typeof Float32Array !== 'undefined';\nvar a = function (a1, a2) {\n    return 1.0 - 3.0 * a2 + 3.0 * a1;\n};\nvar b = function (a1, a2) {\n    return 3.0 * a2 - 6.0 * a1;\n};\nvar c = function (a1) {\n    return 3.0 * a1;\n};\nvar getSlope = function (t, a1, a2) {\n    return 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\n};\nvar calcBezier = function (t, a1, a2) {\n    return ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n};\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    var sampleValues = FLOAT_32_SUPPORTED ? new Float32Array(K_SPLINE_TABLE_SIZE) : new Array(K_SPLINE_TABLE_SIZE);\n    var binarySubdivide = function (aX, aA, aB) {\n        var i = 0;\n        var currentX;\n        var currentT;\n        do {\n            currentT = aA + (aB - aA) / 2.0;\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\n            if (currentX > 0.0) {\n                aB = currentT;\n            } else {\n                aA = currentT;\n            }\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n        return currentT;\n    };\n    var newtonRaphsonIterate = function (aX, aGuessT) {\n        var i = 0;\n        var currentSlope = 0;\n        var currentX;\n        for (; i < NEWTON_ITERATIONS; ++i) {\n            currentSlope = getSlope(aGuessT, mX1, mX2);\n            if (currentSlope === 0.0) {\n                return aGuessT;\n            }\n            currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n            aGuessT -= currentX / currentSlope;\n        }\n        return aGuessT;\n    };\n    var calcSampleValues = function () {\n        for (var i = 0; i < K_SPLINE_TABLE_SIZE; ++i) {\n            sampleValues[i] = calcBezier(i * K_SAMPLE_STEP_SIZE, mX1, mX2);\n        }\n    };\n    var getTForX = function (aX) {\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = K_SPLINE_TABLE_SIZE - 1;\n        var dist = 0.0;\n        var guessForT = 0.0;\n        var initialSlope = 0.0;\n        for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n            intervalStart += K_SAMPLE_STEP_SIZE;\n        }\n        --currentSample;\n        dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n        guessForT = intervalStart + dist * K_SAMPLE_STEP_SIZE;\n        initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n            return newtonRaphsonIterate(aX, guessForT);\n        } else if (initialSlope === 0.0) {\n            return guessForT;\n        } else {\n            return binarySubdivide(aX, intervalStart, intervalStart + K_SAMPLE_STEP_SIZE);\n        }\n    };\n    calcSampleValues();\n    var resolver = function (aX) {\n        var returnValue;\n        if (mX1 === mY1 && mX2 === mY2) {\n            returnValue = aX;\n        } else if (aX === 0) {\n            returnValue = 0;\n        } else if (aX === 1) {\n            returnValue = 1;\n        } else {\n            returnValue = calcBezier(getTForX(aX), mY1, mY2);\n        }\n        return returnValue;\n    };\n    return resolver;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb3Btb3Rpb24vZWFzaW5nL2Rpc3QvZWFzaW5nLmVzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AcG9wbW90aW9uL2Vhc2luZy9kaXN0L2Vhc2luZy5lcy5qcz8wOWNmIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBERUZBVUxUX09WRVJTSE9PVF9TVFJFTkdUSCA9IDEuNTI1O1xudmFyIHJldmVyc2VkID0gZnVuY3Rpb24gKGVhc2luZykge1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gMSAtIGVhc2luZygxIC0gcCk7XG4gICAgfTtcbn07XG52YXIgbWlycm9yZWQgPSBmdW5jdGlvbiAoZWFzaW5nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiBwIDw9IDAuNSA/IGVhc2luZygyICogcCkgLyAyIDogKDIgLSBlYXNpbmcoMiAqICgxIC0gcCkpKSAvIDI7XG4gICAgfTtcbn07XG52YXIgY3JlYXRlUmV2ZXJzZWRFYXNpbmcgPSByZXZlcnNlZDtcbnZhciBjcmVhdGVNaXJyb3JlZEVhc2luZyA9IG1pcnJvcmVkO1xudmFyIGNyZWF0ZUV4cG9JbiA9IGZ1bmN0aW9uIChwb3dlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gTWF0aC5wb3cocCwgcG93ZXIpO1xuICAgIH07XG59O1xudmFyIGNyZWF0ZUJhY2tJbiA9IGZ1bmN0aW9uIChwb3dlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gcCAqIHAgKiAoKHBvd2VyICsgMSkgKiBwIC0gcG93ZXIpO1xuICAgIH07XG59O1xudmFyIGNyZWF0ZUFudGljaXBhdGVFYXNpbmcgPSBmdW5jdGlvbiAocG93ZXIpIHtcbiAgICB2YXIgYmFja0Vhc2luZyA9IGNyZWF0ZUJhY2tJbihwb3dlcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAocCAqPSAyKSA8IDEgPyAwLjUgKiBiYWNrRWFzaW5nKHApIDogMC41ICogKDIgLSBNYXRoLnBvdygyLCAtMTAgKiAocCAtIDEpKSk7XG4gICAgfTtcbn07XG52YXIgbGluZWFyID0gZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gcDtcbn07XG52YXIgZWFzZUluID0gLyojX19QVVJFX18qL2NyZWF0ZUV4cG9JbigyKTtcbnZhciBlYXNlT3V0ID0gLyojX19QVVJFX18qL3JldmVyc2VkKGVhc2VJbik7XG52YXIgZWFzZUluT3V0ID0gLyojX19QVVJFX18qL21pcnJvcmVkKGVhc2VJbik7XG52YXIgY2lyY0luID0gZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gMSAtIE1hdGguc2luKE1hdGguYWNvcyhwKSk7XG59O1xudmFyIGNpcmNPdXQgPSAvKiNfX1BVUkVfXyovcmV2ZXJzZWQoY2lyY0luKTtcbnZhciBjaXJjSW5PdXQgPSAvKiNfX1BVUkVfXyovbWlycm9yZWQoY2lyY091dCk7XG52YXIgYmFja0luID0gLyojX19QVVJFX18qL2NyZWF0ZUJhY2tJbihERUZBVUxUX09WRVJTSE9PVF9TVFJFTkdUSCk7XG52YXIgYmFja091dCA9IC8qI19fUFVSRV9fKi9yZXZlcnNlZChiYWNrSW4pO1xudmFyIGJhY2tJbk91dCA9IC8qI19fUFVSRV9fKi9taXJyb3JlZChiYWNrSW4pO1xudmFyIGFudGljaXBhdGUgPSAvKiNfX1BVUkVfXyovY3JlYXRlQW50aWNpcGF0ZUVhc2luZyhERUZBVUxUX09WRVJTSE9PVF9TVFJFTkdUSCk7XG52YXIgQk9VTkNFX0ZJUlNUX1RIUkVTSE9MRCA9IDQuMCAvIDExLjA7XG52YXIgQk9VTkNFX1NFQ09ORF9USFJFU0hPTEQgPSA4LjAgLyAxMS4wO1xudmFyIEJPVU5DRV9USElSRF9USFJFU0hPTEQgPSA5LjAgLyAxMC4wO1xudmFyIGNhID0gNDM1Ni4wIC8gMzYxLjA7XG52YXIgY2IgPSAzNTQ0Mi4wIC8gMTgwNS4wO1xudmFyIGNjID0gMTYwNjEuMCAvIDE4MDUuMDtcbnZhciBib3VuY2VPdXQgPSBmdW5jdGlvbiAocCkge1xuICAgIHZhciBwMiA9IHAgKiBwO1xuICAgIHJldHVybiBwIDwgQk9VTkNFX0ZJUlNUX1RIUkVTSE9MRCA/IDcuNTYyNSAqIHAyIDogcCA8IEJPVU5DRV9TRUNPTkRfVEhSRVNIT0xEID8gOS4wNzUgKiBwMiAtIDkuOSAqIHAgKyAzLjQgOiBwIDwgQk9VTkNFX1RISVJEX1RIUkVTSE9MRCA/IGNhICogcDIgLSBjYiAqIHAgKyBjYyA6IDEwLjggKiBwICogcCAtIDIwLjUyICogcCArIDEwLjcyO1xufTtcbnZhciBib3VuY2VJbiA9IGZ1bmN0aW9uIChwKSB7XG4gICAgcmV0dXJuIDEuMCAtIGJvdW5jZU91dCgxLjAgLSBwKTtcbn07XG52YXIgYm91bmNlSW5PdXQgPSBmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiBwIDwgMC41ID8gMC41ICogKDEuMCAtIGJvdW5jZU91dCgxLjAgLSBwICogMi4wKSkgOiAwLjUgKiBib3VuY2VPdXQocCAqIDIuMCAtIDEuMCkgKyAwLjU7XG59O1xudmFyIE5FV1RPTl9JVEVSQVRJT05TID0gODtcbnZhciBORVdUT05fTUlOX1NMT1BFID0gMC4wMDE7XG52YXIgU1VCRElWSVNJT05fUFJFQ0lTSU9OID0gMC4wMDAwMDAxO1xudmFyIFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TID0gMTA7XG52YXIgS19TUExJTkVfVEFCTEVfU0laRSA9IDExO1xudmFyIEtfU0FNUExFX1NURVBfU0laRSA9IDEuMCAvIChLX1NQTElORV9UQUJMRV9TSVpFIC0gMS4wKTtcbnZhciBGTE9BVF8zMl9TVVBQT1JURUQgPSB0eXBlb2YgRmxvYXQzMkFycmF5ICE9PSAndW5kZWZpbmVkJztcbnZhciBhID0gZnVuY3Rpb24gKGExLCBhMikge1xuICAgIHJldHVybiAxLjAgLSAzLjAgKiBhMiArIDMuMCAqIGExO1xufTtcbnZhciBiID0gZnVuY3Rpb24gKGExLCBhMikge1xuICAgIHJldHVybiAzLjAgKiBhMiAtIDYuMCAqIGExO1xufTtcbnZhciBjID0gZnVuY3Rpb24gKGExKSB7XG4gICAgcmV0dXJuIDMuMCAqIGExO1xufTtcbnZhciBnZXRTbG9wZSA9IGZ1bmN0aW9uICh0LCBhMSwgYTIpIHtcbiAgICByZXR1cm4gMy4wICogYShhMSwgYTIpICogdCAqIHQgKyAyLjAgKiBiKGExLCBhMikgKiB0ICsgYyhhMSk7XG59O1xudmFyIGNhbGNCZXppZXIgPSBmdW5jdGlvbiAodCwgYTEsIGEyKSB7XG4gICAgcmV0dXJuICgoYShhMSwgYTIpICogdCArIGIoYTEsIGEyKSkgKiB0ICsgYyhhMSkpICogdDtcbn07XG5mdW5jdGlvbiBjdWJpY0JlemllcihtWDEsIG1ZMSwgbVgyLCBtWTIpIHtcbiAgICB2YXIgc2FtcGxlVmFsdWVzID0gRkxPQVRfMzJfU1VQUE9SVEVEID8gbmV3IEZsb2F0MzJBcnJheShLX1NQTElORV9UQUJMRV9TSVpFKSA6IG5ldyBBcnJheShLX1NQTElORV9UQUJMRV9TSVpFKTtcbiAgICB2YXIgYmluYXJ5U3ViZGl2aWRlID0gZnVuY3Rpb24gKGFYLCBhQSwgYUIpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgY3VycmVudFg7XG4gICAgICAgIHZhciBjdXJyZW50VDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY3VycmVudFQgPSBhQSArIChhQiAtIGFBKSAvIDIuMDtcbiAgICAgICAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihjdXJyZW50VCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICAgICAgICBpZiAoY3VycmVudFggPiAwLjApIHtcbiAgICAgICAgICAgICAgICBhQiA9IGN1cnJlbnRUO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhQSA9IGN1cnJlbnRUO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChNYXRoLmFicyhjdXJyZW50WCkgPiBTVUJESVZJU0lPTl9QUkVDSVNJT04gJiYgKytpIDwgU1VCRElWSVNJT05fTUFYX0lURVJBVElPTlMpO1xuICAgICAgICByZXR1cm4gY3VycmVudFQ7XG4gICAgfTtcbiAgICB2YXIgbmV3dG9uUmFwaHNvbkl0ZXJhdGUgPSBmdW5jdGlvbiAoYVgsIGFHdWVzc1QpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgY3VycmVudFNsb3BlID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRYO1xuICAgICAgICBmb3IgKDsgaSA8IE5FV1RPTl9JVEVSQVRJT05TOyArK2kpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTbG9wZSA9IGdldFNsb3BlKGFHdWVzc1QsIG1YMSwgbVgyKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U2xvcGUgPT09IDAuMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhR3Vlc3NUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFggPSBjYWxjQmV6aWVyKGFHdWVzc1QsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgICAgICAgYUd1ZXNzVCAtPSBjdXJyZW50WCAvIGN1cnJlbnRTbG9wZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICB9O1xuICAgIHZhciBjYWxjU2FtcGxlVmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEtfU1BMSU5FX1RBQkxFX1NJWkU7ICsraSkge1xuICAgICAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gY2FsY0JlemllcihpICogS19TQU1QTEVfU1RFUF9TSVpFLCBtWDEsIG1YMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBnZXRURm9yWCA9IGZ1bmN0aW9uIChhWCkge1xuICAgICAgICB2YXIgaW50ZXJ2YWxTdGFydCA9IDAuMDtcbiAgICAgICAgdmFyIGN1cnJlbnRTYW1wbGUgPSAxO1xuICAgICAgICB2YXIgbGFzdFNhbXBsZSA9IEtfU1BMSU5FX1RBQkxFX1NJWkUgLSAxO1xuICAgICAgICB2YXIgZGlzdCA9IDAuMDtcbiAgICAgICAgdmFyIGd1ZXNzRm9yVCA9IDAuMDtcbiAgICAgICAgdmFyIGluaXRpYWxTbG9wZSA9IDAuMDtcbiAgICAgICAgZm9yICg7IGN1cnJlbnRTYW1wbGUgIT09IGxhc3RTYW1wbGUgJiYgc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdIDw9IGFYOyArK2N1cnJlbnRTYW1wbGUpIHtcbiAgICAgICAgICAgIGludGVydmFsU3RhcnQgKz0gS19TQU1QTEVfU1RFUF9TSVpFO1xuICAgICAgICB9XG4gICAgICAgIC0tY3VycmVudFNhbXBsZTtcbiAgICAgICAgZGlzdCA9IChhWCAtIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSkgLyAoc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGUgKyAxXSAtIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSk7XG4gICAgICAgIGd1ZXNzRm9yVCA9IGludGVydmFsU3RhcnQgKyBkaXN0ICogS19TQU1QTEVfU1RFUF9TSVpFO1xuICAgICAgICBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcbiAgICAgICAgaWYgKGluaXRpYWxTbG9wZSA+PSBORVdUT05fTUlOX1NMT1BFKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5pdGlhbFNsb3BlID09PSAwLjApIHtcbiAgICAgICAgICAgIHJldHVybiBndWVzc0ZvclQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYmluYXJ5U3ViZGl2aWRlKGFYLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbFN0YXJ0ICsgS19TQU1QTEVfU1RFUF9TSVpFKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY2FsY1NhbXBsZVZhbHVlcygpO1xuICAgIHZhciByZXNvbHZlciA9IGZ1bmN0aW9uIChhWCkge1xuICAgICAgICB2YXIgcmV0dXJuVmFsdWU7XG4gICAgICAgIGlmIChtWDEgPT09IG1ZMSAmJiBtWDIgPT09IG1ZMikge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBhWDtcbiAgICAgICAgfSBlbHNlIGlmIChhWCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGFYID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm5WYWx1ZSA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm5WYWx1ZSA9IGNhbGNCZXppZXIoZ2V0VEZvclgoYVgpLCBtWTEsIG1ZMik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgIH07XG4gICAgcmV0dXJuIHJlc29sdmVyO1xufVxuXG5leHBvcnQgeyByZXZlcnNlZCwgbWlycm9yZWQsIGNyZWF0ZVJldmVyc2VkRWFzaW5nLCBjcmVhdGVNaXJyb3JlZEVhc2luZywgY3JlYXRlRXhwb0luLCBjcmVhdGVCYWNrSW4sIGNyZWF0ZUFudGljaXBhdGVFYXNpbmcsIGxpbmVhciwgZWFzZUluLCBlYXNlT3V0LCBlYXNlSW5PdXQsIGNpcmNJbiwgY2lyY091dCwgY2lyY0luT3V0LCBiYWNrSW4sIGJhY2tPdXQsIGJhY2tJbk91dCwgYW50aWNpcGF0ZSwgYm91bmNlT3V0LCBib3VuY2VJbiwgYm91bmNlSW5PdXQsIGN1YmljQmV6aWVyIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../node_modules/@popmotion/easing/dist/easing.es.js\n");

/***/ }),

/***/ "../../../node_modules/@popmotion/popcorn/dist/popcorn.es.js":
/*!*******************************************************************!*\
  !*** ../../../node_modules/@popmotion/popcorn/dist/popcorn.es.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createAnticipateEasing\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.createAnticipateEasing),\n/* harmony export */   \"createBackIn\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.createBackIn),\n/* harmony export */   \"createExpoIn\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.createExpoIn),\n/* harmony export */   \"cubicBezier\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.cubicBezier),\n/* harmony export */   \"linear\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.linear),\n/* harmony export */   \"easeIn\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.easeIn),\n/* harmony export */   \"easeOut\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.easeOut),\n/* harmony export */   \"easeInOut\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.easeInOut),\n/* harmony export */   \"circIn\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.circIn),\n/* harmony export */   \"circOut\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.circOut),\n/* harmony export */   \"circInOut\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.circInOut),\n/* harmony export */   \"backIn\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.backIn),\n/* harmony export */   \"backOut\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.backOut),\n/* harmony export */   \"backInOut\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.backInOut),\n/* harmony export */   \"anticipate\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.anticipate),\n/* harmony export */   \"reversed\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.reversed),\n/* harmony export */   \"mirrored\": () => (/* reexport safe */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.mirrored),\n/* harmony export */   \"angle\": () => (/* binding */ angle),\n/* harmony export */   \"applyOffset\": () => (/* binding */ applyOffset),\n/* harmony export */   \"clamp\": () => (/* binding */ clamp$1),\n/* harmony export */   \"conditional\": () => (/* binding */ conditional),\n/* harmony export */   \"degreesToRadians\": () => (/* binding */ degreesToRadians),\n/* harmony export */   \"distance\": () => (/* binding */ distance),\n/* harmony export */   \"interpolate\": () => (/* binding */ interpolate),\n/* harmony export */   \"isPoint\": () => (/* binding */ isPoint),\n/* harmony export */   \"isPoint3D\": () => (/* binding */ isPoint3D),\n/* harmony export */   \"mix\": () => (/* binding */ mix),\n/* harmony export */   \"mixArray\": () => (/* binding */ mixArray),\n/* harmony export */   \"mixColor\": () => (/* binding */ mixColor),\n/* harmony export */   \"mixComplex\": () => (/* binding */ mixComplex),\n/* harmony export */   \"mixObject\": () => (/* binding */ mixObject),\n/* harmony export */   \"pipe\": () => (/* binding */ pipe),\n/* harmony export */   \"pointFromVector\": () => (/* binding */ pointFromVector),\n/* harmony export */   \"progress\": () => (/* binding */ progress),\n/* harmony export */   \"radiansToDegrees\": () => (/* binding */ radiansToDegrees),\n/* harmony export */   \"smooth\": () => (/* binding */ smooth),\n/* harmony export */   \"smoothFrame\": () => (/* binding */ smoothFrame),\n/* harmony export */   \"snap\": () => (/* binding */ snap),\n/* harmony export */   \"springForce\": () => (/* binding */ springForce),\n/* harmony export */   \"springForceExpo\": () => (/* binding */ springForceExpo),\n/* harmony export */   \"springForceLinear\": () => (/* binding */ springForceLinear),\n/* harmony export */   \"steps\": () => (/* binding */ steps),\n/* harmony export */   \"toDecimal\": () => (/* binding */ toDecimal),\n/* harmony export */   \"velocityPerFrame\": () => (/* binding */ velocityPerFrame),\n/* harmony export */   \"velocityPerSecond\": () => (/* binding */ velocityPerSecond),\n/* harmony export */   \"wrap\": () => (/* binding */ wrap$1)\n/* harmony export */ });\n/* harmony import */ var style_value_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! style-value-types */ \"../../../node_modules/style-value-types/dist/style-value-types.es.js\");\n/* harmony import */ var hey_listen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! hey-listen */ \"../../../node_modules/hey-listen/dist/hey-listen.es.js\");\n/* harmony import */ var framesync__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! framesync */ \"../../../node_modules/framesync/dist/framesync.es.js\");\n/* harmony import */ var _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @popmotion/easing */ \"../../../node_modules/@popmotion/easing/dist/easing.es.js\");\n\n\n\n\n\n\nvar zeroPoint = {\r\n    x: 0,\r\n    y: 0,\r\n    z: 0\r\n};\r\nvar isNum = function (v) { return typeof v === 'number'; };\n\nvar radiansToDegrees = (function (radians) { return (radians * 180) / Math.PI; });\n\nvar angle = (function (a, b) {\r\n    if (b === void 0) { b = zeroPoint; }\r\n    return radiansToDegrees(Math.atan2(b.y - a.y, b.x - a.x));\r\n});\n\nvar applyOffset = (function (from, to) {\r\n    var hasReceivedFrom = true;\r\n    if (to === undefined) {\r\n        to = from;\r\n        hasReceivedFrom = false;\r\n    }\r\n    return function (v) {\r\n        if (hasReceivedFrom) {\r\n            return v - from + to;\r\n        }\r\n        else {\r\n            from = v;\r\n            hasReceivedFrom = true;\r\n            return to;\r\n        }\r\n    };\r\n});\n\nvar curryRange = (function (func) { return function (min, max, v) { return (v !== undefined ? func(min, max, v) : function (cv) { return func(min, max, cv); }); }; });\n\nvar clamp = function (min, max, v) {\r\n    return Math.min(Math.max(v, min), max);\r\n};\r\nvar clamp$1 = curryRange(clamp);\n\nvar conditional = (function (check, apply) { return function (v) {\r\n    return check(v) ? apply(v) : v;\r\n}; });\n\nvar degreesToRadians = (function (degrees) { return (degrees * Math.PI) / 180; });\n\nvar isPoint = (function (point) {\r\n    return point.hasOwnProperty('x') && point.hasOwnProperty('y');\r\n});\n\nvar isPoint3D = (function (point) {\r\n    return isPoint(point) && point.hasOwnProperty('z');\r\n});\n\nvar distance1D = function (a, b) { return Math.abs(a - b); };\r\nvar distance = (function (a, b) {\r\n    if (b === void 0) { b = zeroPoint; }\r\n    if (isNum(a) && isNum(b)) {\r\n        return distance1D(a, b);\r\n    }\r\n    else if (isPoint(a) && isPoint(b)) {\r\n        var xDelta = distance1D(a.x, b.x);\r\n        var yDelta = distance1D(a.y, b.y);\r\n        var zDelta = isPoint3D(a) && isPoint3D(b) ? distance1D(a.z, b.z) : 0;\r\n        return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2) + Math.pow(zDelta, 2));\r\n    }\r\n    return 0;\r\n});\n\nvar progress = (function (from, to, value) {\r\n    var toFromDifference = to - from;\r\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\r\n});\n\nvar mix = (function (from, to, progress) {\r\n    return -progress * from + progress * to + from;\r\n});\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar mixLinearColor = function (from, to, v) {\r\n    var fromExpo = from * from;\r\n    var toExpo = to * to;\r\n    return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\r\n};\r\nvar colorTypes = [style_value_types__WEBPACK_IMPORTED_MODULE_0__.hex, style_value_types__WEBPACK_IMPORTED_MODULE_0__.rgba, style_value_types__WEBPACK_IMPORTED_MODULE_0__.hsla];\r\nvar getColorType = function (v) {\r\n    return colorTypes.find(function (type) { return type.test(v); });\r\n};\r\nvar notAnimatable = function (color$$1) {\r\n    return \"'\" + color$$1 + \"' is not an animatable color. Use the equivalent color code instead.\";\r\n};\r\nvar mixColor = (function (from, to) {\r\n    var fromColorType = getColorType(from);\r\n    var toColorType = getColorType(to);\r\n    (0,hey_listen__WEBPACK_IMPORTED_MODULE_1__.invariant)(!!fromColorType, notAnimatable(from));\r\n    (0,hey_listen__WEBPACK_IMPORTED_MODULE_1__.invariant)(!!toColorType, notAnimatable(to));\r\n    (0,hey_listen__WEBPACK_IMPORTED_MODULE_1__.invariant)(fromColorType.transform === toColorType.transform, 'Both colors must be hex/RGBA, OR both must be HSLA.');\r\n    var fromColor = fromColorType.parse(from);\r\n    var toColor = toColorType.parse(to);\r\n    var blended = __assign({}, fromColor);\r\n    var mixFunc = fromColorType === style_value_types__WEBPACK_IMPORTED_MODULE_0__.hsla ? mix : mixLinearColor;\r\n    return function (v) {\r\n        for (var key in blended) {\r\n            if (key !== 'alpha') {\r\n                blended[key] = mixFunc(fromColor[key], toColor[key], v);\r\n            }\r\n        }\r\n        blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\r\n        return fromColorType.transform(blended);\r\n    };\r\n});\n\nvar combineFunctions = function (a, b) { return function (v) { return b(a(v)); }; };\r\nvar pipe = (function () {\r\n    var transformers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        transformers[_i] = arguments[_i];\r\n    }\r\n    return transformers.reduce(combineFunctions);\r\n});\n\nfunction getMixer(origin, target) {\r\n    if (isNum(origin)) {\r\n        return function (v) { return mix(origin, target, v); };\r\n    }\r\n    else if (style_value_types__WEBPACK_IMPORTED_MODULE_0__.color.test(origin)) {\r\n        return mixColor(origin, target);\r\n    }\r\n    else {\r\n        return mixComplex(origin, target);\r\n    }\r\n}\r\nvar mixArray = function (from, to) {\r\n    var output = from.slice();\r\n    var numValues = output.length;\r\n    var blendValue = from.map(function (fromThis, i) { return getMixer(fromThis, to[i]); });\r\n    return function (v) {\r\n        for (var i = 0; i < numValues; i++) {\r\n            output[i] = blendValue[i](v);\r\n        }\r\n        return output;\r\n    };\r\n};\r\nvar mixObject = function (origin, target) {\r\n    var output = __assign({}, origin, target);\r\n    var blendValue = {};\r\n    for (var key in output) {\r\n        if (origin[key] !== undefined && target[key] !== undefined) {\r\n            blendValue[key] = getMixer(origin[key], target[key]);\r\n        }\r\n    }\r\n    return function (v) {\r\n        for (var key in blendValue) {\r\n            output[key] = blendValue[key](v);\r\n        }\r\n        return output;\r\n    };\r\n};\r\nfunction analyse(value) {\r\n    var parsed = style_value_types__WEBPACK_IMPORTED_MODULE_0__.complex.parse(value);\r\n    var numValues = parsed.length;\r\n    var numNumbers = 0;\r\n    var numRGB = 0;\r\n    var numHSL = 0;\r\n    for (var i = 0; i < numValues; i++) {\r\n        if (numNumbers || typeof parsed[i] === 'number') {\r\n            numNumbers++;\r\n        }\r\n        else {\r\n            if (parsed[i].hue !== undefined) {\r\n                numHSL++;\r\n            }\r\n            else {\r\n                numRGB++;\r\n            }\r\n        }\r\n    }\r\n    return { parsed: parsed, numNumbers: numNumbers, numRGB: numRGB, numHSL: numHSL };\r\n}\r\nvar mixComplex = function (origin, target) {\r\n    var template = style_value_types__WEBPACK_IMPORTED_MODULE_0__.complex.createTransformer(target);\r\n    var originStats = analyse(origin);\r\n    var targetStats = analyse(target);\r\n    (0,hey_listen__WEBPACK_IMPORTED_MODULE_1__.invariant)(originStats.numHSL === targetStats.numHSL &&\r\n        originStats.numRGB === targetStats.numRGB &&\r\n        originStats.numNumbers >= targetStats.numNumbers, \"Complex values '\" + origin + \"' and '\" + target + \"' too different to mix. Ensure all colors are of the same type.\");\r\n    return pipe(mixArray(originStats.parsed, targetStats.parsed), template);\r\n};\n\nvar mixNumber = function (from, to) { return function (p) { return mix(from, to, p); }; };\r\nfunction detectMixerFactory(v) {\r\n    if (typeof v === 'number') {\r\n        return mixNumber;\r\n    }\r\n    else if (typeof v === 'string') {\r\n        if (style_value_types__WEBPACK_IMPORTED_MODULE_0__.color.test(v)) {\r\n            return mixColor;\r\n        }\r\n        else {\r\n            return mixComplex;\r\n        }\r\n    }\r\n    else if (Array.isArray(v)) {\r\n        return mixArray;\r\n    }\r\n    else if (typeof v === 'object') {\r\n        return mixObject;\r\n    }\r\n}\r\nfunction createMixers(output, ease, customMixer) {\r\n    var mixers = [];\r\n    var mixerFactory = customMixer || detectMixerFactory(output[0]);\r\n    var numMixers = output.length - 1;\r\n    for (var i = 0; i < numMixers; i++) {\r\n        var mixer = mixerFactory(output[i], output[i + 1]);\r\n        if (ease) {\r\n            var easingFunction = Array.isArray(ease) ? ease[i] : ease;\r\n            mixer = pipe(easingFunction, mixer);\r\n        }\r\n        mixers.push(mixer);\r\n    }\r\n    return mixers;\r\n}\r\nfunction fastInterpolate(_a, _b) {\r\n    var from = _a[0], to = _a[1];\r\n    var mixer = _b[0];\r\n    return function (v) { return mixer(progress(from, to, v)); };\r\n}\r\nfunction slowInterpolate(input, mixers) {\r\n    var inputLength = input.length;\r\n    var lastInputIndex = inputLength - 1;\r\n    return function (v) {\r\n        var mixerIndex = 0;\r\n        var foundMixerIndex = false;\r\n        if (v <= input[0]) {\r\n            foundMixerIndex = true;\r\n        }\r\n        else if (v >= input[lastInputIndex]) {\r\n            mixerIndex = lastInputIndex - 1;\r\n            foundMixerIndex = true;\r\n        }\r\n        if (!foundMixerIndex) {\r\n            var i = 1;\r\n            for (; i < inputLength; i++) {\r\n                if (input[i] > v || i === lastInputIndex) {\r\n                    break;\r\n                }\r\n            }\r\n            mixerIndex = i - 1;\r\n        }\r\n        var progressInRange = progress(input[mixerIndex], input[mixerIndex + 1], v);\r\n        return mixers[mixerIndex](progressInRange);\r\n    };\r\n}\r\nfunction interpolate(input, output, _a) {\r\n    var _b = _a === void 0 ? {} : _a, _c = _b.clamp, clamp = _c === void 0 ? true : _c, ease = _b.ease, mixer = _b.mixer;\r\n    var inputLength = input.length;\r\n    (0,hey_listen__WEBPACK_IMPORTED_MODULE_1__.invariant)(inputLength === output.length, 'Both input and output ranges must be the same length');\r\n    (0,hey_listen__WEBPACK_IMPORTED_MODULE_1__.invariant)(!ease || !Array.isArray(ease) || ease.length === inputLength - 1, 'Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.');\r\n    if (input[0] > input[inputLength - 1]) {\r\n        input = [].concat(input);\r\n        output = [].concat(output);\r\n        input.reverse();\r\n        output.reverse();\r\n    }\r\n    var mixers = createMixers(output, ease, mixer);\r\n    var interpolator = inputLength === 2\r\n        ? fastInterpolate(input, mixers)\r\n        : slowInterpolate(input, mixers);\r\n    return clamp\r\n        ? pipe(clamp$1(input[0], input[inputLength - 1]), interpolator)\r\n        : interpolator;\r\n}\n\nvar pointFromVector = (function (origin, angle, distance) {\r\n    angle = degreesToRadians(angle);\r\n    return {\r\n        x: distance * Math.cos(angle) + origin.x,\r\n        y: distance * Math.sin(angle) + origin.y\r\n    };\r\n});\n\nvar toDecimal = (function (num, precision) {\r\n    if (precision === void 0) { precision = 2; }\r\n    precision = Math.pow(10, precision);\r\n    return Math.round(num * precision) / precision;\r\n});\n\nvar smoothFrame = (function (prevValue, nextValue, duration, smoothing) {\r\n    if (smoothing === void 0) { smoothing = 0; }\r\n    return toDecimal(prevValue +\r\n        (duration * (nextValue - prevValue)) / Math.max(smoothing, duration));\r\n});\n\nvar smooth = (function (strength) {\r\n    if (strength === void 0) { strength = 50; }\r\n    var previousValue = 0;\r\n    var lastUpdated = 0;\r\n    return function (v) {\r\n        var currentFramestamp = (0,framesync__WEBPACK_IMPORTED_MODULE_2__.getFrameData)().timestamp;\r\n        var timeDelta = currentFramestamp !== lastUpdated ? currentFramestamp - lastUpdated : 0;\r\n        var newValue = timeDelta\r\n            ? smoothFrame(previousValue, v, timeDelta, strength)\r\n            : previousValue;\r\n        lastUpdated = currentFramestamp;\r\n        previousValue = newValue;\r\n        return newValue;\r\n    };\r\n});\n\nvar snap = (function (points) {\r\n    if (typeof points === 'number') {\r\n        return function (v) { return Math.round(v / points) * points; };\r\n    }\r\n    else {\r\n        var i_1 = 0;\r\n        var numPoints_1 = points.length;\r\n        return function (v) {\r\n            var lastDistance = Math.abs(points[0] - v);\r\n            for (i_1 = 1; i_1 < numPoints_1; i_1++) {\r\n                var point = points[i_1];\r\n                var distance = Math.abs(point - v);\r\n                if (distance === 0)\r\n                    return point;\r\n                if (distance > lastDistance)\r\n                    return points[i_1 - 1];\r\n                if (i_1 === numPoints_1 - 1)\r\n                    return point;\r\n                lastDistance = distance;\r\n            }\r\n        };\r\n    }\r\n});\n\nvar identity = function (v) { return v; };\r\nvar springForce = function (alterDisplacement) {\r\n    if (alterDisplacement === void 0) { alterDisplacement = identity; }\r\n    return curryRange(function (constant, origin, v) {\r\n        var displacement = origin - v;\r\n        var springModifiedDisplacement = -(0 - constant + 1) * (0 - alterDisplacement(Math.abs(displacement)));\r\n        return displacement <= 0\r\n            ? origin + springModifiedDisplacement\r\n            : origin - springModifiedDisplacement;\r\n    });\r\n};\r\nvar springForceLinear = springForce();\r\nvar springForceExpo = springForce(Math.sqrt);\n\nvar velocityPerFrame = (function (xps, frameDuration) {\r\n    return isNum(xps) ? xps / (1000 / frameDuration) : 0;\r\n});\n\nvar velocityPerSecond = (function (velocity, frameDuration) {\r\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\r\n});\n\nvar wrap = function (min, max, v) {\r\n    var rangeSize = max - min;\r\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\r\n};\r\nvar wrap$1 = curryRange(wrap);\n\nvar clampProgress = clamp$1(0, 1);\r\nvar steps = (function (steps, direction) {\r\n    if (direction === void 0) { direction = 'end'; }\r\n    return function (progress) {\r\n        progress =\r\n            direction === 'end' ? Math.min(progress, 0.999) : Math.max(progress, 0.001);\r\n        var expanded = progress * steps;\r\n        var rounded = direction === 'end' ? Math.floor(expanded) : Math.ceil(expanded);\r\n        return clampProgress(rounded / steps);\r\n    };\r\n});\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb3Btb3Rpb24vcG9wY29ybi9kaXN0L3BvcGNvcm4uZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bwb3Btb3Rpb24vcG9wY29ybi9kaXN0L3BvcGNvcm4uZXMuanM/MGY0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoc2xhLCByZ2JhLCBoZXgsIGNvbG9yLCBjb21wbGV4IH0gZnJvbSAnc3R5bGUtdmFsdWUtdHlwZXMnO1xuaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSAnaGV5LWxpc3Rlbic7XG5pbXBvcnQgeyBnZXRGcmFtZURhdGEgfSBmcm9tICdmcmFtZXN5bmMnO1xuaW1wb3J0IHsgY3JlYXRlQW50aWNpcGF0ZUVhc2luZywgY3JlYXRlQmFja0luLCBjcmVhdGVFeHBvSW4sIGN1YmljQmV6aWVyLCBsaW5lYXIsIGVhc2VJbiwgZWFzZU91dCwgZWFzZUluT3V0LCBjaXJjSW4sIGNpcmNPdXQsIGNpcmNJbk91dCwgYmFja0luLCBiYWNrT3V0LCBiYWNrSW5PdXQsIGFudGljaXBhdGUsIHJldmVyc2VkLCBtaXJyb3JlZCB9IGZyb20gJ0Bwb3Btb3Rpb24vZWFzaW5nJztcbmV4cG9ydCB7IGNyZWF0ZUFudGljaXBhdGVFYXNpbmcsIGNyZWF0ZUJhY2tJbiwgY3JlYXRlRXhwb0luLCBjdWJpY0JlemllciwgbGluZWFyLCBlYXNlSW4sIGVhc2VPdXQsIGVhc2VJbk91dCwgY2lyY0luLCBjaXJjT3V0LCBjaXJjSW5PdXQsIGJhY2tJbiwgYmFja091dCwgYmFja0luT3V0LCBhbnRpY2lwYXRlLCByZXZlcnNlZCwgbWlycm9yZWQgfSBmcm9tICdAcG9wbW90aW9uL2Vhc2luZyc7XG5cbnZhciB6ZXJvUG9pbnQgPSB7XHJcbiAgICB4OiAwLFxyXG4gICAgeTogMCxcclxuICAgIHo6IDBcclxufTtcclxudmFyIGlzTnVtID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHR5cGVvZiB2ID09PSAnbnVtYmVyJzsgfTtcblxudmFyIHJhZGlhbnNUb0RlZ3JlZXMgPSAoZnVuY3Rpb24gKHJhZGlhbnMpIHsgcmV0dXJuIChyYWRpYW5zICogMTgwKSAvIE1hdGguUEk7IH0pO1xuXG52YXIgYW5nbGUgPSAoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgIGlmIChiID09PSB2b2lkIDApIHsgYiA9IHplcm9Qb2ludDsgfVxyXG4gICAgcmV0dXJuIHJhZGlhbnNUb0RlZ3JlZXMoTWF0aC5hdGFuMihiLnkgLSBhLnksIGIueCAtIGEueCkpO1xyXG59KTtcblxudmFyIGFwcGx5T2Zmc2V0ID0gKGZ1bmN0aW9uIChmcm9tLCB0bykge1xyXG4gICAgdmFyIGhhc1JlY2VpdmVkRnJvbSA9IHRydWU7XHJcbiAgICBpZiAodG8gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRvID0gZnJvbTtcclxuICAgICAgICBoYXNSZWNlaXZlZEZyb20gPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgIGlmIChoYXNSZWNlaXZlZEZyb20pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHYgLSBmcm9tICsgdG87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmcm9tID0gdjtcclxuICAgICAgICAgICAgaGFzUmVjZWl2ZWRGcm9tID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRvO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pO1xuXG52YXIgY3VycnlSYW5nZSA9IChmdW5jdGlvbiAoZnVuYykgeyByZXR1cm4gZnVuY3Rpb24gKG1pbiwgbWF4LCB2KSB7IHJldHVybiAodiAhPT0gdW5kZWZpbmVkID8gZnVuYyhtaW4sIG1heCwgdikgOiBmdW5jdGlvbiAoY3YpIHsgcmV0dXJuIGZ1bmMobWluLCBtYXgsIGN2KTsgfSk7IH07IH0pO1xuXG52YXIgY2xhbXAgPSBmdW5jdGlvbiAobWluLCBtYXgsIHYpIHtcclxuICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2LCBtaW4pLCBtYXgpO1xyXG59O1xyXG52YXIgY2xhbXAkMSA9IGN1cnJ5UmFuZ2UoY2xhbXApO1xuXG52YXIgY29uZGl0aW9uYWwgPSAoZnVuY3Rpb24gKGNoZWNrLCBhcHBseSkgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHtcclxuICAgIHJldHVybiBjaGVjayh2KSA/IGFwcGx5KHYpIDogdjtcclxufTsgfSk7XG5cbnZhciBkZWdyZWVzVG9SYWRpYW5zID0gKGZ1bmN0aW9uIChkZWdyZWVzKSB7IHJldHVybiAoZGVncmVlcyAqIE1hdGguUEkpIC8gMTgwOyB9KTtcblxudmFyIGlzUG9pbnQgPSAoZnVuY3Rpb24gKHBvaW50KSB7XHJcbiAgICByZXR1cm4gcG9pbnQuaGFzT3duUHJvcGVydHkoJ3gnKSAmJiBwb2ludC5oYXNPd25Qcm9wZXJ0eSgneScpO1xyXG59KTtcblxudmFyIGlzUG9pbnQzRCA9IChmdW5jdGlvbiAocG9pbnQpIHtcclxuICAgIHJldHVybiBpc1BvaW50KHBvaW50KSAmJiBwb2ludC5oYXNPd25Qcm9wZXJ0eSgneicpO1xyXG59KTtcblxudmFyIGRpc3RhbmNlMUQgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gTWF0aC5hYnMoYSAtIGIpOyB9O1xyXG52YXIgZGlzdGFuY2UgPSAoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgIGlmIChiID09PSB2b2lkIDApIHsgYiA9IHplcm9Qb2ludDsgfVxyXG4gICAgaWYgKGlzTnVtKGEpICYmIGlzTnVtKGIpKSB7XHJcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlMUQoYSwgYik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1BvaW50KGEpICYmIGlzUG9pbnQoYikpIHtcclxuICAgICAgICB2YXIgeERlbHRhID0gZGlzdGFuY2UxRChhLngsIGIueCk7XHJcbiAgICAgICAgdmFyIHlEZWx0YSA9IGRpc3RhbmNlMUQoYS55LCBiLnkpO1xyXG4gICAgICAgIHZhciB6RGVsdGEgPSBpc1BvaW50M0QoYSkgJiYgaXNQb2ludDNEKGIpID8gZGlzdGFuY2UxRChhLnosIGIueikgOiAwO1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coeERlbHRhLCAyKSArIE1hdGgucG93KHlEZWx0YSwgMikgKyBNYXRoLnBvdyh6RGVsdGEsIDIpKTtcclxuICAgIH1cclxuICAgIHJldHVybiAwO1xyXG59KTtcblxudmFyIHByb2dyZXNzID0gKGZ1bmN0aW9uIChmcm9tLCB0bywgdmFsdWUpIHtcclxuICAgIHZhciB0b0Zyb21EaWZmZXJlbmNlID0gdG8gLSBmcm9tO1xyXG4gICAgcmV0dXJuIHRvRnJvbURpZmZlcmVuY2UgPT09IDAgPyAxIDogKHZhbHVlIC0gZnJvbSkgLyB0b0Zyb21EaWZmZXJlbmNlO1xyXG59KTtcblxudmFyIG1peCA9IChmdW5jdGlvbiAoZnJvbSwgdG8sIHByb2dyZXNzKSB7XHJcbiAgICByZXR1cm4gLXByb2dyZXNzICogZnJvbSArIHByb2dyZXNzICogdG8gKyBmcm9tO1xyXG59KTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XG5cbnZhciBtaXhMaW5lYXJDb2xvciA9IGZ1bmN0aW9uIChmcm9tLCB0bywgdikge1xyXG4gICAgdmFyIGZyb21FeHBvID0gZnJvbSAqIGZyb207XHJcbiAgICB2YXIgdG9FeHBvID0gdG8gKiB0bztcclxuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5tYXgoMCwgdiAqICh0b0V4cG8gLSBmcm9tRXhwbykgKyBmcm9tRXhwbykpO1xyXG59O1xyXG52YXIgY29sb3JUeXBlcyA9IFtoZXgsIHJnYmEsIGhzbGFdO1xyXG52YXIgZ2V0Q29sb3JUeXBlID0gZnVuY3Rpb24gKHYpIHtcclxuICAgIHJldHVybiBjb2xvclR5cGVzLmZpbmQoZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIHR5cGUudGVzdCh2KTsgfSk7XHJcbn07XHJcbnZhciBub3RBbmltYXRhYmxlID0gZnVuY3Rpb24gKGNvbG9yJCQxKSB7XHJcbiAgICByZXR1cm4gXCInXCIgKyBjb2xvciQkMSArIFwiJyBpcyBub3QgYW4gYW5pbWF0YWJsZSBjb2xvci4gVXNlIHRoZSBlcXVpdmFsZW50IGNvbG9yIGNvZGUgaW5zdGVhZC5cIjtcclxufTtcclxudmFyIG1peENvbG9yID0gKGZ1bmN0aW9uIChmcm9tLCB0bykge1xyXG4gICAgdmFyIGZyb21Db2xvclR5cGUgPSBnZXRDb2xvclR5cGUoZnJvbSk7XHJcbiAgICB2YXIgdG9Db2xvclR5cGUgPSBnZXRDb2xvclR5cGUodG8pO1xyXG4gICAgaW52YXJpYW50KCEhZnJvbUNvbG9yVHlwZSwgbm90QW5pbWF0YWJsZShmcm9tKSk7XHJcbiAgICBpbnZhcmlhbnQoISF0b0NvbG9yVHlwZSwgbm90QW5pbWF0YWJsZSh0bykpO1xyXG4gICAgaW52YXJpYW50KGZyb21Db2xvclR5cGUudHJhbnNmb3JtID09PSB0b0NvbG9yVHlwZS50cmFuc2Zvcm0sICdCb3RoIGNvbG9ycyBtdXN0IGJlIGhleC9SR0JBLCBPUiBib3RoIG11c3QgYmUgSFNMQS4nKTtcclxuICAgIHZhciBmcm9tQ29sb3IgPSBmcm9tQ29sb3JUeXBlLnBhcnNlKGZyb20pO1xyXG4gICAgdmFyIHRvQ29sb3IgPSB0b0NvbG9yVHlwZS5wYXJzZSh0byk7XHJcbiAgICB2YXIgYmxlbmRlZCA9IF9fYXNzaWduKHt9LCBmcm9tQ29sb3IpO1xyXG4gICAgdmFyIG1peEZ1bmMgPSBmcm9tQ29sb3JUeXBlID09PSBoc2xhID8gbWl4IDogbWl4TGluZWFyQ29sb3I7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gYmxlbmRlZCkge1xyXG4gICAgICAgICAgICBpZiAoa2V5ICE9PSAnYWxwaGEnKSB7XHJcbiAgICAgICAgICAgICAgICBibGVuZGVkW2tleV0gPSBtaXhGdW5jKGZyb21Db2xvcltrZXldLCB0b0NvbG9yW2tleV0sIHYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJsZW5kZWQuYWxwaGEgPSBtaXgoZnJvbUNvbG9yLmFscGhhLCB0b0NvbG9yLmFscGhhLCB2KTtcclxuICAgICAgICByZXR1cm4gZnJvbUNvbG9yVHlwZS50cmFuc2Zvcm0oYmxlbmRlZCk7XHJcbiAgICB9O1xyXG59KTtcblxudmFyIGNvbWJpbmVGdW5jdGlvbnMgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGIoYSh2KSk7IH07IH07XHJcbnZhciBwaXBlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0cmFuc2Zvcm1lcnMgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgdHJhbnNmb3JtZXJzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJhbnNmb3JtZXJzLnJlZHVjZShjb21iaW5lRnVuY3Rpb25zKTtcclxufSk7XG5cbmZ1bmN0aW9uIGdldE1peGVyKG9yaWdpbiwgdGFyZ2V0KSB7XHJcbiAgICBpZiAoaXNOdW0ob3JpZ2luKSkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gbWl4KG9yaWdpbiwgdGFyZ2V0LCB2KTsgfTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGNvbG9yLnRlc3Qob3JpZ2luKSkge1xyXG4gICAgICAgIHJldHVybiBtaXhDb2xvcihvcmlnaW4sIHRhcmdldCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbWl4Q29tcGxleChvcmlnaW4sIHRhcmdldCk7XHJcbiAgICB9XHJcbn1cclxudmFyIG1peEFycmF5ID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XHJcbiAgICB2YXIgb3V0cHV0ID0gZnJvbS5zbGljZSgpO1xyXG4gICAgdmFyIG51bVZhbHVlcyA9IG91dHB1dC5sZW5ndGg7XHJcbiAgICB2YXIgYmxlbmRWYWx1ZSA9IGZyb20ubWFwKGZ1bmN0aW9uIChmcm9tVGhpcywgaSkgeyByZXR1cm4gZ2V0TWl4ZXIoZnJvbVRoaXMsIHRvW2ldKTsgfSk7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVZhbHVlczsgaSsrKSB7XHJcbiAgICAgICAgICAgIG91dHB1dFtpXSA9IGJsZW5kVmFsdWVbaV0odik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9O1xyXG59O1xyXG52YXIgbWl4T2JqZWN0ID0gZnVuY3Rpb24gKG9yaWdpbiwgdGFyZ2V0KSB7XHJcbiAgICB2YXIgb3V0cHV0ID0gX19hc3NpZ24oe30sIG9yaWdpbiwgdGFyZ2V0KTtcclxuICAgIHZhciBibGVuZFZhbHVlID0ge307XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gb3V0cHV0KSB7XHJcbiAgICAgICAgaWYgKG9yaWdpbltrZXldICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBibGVuZFZhbHVlW2tleV0gPSBnZXRNaXhlcihvcmlnaW5ba2V5XSwgdGFyZ2V0W2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBibGVuZFZhbHVlKSB7XHJcbiAgICAgICAgICAgIG91dHB1dFtrZXldID0gYmxlbmRWYWx1ZVtrZXldKHYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfTtcclxufTtcclxuZnVuY3Rpb24gYW5hbHlzZSh2YWx1ZSkge1xyXG4gICAgdmFyIHBhcnNlZCA9IGNvbXBsZXgucGFyc2UodmFsdWUpO1xyXG4gICAgdmFyIG51bVZhbHVlcyA9IHBhcnNlZC5sZW5ndGg7XHJcbiAgICB2YXIgbnVtTnVtYmVycyA9IDA7XHJcbiAgICB2YXIgbnVtUkdCID0gMDtcclxuICAgIHZhciBudW1IU0wgPSAwO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1WYWx1ZXM7IGkrKykge1xyXG4gICAgICAgIGlmIChudW1OdW1iZXJzIHx8IHR5cGVvZiBwYXJzZWRbaV0gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIG51bU51bWJlcnMrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRbaV0uaHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIG51bUhTTCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbnVtUkdCKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4geyBwYXJzZWQ6IHBhcnNlZCwgbnVtTnVtYmVyczogbnVtTnVtYmVycywgbnVtUkdCOiBudW1SR0IsIG51bUhTTDogbnVtSFNMIH07XHJcbn1cclxudmFyIG1peENvbXBsZXggPSBmdW5jdGlvbiAob3JpZ2luLCB0YXJnZXQpIHtcclxuICAgIHZhciB0ZW1wbGF0ZSA9IGNvbXBsZXguY3JlYXRlVHJhbnNmb3JtZXIodGFyZ2V0KTtcclxuICAgIHZhciBvcmlnaW5TdGF0cyA9IGFuYWx5c2Uob3JpZ2luKTtcclxuICAgIHZhciB0YXJnZXRTdGF0cyA9IGFuYWx5c2UodGFyZ2V0KTtcclxuICAgIGludmFyaWFudChvcmlnaW5TdGF0cy5udW1IU0wgPT09IHRhcmdldFN0YXRzLm51bUhTTCAmJlxyXG4gICAgICAgIG9yaWdpblN0YXRzLm51bVJHQiA9PT0gdGFyZ2V0U3RhdHMubnVtUkdCICYmXHJcbiAgICAgICAgb3JpZ2luU3RhdHMubnVtTnVtYmVycyA+PSB0YXJnZXRTdGF0cy5udW1OdW1iZXJzLCBcIkNvbXBsZXggdmFsdWVzICdcIiArIG9yaWdpbiArIFwiJyBhbmQgJ1wiICsgdGFyZ2V0ICsgXCInIHRvbyBkaWZmZXJlbnQgdG8gbWl4LiBFbnN1cmUgYWxsIGNvbG9ycyBhcmUgb2YgdGhlIHNhbWUgdHlwZS5cIik7XHJcbiAgICByZXR1cm4gcGlwZShtaXhBcnJheShvcmlnaW5TdGF0cy5wYXJzZWQsIHRhcmdldFN0YXRzLnBhcnNlZCksIHRlbXBsYXRlKTtcclxufTtcblxudmFyIG1peE51bWJlciA9IGZ1bmN0aW9uIChmcm9tLCB0bykgeyByZXR1cm4gZnVuY3Rpb24gKHApIHsgcmV0dXJuIG1peChmcm9tLCB0bywgcCk7IH07IH07XHJcbmZ1bmN0aW9uIGRldGVjdE1peGVyRmFjdG9yeSh2KSB7XHJcbiAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgcmV0dXJuIG1peE51bWJlcjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGlmIChjb2xvci50ZXN0KHYpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtaXhDb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtaXhDb21wbGV4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodikpIHtcclxuICAgICAgICByZXR1cm4gbWl4QXJyYXk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICByZXR1cm4gbWl4T2JqZWN0O1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZU1peGVycyhvdXRwdXQsIGVhc2UsIGN1c3RvbU1peGVyKSB7XHJcbiAgICB2YXIgbWl4ZXJzID0gW107XHJcbiAgICB2YXIgbWl4ZXJGYWN0b3J5ID0gY3VzdG9tTWl4ZXIgfHwgZGV0ZWN0TWl4ZXJGYWN0b3J5KG91dHB1dFswXSk7XHJcbiAgICB2YXIgbnVtTWl4ZXJzID0gb3V0cHV0Lmxlbmd0aCAtIDE7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bU1peGVyczsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG1peGVyID0gbWl4ZXJGYWN0b3J5KG91dHB1dFtpXSwgb3V0cHV0W2kgKyAxXSk7XHJcbiAgICAgICAgaWYgKGVhc2UpIHtcclxuICAgICAgICAgICAgdmFyIGVhc2luZ0Z1bmN0aW9uID0gQXJyYXkuaXNBcnJheShlYXNlKSA/IGVhc2VbaV0gOiBlYXNlO1xyXG4gICAgICAgICAgICBtaXhlciA9IHBpcGUoZWFzaW5nRnVuY3Rpb24sIG1peGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWl4ZXJzLnB1c2gobWl4ZXIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1peGVycztcclxufVxyXG5mdW5jdGlvbiBmYXN0SW50ZXJwb2xhdGUoX2EsIF9iKSB7XHJcbiAgICB2YXIgZnJvbSA9IF9hWzBdLCB0byA9IF9hWzFdO1xyXG4gICAgdmFyIG1peGVyID0gX2JbMF07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG1peGVyKHByb2dyZXNzKGZyb20sIHRvLCB2KSk7IH07XHJcbn1cclxuZnVuY3Rpb24gc2xvd0ludGVycG9sYXRlKGlucHV0LCBtaXhlcnMpIHtcclxuICAgIHZhciBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcclxuICAgIHZhciBsYXN0SW5wdXRJbmRleCA9IGlucHV0TGVuZ3RoIC0gMTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgIHZhciBtaXhlckluZGV4ID0gMDtcclxuICAgICAgICB2YXIgZm91bmRNaXhlckluZGV4ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHYgPD0gaW5wdXRbMF0pIHtcclxuICAgICAgICAgICAgZm91bmRNaXhlckluZGV4ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodiA+PSBpbnB1dFtsYXN0SW5wdXRJbmRleF0pIHtcclxuICAgICAgICAgICAgbWl4ZXJJbmRleCA9IGxhc3RJbnB1dEluZGV4IC0gMTtcclxuICAgICAgICAgICAgZm91bmRNaXhlckluZGV4ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFmb3VuZE1peGVySW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSAxO1xyXG4gICAgICAgICAgICBmb3IgKDsgaSA8IGlucHV0TGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnB1dFtpXSA+IHYgfHwgaSA9PT0gbGFzdElucHV0SW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtaXhlckluZGV4ID0gaSAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwcm9ncmVzc0luUmFuZ2UgPSBwcm9ncmVzcyhpbnB1dFttaXhlckluZGV4XSwgaW5wdXRbbWl4ZXJJbmRleCArIDFdLCB2KTtcclxuICAgICAgICByZXR1cm4gbWl4ZXJzW21peGVySW5kZXhdKHByb2dyZXNzSW5SYW5nZSk7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGludGVycG9sYXRlKGlucHV0LCBvdXRwdXQsIF9hKSB7XHJcbiAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgX2MgPSBfYi5jbGFtcCwgY2xhbXAgPSBfYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9jLCBlYXNlID0gX2IuZWFzZSwgbWl4ZXIgPSBfYi5taXhlcjtcclxuICAgIHZhciBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcclxuICAgIGludmFyaWFudChpbnB1dExlbmd0aCA9PT0gb3V0cHV0Lmxlbmd0aCwgJ0JvdGggaW5wdXQgYW5kIG91dHB1dCByYW5nZXMgbXVzdCBiZSB0aGUgc2FtZSBsZW5ndGgnKTtcclxuICAgIGludmFyaWFudCghZWFzZSB8fCAhQXJyYXkuaXNBcnJheShlYXNlKSB8fCBlYXNlLmxlbmd0aCA9PT0gaW5wdXRMZW5ndGggLSAxLCAnQXJyYXkgb2YgZWFzaW5nIGZ1bmN0aW9ucyBtdXN0IGJlIG9mIGxlbmd0aCBgaW5wdXQubGVuZ3RoIC0gMWAsIGFzIGl0IGFwcGxpZXMgdG8gdGhlIHRyYW5zaXRpb25zICoqYmV0d2VlbioqIHRoZSBkZWZpbmVkIHZhbHVlcy4nKTtcclxuICAgIGlmIChpbnB1dFswXSA+IGlucHV0W2lucHV0TGVuZ3RoIC0gMV0pIHtcclxuICAgICAgICBpbnB1dCA9IFtdLmNvbmNhdChpbnB1dCk7XHJcbiAgICAgICAgb3V0cHV0ID0gW10uY29uY2F0KG91dHB1dCk7XHJcbiAgICAgICAgaW5wdXQucmV2ZXJzZSgpO1xyXG4gICAgICAgIG91dHB1dC5yZXZlcnNlKCk7XHJcbiAgICB9XHJcbiAgICB2YXIgbWl4ZXJzID0gY3JlYXRlTWl4ZXJzKG91dHB1dCwgZWFzZSwgbWl4ZXIpO1xyXG4gICAgdmFyIGludGVycG9sYXRvciA9IGlucHV0TGVuZ3RoID09PSAyXHJcbiAgICAgICAgPyBmYXN0SW50ZXJwb2xhdGUoaW5wdXQsIG1peGVycylcclxuICAgICAgICA6IHNsb3dJbnRlcnBvbGF0ZShpbnB1dCwgbWl4ZXJzKTtcclxuICAgIHJldHVybiBjbGFtcFxyXG4gICAgICAgID8gcGlwZShjbGFtcCQxKGlucHV0WzBdLCBpbnB1dFtpbnB1dExlbmd0aCAtIDFdKSwgaW50ZXJwb2xhdG9yKVxyXG4gICAgICAgIDogaW50ZXJwb2xhdG9yO1xyXG59XG5cbnZhciBwb2ludEZyb21WZWN0b3IgPSAoZnVuY3Rpb24gKG9yaWdpbiwgYW5nbGUsIGRpc3RhbmNlKSB7XHJcbiAgICBhbmdsZSA9IGRlZ3JlZXNUb1JhZGlhbnMoYW5nbGUpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB4OiBkaXN0YW5jZSAqIE1hdGguY29zKGFuZ2xlKSArIG9yaWdpbi54LFxyXG4gICAgICAgIHk6IGRpc3RhbmNlICogTWF0aC5zaW4oYW5nbGUpICsgb3JpZ2luLnlcclxuICAgIH07XHJcbn0pO1xuXG52YXIgdG9EZWNpbWFsID0gKGZ1bmN0aW9uIChudW0sIHByZWNpc2lvbikge1xyXG4gICAgaWYgKHByZWNpc2lvbiA9PT0gdm9pZCAwKSB7IHByZWNpc2lvbiA9IDI7IH1cclxuICAgIHByZWNpc2lvbiA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24pO1xyXG4gICAgcmV0dXJuIE1hdGgucm91bmQobnVtICogcHJlY2lzaW9uKSAvIHByZWNpc2lvbjtcclxufSk7XG5cbnZhciBzbW9vdGhGcmFtZSA9IChmdW5jdGlvbiAocHJldlZhbHVlLCBuZXh0VmFsdWUsIGR1cmF0aW9uLCBzbW9vdGhpbmcpIHtcclxuICAgIGlmIChzbW9vdGhpbmcgPT09IHZvaWQgMCkgeyBzbW9vdGhpbmcgPSAwOyB9XHJcbiAgICByZXR1cm4gdG9EZWNpbWFsKHByZXZWYWx1ZSArXHJcbiAgICAgICAgKGR1cmF0aW9uICogKG5leHRWYWx1ZSAtIHByZXZWYWx1ZSkpIC8gTWF0aC5tYXgoc21vb3RoaW5nLCBkdXJhdGlvbikpO1xyXG59KTtcblxudmFyIHNtb290aCA9IChmdW5jdGlvbiAoc3RyZW5ndGgpIHtcclxuICAgIGlmIChzdHJlbmd0aCA9PT0gdm9pZCAwKSB7IHN0cmVuZ3RoID0gNTA7IH1cclxuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gMDtcclxuICAgIHZhciBsYXN0VXBkYXRlZCA9IDA7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICB2YXIgY3VycmVudEZyYW1lc3RhbXAgPSBnZXRGcmFtZURhdGEoKS50aW1lc3RhbXA7XHJcbiAgICAgICAgdmFyIHRpbWVEZWx0YSA9IGN1cnJlbnRGcmFtZXN0YW1wICE9PSBsYXN0VXBkYXRlZCA/IGN1cnJlbnRGcmFtZXN0YW1wIC0gbGFzdFVwZGF0ZWQgOiAwO1xyXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IHRpbWVEZWx0YVxyXG4gICAgICAgICAgICA/IHNtb290aEZyYW1lKHByZXZpb3VzVmFsdWUsIHYsIHRpbWVEZWx0YSwgc3RyZW5ndGgpXHJcbiAgICAgICAgICAgIDogcHJldmlvdXNWYWx1ZTtcclxuICAgICAgICBsYXN0VXBkYXRlZCA9IGN1cnJlbnRGcmFtZXN0YW1wO1xyXG4gICAgICAgIHByZXZpb3VzVmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICByZXR1cm4gbmV3VmFsdWU7XHJcbiAgICB9O1xyXG59KTtcblxudmFyIHNuYXAgPSAoZnVuY3Rpb24gKHBvaW50cykge1xyXG4gICAgaWYgKHR5cGVvZiBwb2ludHMgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBNYXRoLnJvdW5kKHYgLyBwb2ludHMpICogcG9pbnRzOyB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGlfMSA9IDA7XHJcbiAgICAgICAgdmFyIG51bVBvaW50c18xID0gcG9pbnRzLmxlbmd0aDtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3REaXN0YW5jZSA9IE1hdGguYWJzKHBvaW50c1swXSAtIHYpO1xyXG4gICAgICAgICAgICBmb3IgKGlfMSA9IDE7IGlfMSA8IG51bVBvaW50c18xOyBpXzErKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvaW50ID0gcG9pbnRzW2lfMV07XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLmFicyhwb2ludCAtIHYpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludDtcclxuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA+IGxhc3REaXN0YW5jZSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnRzW2lfMSAtIDFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlfMSA9PT0gbnVtUG9pbnRzXzEgLSAxKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludDtcclxuICAgICAgICAgICAgICAgIGxhc3REaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufSk7XG5cbnZhciBpZGVudGl0eSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiB2OyB9O1xyXG52YXIgc3ByaW5nRm9yY2UgPSBmdW5jdGlvbiAoYWx0ZXJEaXNwbGFjZW1lbnQpIHtcclxuICAgIGlmIChhbHRlckRpc3BsYWNlbWVudCA9PT0gdm9pZCAwKSB7IGFsdGVyRGlzcGxhY2VtZW50ID0gaWRlbnRpdHk7IH1cclxuICAgIHJldHVybiBjdXJyeVJhbmdlKGZ1bmN0aW9uIChjb25zdGFudCwgb3JpZ2luLCB2KSB7XHJcbiAgICAgICAgdmFyIGRpc3BsYWNlbWVudCA9IG9yaWdpbiAtIHY7XHJcbiAgICAgICAgdmFyIHNwcmluZ01vZGlmaWVkRGlzcGxhY2VtZW50ID0gLSgwIC0gY29uc3RhbnQgKyAxKSAqICgwIC0gYWx0ZXJEaXNwbGFjZW1lbnQoTWF0aC5hYnMoZGlzcGxhY2VtZW50KSkpO1xyXG4gICAgICAgIHJldHVybiBkaXNwbGFjZW1lbnQgPD0gMFxyXG4gICAgICAgICAgICA/IG9yaWdpbiArIHNwcmluZ01vZGlmaWVkRGlzcGxhY2VtZW50XHJcbiAgICAgICAgICAgIDogb3JpZ2luIC0gc3ByaW5nTW9kaWZpZWREaXNwbGFjZW1lbnQ7XHJcbiAgICB9KTtcclxufTtcclxudmFyIHNwcmluZ0ZvcmNlTGluZWFyID0gc3ByaW5nRm9yY2UoKTtcclxudmFyIHNwcmluZ0ZvcmNlRXhwbyA9IHNwcmluZ0ZvcmNlKE1hdGguc3FydCk7XG5cbnZhciB2ZWxvY2l0eVBlckZyYW1lID0gKGZ1bmN0aW9uICh4cHMsIGZyYW1lRHVyYXRpb24pIHtcclxuICAgIHJldHVybiBpc051bSh4cHMpID8geHBzIC8gKDEwMDAgLyBmcmFtZUR1cmF0aW9uKSA6IDA7XHJcbn0pO1xuXG52YXIgdmVsb2NpdHlQZXJTZWNvbmQgPSAoZnVuY3Rpb24gKHZlbG9jaXR5LCBmcmFtZUR1cmF0aW9uKSB7XHJcbiAgICByZXR1cm4gZnJhbWVEdXJhdGlvbiA/IHZlbG9jaXR5ICogKDEwMDAgLyBmcmFtZUR1cmF0aW9uKSA6IDA7XHJcbn0pO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uIChtaW4sIG1heCwgdikge1xyXG4gICAgdmFyIHJhbmdlU2l6ZSA9IG1heCAtIG1pbjtcclxuICAgIHJldHVybiAoKCgodiAtIG1pbikgJSByYW5nZVNpemUpICsgcmFuZ2VTaXplKSAlIHJhbmdlU2l6ZSkgKyBtaW47XHJcbn07XHJcbnZhciB3cmFwJDEgPSBjdXJyeVJhbmdlKHdyYXApO1xuXG52YXIgY2xhbXBQcm9ncmVzcyA9IGNsYW1wJDEoMCwgMSk7XHJcbnZhciBzdGVwcyA9IChmdW5jdGlvbiAoc3RlcHMsIGRpcmVjdGlvbikge1xyXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gdm9pZCAwKSB7IGRpcmVjdGlvbiA9ICdlbmQnOyB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHByb2dyZXNzKSB7XHJcbiAgICAgICAgcHJvZ3Jlc3MgPVxyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPT09ICdlbmQnID8gTWF0aC5taW4ocHJvZ3Jlc3MsIDAuOTk5KSA6IE1hdGgubWF4KHByb2dyZXNzLCAwLjAwMSk7XHJcbiAgICAgICAgdmFyIGV4cGFuZGVkID0gcHJvZ3Jlc3MgKiBzdGVwcztcclxuICAgICAgICB2YXIgcm91bmRlZCA9IGRpcmVjdGlvbiA9PT0gJ2VuZCcgPyBNYXRoLmZsb29yKGV4cGFuZGVkKSA6IE1hdGguY2VpbChleHBhbmRlZCk7XHJcbiAgICAgICAgcmV0dXJuIGNsYW1wUHJvZ3Jlc3Mocm91bmRlZCAvIHN0ZXBzKTtcclxuICAgIH07XHJcbn0pO1xuXG5leHBvcnQgeyBhbmdsZSwgYXBwbHlPZmZzZXQsIGNsYW1wJDEgYXMgY2xhbXAsIGNvbmRpdGlvbmFsLCBkZWdyZWVzVG9SYWRpYW5zLCBkaXN0YW5jZSwgaW50ZXJwb2xhdGUsIGlzUG9pbnQsIGlzUG9pbnQzRCwgbWl4LCBtaXhBcnJheSwgbWl4Q29sb3IsIG1peENvbXBsZXgsIG1peE9iamVjdCwgcGlwZSwgcG9pbnRGcm9tVmVjdG9yLCBwcm9ncmVzcywgcmFkaWFuc1RvRGVncmVlcywgc21vb3RoLCBzbW9vdGhGcmFtZSwgc25hcCwgc3ByaW5nRm9yY2UsIHNwcmluZ0ZvcmNlRXhwbywgc3ByaW5nRm9yY2VMaW5lYXIsIHN0ZXBzLCB0b0RlY2ltYWwsIHZlbG9jaXR5UGVyRnJhbWUsIHZlbG9jaXR5UGVyU2Vjb25kLCB3cmFwJDEgYXMgd3JhcCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../node_modules/@popmotion/popcorn/dist/popcorn.es.js\n");

/***/ }),

/***/ "../../../node_modules/object-assign/index.js":
/*!****************************************************!*\
  !*** ../../../node_modules/object-assign/index.js ***!
  \****************************************************/
/***/ ((module) => {

"use strict";
eval("/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzPzNlMTMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../node_modules/object-assign/index.js\n");

/***/ }),

/***/ "../../../node_modules/object-inspect/index.js":
/*!*****************************************************!*\
  !*** ../../../node_modules/object-inspect/index.js ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar inspectCustom = (__webpack_require__(/*! ./util.inspect */ \"?4860\").custom);\nvar inspectSymbol = inspectCustom && isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function') {\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if ('cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function') {\n            return obj[inspectSymbol]();\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        mapForEach.call(obj, function (value, key) {\n            mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n        });\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        setForEach.call(obj, function (value) {\n            setParts.push(inspect(value, obj));\n        });\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC1pbnNwZWN0L2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vYmplY3QtaW5zcGVjdC9pbmRleC5qcz82NDhlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBoYXNNYXAgPSB0eXBlb2YgTWFwID09PSAnZnVuY3Rpb24nICYmIE1hcC5wcm90b3R5cGU7XG52YXIgbWFwU2l6ZURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmIGhhc01hcCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTWFwLnByb3RvdHlwZSwgJ3NpemUnKSA6IG51bGw7XG52YXIgbWFwU2l6ZSA9IGhhc01hcCAmJiBtYXBTaXplRGVzY3JpcHRvciAmJiB0eXBlb2YgbWFwU2l6ZURlc2NyaXB0b3IuZ2V0ID09PSAnZnVuY3Rpb24nID8gbWFwU2l6ZURlc2NyaXB0b3IuZ2V0IDogbnVsbDtcbnZhciBtYXBGb3JFYWNoID0gaGFzTWFwICYmIE1hcC5wcm90b3R5cGUuZm9yRWFjaDtcbnZhciBoYXNTZXQgPSB0eXBlb2YgU2V0ID09PSAnZnVuY3Rpb24nICYmIFNldC5wcm90b3R5cGU7XG52YXIgc2V0U2l6ZURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmIGhhc1NldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoU2V0LnByb3RvdHlwZSwgJ3NpemUnKSA6IG51bGw7XG52YXIgc2V0U2l6ZSA9IGhhc1NldCAmJiBzZXRTaXplRGVzY3JpcHRvciAmJiB0eXBlb2Ygc2V0U2l6ZURlc2NyaXB0b3IuZ2V0ID09PSAnZnVuY3Rpb24nID8gc2V0U2l6ZURlc2NyaXB0b3IuZ2V0IDogbnVsbDtcbnZhciBzZXRGb3JFYWNoID0gaGFzU2V0ICYmIFNldC5wcm90b3R5cGUuZm9yRWFjaDtcbnZhciBoYXNXZWFrTWFwID0gdHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbicgJiYgV2Vha01hcC5wcm90b3R5cGU7XG52YXIgd2Vha01hcEhhcyA9IGhhc1dlYWtNYXAgPyBXZWFrTWFwLnByb3RvdHlwZS5oYXMgOiBudWxsO1xudmFyIGhhc1dlYWtTZXQgPSB0eXBlb2YgV2Vha1NldCA9PT0gJ2Z1bmN0aW9uJyAmJiBXZWFrU2V0LnByb3RvdHlwZTtcbnZhciB3ZWFrU2V0SGFzID0gaGFzV2Vha1NldCA/IFdlYWtTZXQucHJvdG90eXBlLmhhcyA6IG51bGw7XG52YXIgaGFzV2Vha1JlZiA9IHR5cGVvZiBXZWFrUmVmID09PSAnZnVuY3Rpb24nICYmIFdlYWtSZWYucHJvdG90eXBlO1xudmFyIHdlYWtSZWZEZXJlZiA9IGhhc1dlYWtSZWYgPyBXZWFrUmVmLnByb3RvdHlwZS5kZXJlZiA6IG51bGw7XG52YXIgYm9vbGVhblZhbHVlT2YgPSBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mO1xudmFyIG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciBmdW5jdGlvblRvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyICRtYXRjaCA9IFN0cmluZy5wcm90b3R5cGUubWF0Y2g7XG52YXIgJHNsaWNlID0gU3RyaW5nLnByb3RvdHlwZS5zbGljZTtcbnZhciAkcmVwbGFjZSA9IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZTtcbnZhciAkdG9VcHBlckNhc2UgPSBTdHJpbmcucHJvdG90eXBlLnRvVXBwZXJDYXNlO1xudmFyICR0b0xvd2VyQ2FzZSA9IFN0cmluZy5wcm90b3R5cGUudG9Mb3dlckNhc2U7XG52YXIgJHRlc3QgPSBSZWdFeHAucHJvdG90eXBlLnRlc3Q7XG52YXIgJGNvbmNhdCA9IEFycmF5LnByb3RvdHlwZS5jb25jYXQ7XG52YXIgJGpvaW4gPSBBcnJheS5wcm90b3R5cGUuam9pbjtcbnZhciAkYXJyU2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgJGZsb29yID0gTWF0aC5mbG9vcjtcbnZhciBiaWdJbnRWYWx1ZU9mID0gdHlwZW9mIEJpZ0ludCA9PT0gJ2Z1bmN0aW9uJyA/IEJpZ0ludC5wcm90b3R5cGUudmFsdWVPZiA6IG51bGw7XG52YXIgZ09QUyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgc3ltVG9TdHJpbmcgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdzeW1ib2wnID8gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZyA6IG51bGw7XG52YXIgaGFzU2hhbW1lZFN5bWJvbHMgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdvYmplY3QnO1xuLy8gaWUsIGBoYXMtdG9zdHJpbmd0YWcvc2hhbXNcbnZhciB0b1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLnRvU3RyaW5nVGFnICYmICh0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSBoYXNTaGFtbWVkU3ltYm9scyA/ICdvYmplY3QnIDogJ3N5bWJvbCcpXG4gICAgPyBTeW1ib2wudG9TdHJpbmdUYWdcbiAgICA6IG51bGw7XG52YXIgaXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxudmFyIGdQTyA9ICh0eXBlb2YgUmVmbGVjdCA9PT0gJ2Z1bmN0aW9uJyA/IFJlZmxlY3QuZ2V0UHJvdG90eXBlT2YgOiBPYmplY3QuZ2V0UHJvdG90eXBlT2YpIHx8IChcbiAgICBbXS5fX3Byb3RvX18gPT09IEFycmF5LnByb3RvdHlwZSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvXG4gICAgICAgID8gZnVuY3Rpb24gKE8pIHtcbiAgICAgICAgICAgIHJldHVybiBPLl9fcHJvdG9fXzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wcm90b1xuICAgICAgICB9XG4gICAgICAgIDogbnVsbFxuKTtcblxuZnVuY3Rpb24gYWRkTnVtZXJpY1NlcGFyYXRvcihudW0sIHN0cikge1xuICAgIGlmIChcbiAgICAgICAgbnVtID09PSBJbmZpbml0eVxuICAgICAgICB8fCBudW0gPT09IC1JbmZpbml0eVxuICAgICAgICB8fCBudW0gIT09IG51bVxuICAgICAgICB8fCAobnVtICYmIG51bSA+IC0xMDAwICYmIG51bSA8IDEwMDApXG4gICAgICAgIHx8ICR0ZXN0LmNhbGwoL2UvLCBzdHIpXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIHZhciBzZXBSZWdleCA9IC9bMC05XSg/PSg/OlswLTldezN9KSsoPyFbMC05XSkpL2c7XG4gICAgaWYgKHR5cGVvZiBudW0gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBpbnQgPSBudW0gPCAwID8gLSRmbG9vcigtbnVtKSA6ICRmbG9vcihudW0pOyAvLyB0cnVuYyhudW0pXG4gICAgICAgIGlmIChpbnQgIT09IG51bSkge1xuICAgICAgICAgICAgdmFyIGludFN0ciA9IFN0cmluZyhpbnQpO1xuICAgICAgICAgICAgdmFyIGRlYyA9ICRzbGljZS5jYWxsKHN0ciwgaW50U3RyLmxlbmd0aCArIDEpO1xuICAgICAgICAgICAgcmV0dXJuICRyZXBsYWNlLmNhbGwoaW50U3RyLCBzZXBSZWdleCwgJyQmXycpICsgJy4nICsgJHJlcGxhY2UuY2FsbCgkcmVwbGFjZS5jYWxsKGRlYywgLyhbMC05XXszfSkvZywgJyQmXycpLCAvXyQvLCAnJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICRyZXBsYWNlLmNhbGwoc3RyLCBzZXBSZWdleCwgJyQmXycpO1xufVxuXG52YXIgaW5zcGVjdEN1c3RvbSA9IHJlcXVpcmUoJy4vdXRpbC5pbnNwZWN0JykuY3VzdG9tO1xudmFyIGluc3BlY3RTeW1ib2wgPSBpbnNwZWN0Q3VzdG9tICYmIGlzU3ltYm9sKGluc3BlY3RDdXN0b20pID8gaW5zcGVjdEN1c3RvbSA6IG51bGw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5zcGVjdF8ob2JqLCBvcHRpb25zLCBkZXB0aCwgc2Vlbikge1xuICAgIHZhciBvcHRzID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIGlmIChoYXMob3B0cywgJ3F1b3RlU3R5bGUnKSAmJiAob3B0cy5xdW90ZVN0eWxlICE9PSAnc2luZ2xlJyAmJiBvcHRzLnF1b3RlU3R5bGUgIT09ICdkb3VibGUnKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gXCJxdW90ZVN0eWxlXCIgbXVzdCBiZSBcInNpbmdsZVwiIG9yIFwiZG91YmxlXCInKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgICBoYXMob3B0cywgJ21heFN0cmluZ0xlbmd0aCcpICYmICh0eXBlb2Ygb3B0cy5tYXhTdHJpbmdMZW5ndGggPT09ICdudW1iZXInXG4gICAgICAgICAgICA/IG9wdHMubWF4U3RyaW5nTGVuZ3RoIDwgMCAmJiBvcHRzLm1heFN0cmluZ0xlbmd0aCAhPT0gSW5maW5pdHlcbiAgICAgICAgICAgIDogb3B0cy5tYXhTdHJpbmdMZW5ndGggIT09IG51bGxcbiAgICAgICAgKVxuICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gXCJtYXhTdHJpbmdMZW5ndGhcIiwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLCBJbmZpbml0eSwgb3IgYG51bGxgJyk7XG4gICAgfVxuICAgIHZhciBjdXN0b21JbnNwZWN0ID0gaGFzKG9wdHMsICdjdXN0b21JbnNwZWN0JykgPyBvcHRzLmN1c3RvbUluc3BlY3QgOiB0cnVlO1xuICAgIGlmICh0eXBlb2YgY3VzdG9tSW5zcGVjdCAhPT0gJ2Jvb2xlYW4nICYmIGN1c3RvbUluc3BlY3QgIT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBcImN1c3RvbUluc3BlY3RcIiwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYHRydWVgLCBgZmFsc2VgLCBvciBgXFwnc3ltYm9sXFwnYCcpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICAgaGFzKG9wdHMsICdpbmRlbnQnKVxuICAgICAgICAmJiBvcHRzLmluZGVudCAhPT0gbnVsbFxuICAgICAgICAmJiBvcHRzLmluZGVudCAhPT0gJ1xcdCdcbiAgICAgICAgJiYgIShwYXJzZUludChvcHRzLmluZGVudCwgMTApID09PSBvcHRzLmluZGVudCAmJiBvcHRzLmluZGVudCA+IDApXG4gICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBcImluZGVudFwiIG11c3QgYmUgXCJcXFxcdFwiLCBhbiBpbnRlZ2VyID4gMCwgb3IgYG51bGxgJyk7XG4gICAgfVxuICAgIGlmIChoYXMob3B0cywgJ251bWVyaWNTZXBhcmF0b3InKSAmJiB0eXBlb2Ygb3B0cy5udW1lcmljU2VwYXJhdG9yICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIFwibnVtZXJpY1NlcGFyYXRvclwiLCBpZiBwcm92aWRlZCwgbXVzdCBiZSBgdHJ1ZWAgb3IgYGZhbHNlYCcpO1xuICAgIH1cbiAgICB2YXIgbnVtZXJpY1NlcGFyYXRvciA9IG9wdHMubnVtZXJpY1NlcGFyYXRvcjtcblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gICAgfVxuICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gb2JqID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGluc3BlY3RTdHJpbmcob2JqLCBvcHRzKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChvYmogPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBJbmZpbml0eSAvIG9iaiA+IDAgPyAnMCcgOiAnLTAnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHIgPSBTdHJpbmcob2JqKTtcbiAgICAgICAgcmV0dXJuIG51bWVyaWNTZXBhcmF0b3IgPyBhZGROdW1lcmljU2VwYXJhdG9yKG9iaiwgc3RyKSA6IHN0cjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdiaWdpbnQnKSB7XG4gICAgICAgIHZhciBiaWdJbnRTdHIgPSBTdHJpbmcob2JqKSArICduJztcbiAgICAgICAgcmV0dXJuIG51bWVyaWNTZXBhcmF0b3IgPyBhZGROdW1lcmljU2VwYXJhdG9yKG9iaiwgYmlnSW50U3RyKSA6IGJpZ0ludFN0cjtcbiAgICB9XG5cbiAgICB2YXIgbWF4RGVwdGggPSB0eXBlb2Ygb3B0cy5kZXB0aCA9PT0gJ3VuZGVmaW5lZCcgPyA1IDogb3B0cy5kZXB0aDtcbiAgICBpZiAodHlwZW9mIGRlcHRoID09PSAndW5kZWZpbmVkJykgeyBkZXB0aCA9IDA7IH1cbiAgICBpZiAoZGVwdGggPj0gbWF4RGVwdGggJiYgbWF4RGVwdGggPiAwICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KG9iaikgPyAnW0FycmF5XScgOiAnW09iamVjdF0nO1xuICAgIH1cblxuICAgIHZhciBpbmRlbnQgPSBnZXRJbmRlbnQob3B0cywgZGVwdGgpO1xuXG4gICAgaWYgKHR5cGVvZiBzZWVuID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWVuID0gW107XG4gICAgfSBlbHNlIGlmIChpbmRleE9mKHNlZW4sIG9iaikgPj0gMCkge1xuICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3BlY3QodmFsdWUsIGZyb20sIG5vSW5kZW50KSB7XG4gICAgICAgIGlmIChmcm9tKSB7XG4gICAgICAgICAgICBzZWVuID0gJGFyclNsaWNlLmNhbGwoc2Vlbik7XG4gICAgICAgICAgICBzZWVuLnB1c2goZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vSW5kZW50KSB7XG4gICAgICAgICAgICB2YXIgbmV3T3B0cyA9IHtcbiAgICAgICAgICAgICAgICBkZXB0aDogb3B0cy5kZXB0aFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChoYXMob3B0cywgJ3F1b3RlU3R5bGUnKSkge1xuICAgICAgICAgICAgICAgIG5ld09wdHMucXVvdGVTdHlsZSA9IG9wdHMucXVvdGVTdHlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnNwZWN0Xyh2YWx1ZSwgbmV3T3B0cywgZGVwdGggKyAxLCBzZWVuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zcGVjdF8odmFsdWUsIG9wdHMsIGRlcHRoICsgMSwgc2Vlbik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBuYW1lT2Yob2JqKTtcbiAgICAgICAgdmFyIGtleXMgPSBhcnJPYmpLZXlzKG9iaiwgaW5zcGVjdCk7XG4gICAgICAgIHJldHVybiAnW0Z1bmN0aW9uJyArIChuYW1lID8gJzogJyArIG5hbWUgOiAnIChhbm9ueW1vdXMpJykgKyAnXScgKyAoa2V5cy5sZW5ndGggPiAwID8gJyB7ICcgKyAkam9pbi5jYWxsKGtleXMsICcsICcpICsgJyB9JyA6ICcnKTtcbiAgICB9XG4gICAgaWYgKGlzU3ltYm9sKG9iaikpIHtcbiAgICAgICAgdmFyIHN5bVN0cmluZyA9IGhhc1NoYW1tZWRTeW1ib2xzID8gJHJlcGxhY2UuY2FsbChTdHJpbmcob2JqKSwgL14oU3ltYm9sXFwoLipcXCkpX1teKV0qJC8sICckMScpIDogc3ltVG9TdHJpbmcuY2FsbChvYmopO1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgIWhhc1NoYW1tZWRTeW1ib2xzID8gbWFya0JveGVkKHN5bVN0cmluZykgOiBzeW1TdHJpbmc7XG4gICAgfVxuICAgIGlmIChpc0VsZW1lbnQob2JqKSkge1xuICAgICAgICB2YXIgcyA9ICc8JyArICR0b0xvd2VyQ2FzZS5jYWxsKFN0cmluZyhvYmoubm9kZU5hbWUpKTtcbiAgICAgICAgdmFyIGF0dHJzID0gb2JqLmF0dHJpYnV0ZXMgfHwgW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHMgKz0gJyAnICsgYXR0cnNbaV0ubmFtZSArICc9JyArIHdyYXBRdW90ZXMocXVvdGUoYXR0cnNbaV0udmFsdWUpLCAnZG91YmxlJywgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcyArPSAnPic7XG4gICAgICAgIGlmIChvYmouY2hpbGROb2RlcyAmJiBvYmouY2hpbGROb2Rlcy5sZW5ndGgpIHsgcyArPSAnLi4uJzsgfVxuICAgICAgICBzICs9ICc8LycgKyAkdG9Mb3dlckNhc2UuY2FsbChTdHJpbmcob2JqLm5vZGVOYW1lKSkgKyAnPic7XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgIGlmIChvYmoubGVuZ3RoID09PSAwKSB7IHJldHVybiAnW10nOyB9XG4gICAgICAgIHZhciB4cyA9IGFyck9iaktleXMob2JqLCBpbnNwZWN0KTtcbiAgICAgICAgaWYgKGluZGVudCAmJiAhc2luZ2xlTGluZVZhbHVlcyh4cykpIHtcbiAgICAgICAgICAgIHJldHVybiAnWycgKyBpbmRlbnRlZEpvaW4oeHMsIGluZGVudCkgKyAnXSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdbICcgKyAkam9pbi5jYWxsKHhzLCAnLCAnKSArICcgXSc7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKG9iaikpIHtcbiAgICAgICAgdmFyIHBhcnRzID0gYXJyT2JqS2V5cyhvYmosIGluc3BlY3QpO1xuICAgICAgICBpZiAoJ2NhdXNlJyBpbiBvYmogJiYgIWlzRW51bWVyYWJsZS5jYWxsKG9iaiwgJ2NhdXNlJykpIHtcbiAgICAgICAgICAgIHJldHVybiAneyBbJyArIFN0cmluZyhvYmopICsgJ10gJyArICRqb2luLmNhbGwoJGNvbmNhdC5jYWxsKCdbY2F1c2VdOiAnICsgaW5zcGVjdChvYmouY2F1c2UpLCBwYXJ0cyksICcsICcpICsgJyB9JztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7IHJldHVybiAnWycgKyBTdHJpbmcob2JqKSArICddJzsgfVxuICAgICAgICByZXR1cm4gJ3sgWycgKyBTdHJpbmcob2JqKSArICddICcgKyAkam9pbi5jYWxsKHBhcnRzLCAnLCAnKSArICcgfSc7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBjdXN0b21JbnNwZWN0KSB7XG4gICAgICAgIGlmIChpbnNwZWN0U3ltYm9sICYmIHR5cGVvZiBvYmpbaW5zcGVjdFN5bWJvbF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmpbaW5zcGVjdFN5bWJvbF0oKTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXN0b21JbnNwZWN0ICE9PSAnc3ltYm9sJyAmJiB0eXBlb2Ygb2JqLmluc3BlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmouaW5zcGVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc01hcChvYmopKSB7XG4gICAgICAgIHZhciBtYXBQYXJ0cyA9IFtdO1xuICAgICAgICBtYXBGb3JFYWNoLmNhbGwob2JqLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgICAgbWFwUGFydHMucHVzaChpbnNwZWN0KGtleSwgb2JqLCB0cnVlKSArICcgPT4gJyArIGluc3BlY3QodmFsdWUsIG9iaikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25PZignTWFwJywgbWFwU2l6ZS5jYWxsKG9iaiksIG1hcFBhcnRzLCBpbmRlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNTZXQob2JqKSkge1xuICAgICAgICB2YXIgc2V0UGFydHMgPSBbXTtcbiAgICAgICAgc2V0Rm9yRWFjaC5jYWxsKG9iaiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzZXRQYXJ0cy5wdXNoKGluc3BlY3QodmFsdWUsIG9iaikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25PZignU2V0Jywgc2V0U2l6ZS5jYWxsKG9iaiksIHNldFBhcnRzLCBpbmRlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNXZWFrTWFwKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIHdlYWtDb2xsZWN0aW9uT2YoJ1dlYWtNYXAnKTtcbiAgICB9XG4gICAgaWYgKGlzV2Vha1NldChvYmopKSB7XG4gICAgICAgIHJldHVybiB3ZWFrQ29sbGVjdGlvbk9mKCdXZWFrU2V0Jyk7XG4gICAgfVxuICAgIGlmIChpc1dlYWtSZWYob2JqKSkge1xuICAgICAgICByZXR1cm4gd2Vha0NvbGxlY3Rpb25PZignV2Vha1JlZicpO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIob2JqKSkge1xuICAgICAgICByZXR1cm4gbWFya0JveGVkKGluc3BlY3QoTnVtYmVyKG9iaikpKTtcbiAgICB9XG4gICAgaWYgKGlzQmlnSW50KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG1hcmtCb3hlZChpbnNwZWN0KGJpZ0ludFZhbHVlT2YuY2FsbChvYmopKSk7XG4gICAgfVxuICAgIGlmIChpc0Jvb2xlYW4ob2JqKSkge1xuICAgICAgICByZXR1cm4gbWFya0JveGVkKGJvb2xlYW5WYWx1ZU9mLmNhbGwob2JqKSk7XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhvYmopKSB7XG4gICAgICAgIHJldHVybiBtYXJrQm94ZWQoaW5zcGVjdChTdHJpbmcob2JqKSkpO1xuICAgIH1cbiAgICBpZiAoIWlzRGF0ZShvYmopICYmICFpc1JlZ0V4cChvYmopKSB7XG4gICAgICAgIHZhciB5cyA9IGFyck9iaktleXMob2JqLCBpbnNwZWN0KTtcbiAgICAgICAgdmFyIGlzUGxhaW5PYmplY3QgPSBnUE8gPyBnUE8ob2JqKSA9PT0gT2JqZWN0LnByb3RvdHlwZSA6IG9iaiBpbnN0YW5jZW9mIE9iamVjdCB8fCBvYmouY29uc3RydWN0b3IgPT09IE9iamVjdDtcbiAgICAgICAgdmFyIHByb3RvVGFnID0gb2JqIGluc3RhbmNlb2YgT2JqZWN0ID8gJycgOiAnbnVsbCBwcm90b3R5cGUnO1xuICAgICAgICB2YXIgc3RyaW5nVGFnID0gIWlzUGxhaW5PYmplY3QgJiYgdG9TdHJpbmdUYWcgJiYgT2JqZWN0KG9iaikgPT09IG9iaiAmJiB0b1N0cmluZ1RhZyBpbiBvYmogPyAkc2xpY2UuY2FsbCh0b1N0cihvYmopLCA4LCAtMSkgOiBwcm90b1RhZyA/ICdPYmplY3QnIDogJyc7XG4gICAgICAgIHZhciBjb25zdHJ1Y3RvclRhZyA9IGlzUGxhaW5PYmplY3QgfHwgdHlwZW9mIG9iai5jb25zdHJ1Y3RvciAhPT0gJ2Z1bmN0aW9uJyA/ICcnIDogb2JqLmNvbnN0cnVjdG9yLm5hbWUgPyBvYmouY29uc3RydWN0b3IubmFtZSArICcgJyA6ICcnO1xuICAgICAgICB2YXIgdGFnID0gY29uc3RydWN0b3JUYWcgKyAoc3RyaW5nVGFnIHx8IHByb3RvVGFnID8gJ1snICsgJGpvaW4uY2FsbCgkY29uY2F0LmNhbGwoW10sIHN0cmluZ1RhZyB8fCBbXSwgcHJvdG9UYWcgfHwgW10pLCAnOiAnKSArICddICcgOiAnJyk7XG4gICAgICAgIGlmICh5cy5sZW5ndGggPT09IDApIHsgcmV0dXJuIHRhZyArICd7fSc7IH1cbiAgICAgICAgaWYgKGluZGVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRhZyArICd7JyArIGluZGVudGVkSm9pbih5cywgaW5kZW50KSArICd9JztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFnICsgJ3sgJyArICRqb2luLmNhbGwoeXMsICcsICcpICsgJyB9JztcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZyhvYmopO1xufTtcblxuZnVuY3Rpb24gd3JhcFF1b3RlcyhzLCBkZWZhdWx0U3R5bGUsIG9wdHMpIHtcbiAgICB2YXIgcXVvdGVDaGFyID0gKG9wdHMucXVvdGVTdHlsZSB8fCBkZWZhdWx0U3R5bGUpID09PSAnZG91YmxlJyA/ICdcIicgOiBcIidcIjtcbiAgICByZXR1cm4gcXVvdGVDaGFyICsgcyArIHF1b3RlQ2hhcjtcbn1cblxuZnVuY3Rpb24gcXVvdGUocykge1xuICAgIHJldHVybiAkcmVwbGFjZS5jYWxsKFN0cmluZyhzKSwgL1wiL2csICcmcXVvdDsnKTtcbn1cblxuZnVuY3Rpb24gaXNBcnJheShvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XScgJiYgKCF0b1N0cmluZ1RhZyB8fCAhKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHRvU3RyaW5nVGFnIGluIG9iaikpOyB9XG5mdW5jdGlvbiBpc0RhdGUob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBEYXRlXScgJiYgKCF0b1N0cmluZ1RhZyB8fCAhKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHRvU3RyaW5nVGFnIGluIG9iaikpOyB9XG5mdW5jdGlvbiBpc1JlZ0V4cChvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nICYmICghdG9TdHJpbmdUYWcgfHwgISh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0b1N0cmluZ1RhZyBpbiBvYmopKTsgfVxuZnVuY3Rpb24gaXNFcnJvcihvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IEVycm9yXScgJiYgKCF0b1N0cmluZ1RhZyB8fCAhKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHRvU3RyaW5nVGFnIGluIG9iaikpOyB9XG5mdW5jdGlvbiBpc1N0cmluZyhvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IFN0cmluZ10nICYmICghdG9TdHJpbmdUYWcgfHwgISh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0b1N0cmluZ1RhZyBpbiBvYmopKTsgfVxuZnVuY3Rpb24gaXNOdW1iZXIob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBOdW1iZXJdJyAmJiAoIXRvU3RyaW5nVGFnIHx8ICEodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdG9TdHJpbmdUYWcgaW4gb2JqKSk7IH1cbmZ1bmN0aW9uIGlzQm9vbGVhbihvYmopIHsgcmV0dXJuIHRvU3RyKG9iaikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJyAmJiAoIXRvU3RyaW5nVGFnIHx8ICEodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdG9TdHJpbmdUYWcgaW4gb2JqKSk7IH1cblxuLy8gU3ltYm9sIGFuZCBCaWdJbnQgZG8gaGF2ZSBTeW1ib2wudG9TdHJpbmdUYWcgYnkgc3BlYywgc28gdGhhdCBjYW4ndCBiZSB1c2VkIHRvIGVsaW1pbmF0ZSBmYWxzZSBwb3NpdGl2ZXNcbmZ1bmN0aW9uIGlzU3ltYm9sKG9iaikge1xuICAgIGlmIChoYXNTaGFtbWVkU3ltYm9scykge1xuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiBpbnN0YW5jZW9mIFN5bWJvbDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCAhc3ltVG9TdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBzeW1Ub1N0cmluZy5jYWxsKG9iaik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc0JpZ0ludChvYmopIHtcbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCAhYmlnSW50VmFsdWVPZikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGJpZ0ludFZhbHVlT2YuY2FsbChvYmopO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkgfHwgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4ga2V5IGluIHRoaXM7IH07XG5mdW5jdGlvbiBoYXMob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gaGFzT3duLmNhbGwob2JqLCBrZXkpO1xufVxuXG5mdW5jdGlvbiB0b1N0cihvYmopIHtcbiAgICByZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbChvYmopO1xufVxuXG5mdW5jdGlvbiBuYW1lT2YoZikge1xuICAgIGlmIChmLm5hbWUpIHsgcmV0dXJuIGYubmFtZTsgfVxuICAgIHZhciBtID0gJG1hdGNoLmNhbGwoZnVuY3Rpb25Ub1N0cmluZy5jYWxsKGYpLCAvXmZ1bmN0aW9uXFxzKihbXFx3JF0rKS8pO1xuICAgIGlmIChtKSB7IHJldHVybiBtWzFdOyB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGluZGV4T2YoeHMsIHgpIHtcbiAgICBpZiAoeHMuaW5kZXhPZikgeyByZXR1cm4geHMuaW5kZXhPZih4KTsgfVxuICAgIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmICh4c1tpXSA9PT0geCkgeyByZXR1cm4gaTsgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGlzTWFwKHgpIHtcbiAgICBpZiAoIW1hcFNpemUgfHwgIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgbWFwU2l6ZS5jYWxsKHgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0U2l6ZS5jYWxsKHgpO1xuICAgICAgICB9IGNhdGNoIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCBpbnN0YW5jZW9mIE1hcDsgLy8gY29yZS1qcyB3b3JrYXJvdW5kLCBwcmUtdjIuNS4wXG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzV2Vha01hcCh4KSB7XG4gICAgaWYgKCF3ZWFrTWFwSGFzIHx8ICF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHdlYWtNYXBIYXMuY2FsbCh4LCB3ZWFrTWFwSGFzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdlYWtTZXRIYXMuY2FsbCh4LCB3ZWFrU2V0SGFzKTtcbiAgICAgICAgfSBjYXRjaCAocykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHggaW5zdGFuY2VvZiBXZWFrTWFwOyAvLyBjb3JlLWpzIHdvcmthcm91bmQsIHByZS12Mi41LjBcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNXZWFrUmVmKHgpIHtcbiAgICBpZiAoIXdlYWtSZWZEZXJlZiB8fCAheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICB3ZWFrUmVmRGVyZWYuY2FsbCh4KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzU2V0KHgpIHtcbiAgICBpZiAoIXNldFNpemUgfHwgIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgc2V0U2l6ZS5jYWxsKHgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbWFwU2l6ZS5jYWxsKHgpO1xuICAgICAgICB9IGNhdGNoIChtKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCBpbnN0YW5jZW9mIFNldDsgLy8gY29yZS1qcyB3b3JrYXJvdW5kLCBwcmUtdjIuNS4wXG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzV2Vha1NldCh4KSB7XG4gICAgaWYgKCF3ZWFrU2V0SGFzIHx8ICF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHdlYWtTZXRIYXMuY2FsbCh4LCB3ZWFrU2V0SGFzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdlYWtNYXBIYXMuY2FsbCh4LCB3ZWFrTWFwSGFzKTtcbiAgICAgICAgfSBjYXRjaCAocykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHggaW5zdGFuY2VvZiBXZWFrU2V0OyAvLyBjb3JlLWpzIHdvcmthcm91bmQsIHByZS12Mi41LjBcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNFbGVtZW50KHgpIHtcbiAgICBpZiAoIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGlmICh0eXBlb2YgSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHggaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiB4Lm5vZGVOYW1lID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgeC5nZXRBdHRyaWJ1dGUgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGluc3BlY3RTdHJpbmcoc3RyLCBvcHRzKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPiBvcHRzLm1heFN0cmluZ0xlbmd0aCkge1xuICAgICAgICB2YXIgcmVtYWluaW5nID0gc3RyLmxlbmd0aCAtIG9wdHMubWF4U3RyaW5nTGVuZ3RoO1xuICAgICAgICB2YXIgdHJhaWxlciA9ICcuLi4gJyArIHJlbWFpbmluZyArICcgbW9yZSBjaGFyYWN0ZXInICsgKHJlbWFpbmluZyA+IDEgPyAncycgOiAnJyk7XG4gICAgICAgIHJldHVybiBpbnNwZWN0U3RyaW5nKCRzbGljZS5jYWxsKHN0ciwgMCwgb3B0cy5tYXhTdHJpbmdMZW5ndGgpLCBvcHRzKSArIHRyYWlsZXI7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4XG4gICAgdmFyIHMgPSAkcmVwbGFjZS5jYWxsKCRyZXBsYWNlLmNhbGwoc3RyLCAvKFsnXFxcXF0pL2csICdcXFxcJDEnKSwgL1tcXHgwMC1cXHgxZl0vZywgbG93Ynl0ZSk7XG4gICAgcmV0dXJuIHdyYXBRdW90ZXMocywgJ3NpbmdsZScsIG9wdHMpO1xufVxuXG5mdW5jdGlvbiBsb3dieXRlKGMpIHtcbiAgICB2YXIgbiA9IGMuY2hhckNvZGVBdCgwKTtcbiAgICB2YXIgeCA9IHtcbiAgICAgICAgODogJ2InLFxuICAgICAgICA5OiAndCcsXG4gICAgICAgIDEwOiAnbicsXG4gICAgICAgIDEyOiAnZicsXG4gICAgICAgIDEzOiAncidcbiAgICB9W25dO1xuICAgIGlmICh4KSB7IHJldHVybiAnXFxcXCcgKyB4OyB9XG4gICAgcmV0dXJuICdcXFxceCcgKyAobiA8IDB4MTAgPyAnMCcgOiAnJykgKyAkdG9VcHBlckNhc2UuY2FsbChuLnRvU3RyaW5nKDE2KSk7XG59XG5cbmZ1bmN0aW9uIG1hcmtCb3hlZChzdHIpIHtcbiAgICByZXR1cm4gJ09iamVjdCgnICsgc3RyICsgJyknO1xufVxuXG5mdW5jdGlvbiB3ZWFrQ29sbGVjdGlvbk9mKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSArICcgeyA/IH0nO1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0aW9uT2YodHlwZSwgc2l6ZSwgZW50cmllcywgaW5kZW50KSB7XG4gICAgdmFyIGpvaW5lZEVudHJpZXMgPSBpbmRlbnQgPyBpbmRlbnRlZEpvaW4oZW50cmllcywgaW5kZW50KSA6ICRqb2luLmNhbGwoZW50cmllcywgJywgJyk7XG4gICAgcmV0dXJuIHR5cGUgKyAnICgnICsgc2l6ZSArICcpIHsnICsgam9pbmVkRW50cmllcyArICd9Jztcbn1cblxuZnVuY3Rpb24gc2luZ2xlTGluZVZhbHVlcyh4cykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGluZGV4T2YoeHNbaV0sICdcXG4nKSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGdldEluZGVudChvcHRzLCBkZXB0aCkge1xuICAgIHZhciBiYXNlSW5kZW50O1xuICAgIGlmIChvcHRzLmluZGVudCA9PT0gJ1xcdCcpIHtcbiAgICAgICAgYmFzZUluZGVudCA9ICdcXHQnO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdHMuaW5kZW50ID09PSAnbnVtYmVyJyAmJiBvcHRzLmluZGVudCA+IDApIHtcbiAgICAgICAgYmFzZUluZGVudCA9ICRqb2luLmNhbGwoQXJyYXkob3B0cy5pbmRlbnQgKyAxKSwgJyAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmFzZTogYmFzZUluZGVudCxcbiAgICAgICAgcHJldjogJGpvaW4uY2FsbChBcnJheShkZXB0aCArIDEpLCBiYXNlSW5kZW50KVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGluZGVudGVkSm9pbih4cywgaW5kZW50KSB7XG4gICAgaWYgKHhzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gJyc7IH1cbiAgICB2YXIgbGluZUpvaW5lciA9ICdcXG4nICsgaW5kZW50LnByZXYgKyBpbmRlbnQuYmFzZTtcbiAgICByZXR1cm4gbGluZUpvaW5lciArICRqb2luLmNhbGwoeHMsICcsJyArIGxpbmVKb2luZXIpICsgJ1xcbicgKyBpbmRlbnQucHJldjtcbn1cblxuZnVuY3Rpb24gYXJyT2JqS2V5cyhvYmosIGluc3BlY3QpIHtcbiAgICB2YXIgaXNBcnIgPSBpc0FycmF5KG9iaik7XG4gICAgdmFyIHhzID0gW107XG4gICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHhzLmxlbmd0aCA9IG9iai5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB4c1tpXSA9IGhhcyhvYmosIGkpID8gaW5zcGVjdChvYmpbaV0sIG9iaikgOiAnJztcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgc3ltcyA9IHR5cGVvZiBnT1BTID09PSAnZnVuY3Rpb24nID8gZ09QUyhvYmopIDogW107XG4gICAgdmFyIHN5bU1hcDtcbiAgICBpZiAoaGFzU2hhbW1lZFN5bWJvbHMpIHtcbiAgICAgICAgc3ltTWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgc3ltcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgc3ltTWFwWyckJyArIHN5bXNba11dID0gc3ltc1trXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgICBpZiAoIWhhcyhvYmosIGtleSkpIHsgY29udGludWU7IH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheCwgbm8tY29udGludWVcbiAgICAgICAgaWYgKGlzQXJyICYmIFN0cmluZyhOdW1iZXIoa2V5KSkgPT09IGtleSAmJiBrZXkgPCBvYmoubGVuZ3RoKSB7IGNvbnRpbnVlOyB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXgsIG5vLWNvbnRpbnVlXG4gICAgICAgIGlmIChoYXNTaGFtbWVkU3ltYm9scyAmJiBzeW1NYXBbJyQnICsga2V5XSBpbnN0YW5jZW9mIFN5bWJvbCkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyB0byBwcmV2ZW50IHNoYW1tZWQgU3ltYm9scywgd2hpY2ggYXJlIHN0b3JlZCBhcyBzdHJpbmdzLCBmcm9tIGJlaW5nIGluY2x1ZGVkIGluIHRoZSBzdHJpbmcga2V5IHNlY3Rpb25cbiAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4LCBuby1jb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKCR0ZXN0LmNhbGwoL1teXFx3JF0vLCBrZXkpKSB7XG4gICAgICAgICAgICB4cy5wdXNoKGluc3BlY3Qoa2V5LCBvYmopICsgJzogJyArIGluc3BlY3Qob2JqW2tleV0sIG9iaikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeHMucHVzaChrZXkgKyAnOiAnICsgaW5zcGVjdChvYmpba2V5XSwgb2JqKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBnT1BTID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3ltcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKGlzRW51bWVyYWJsZS5jYWxsKG9iaiwgc3ltc1tqXSkpIHtcbiAgICAgICAgICAgICAgICB4cy5wdXNoKCdbJyArIGluc3BlY3Qoc3ltc1tqXSkgKyAnXTogJyArIGluc3BlY3Qob2JqW3N5bXNbal1dLCBvYmopKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geHM7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../node_modules/object-inspect/index.js\n");

/***/ }),

/***/ "../../../node_modules/object-keys/implementation.js":
/*!***********************************************************!*\
  !*** ../../../node_modules/object-keys/implementation.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = __webpack_require__(/*! ./isArguments */ \"../../../node_modules/object-keys/isArguments.js\"); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC1rZXlzL2ltcGxlbWVudGF0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC1rZXlzL2ltcGxlbWVudGF0aW9uLmpzP2YyMzkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5c1NoaW07XG5pZiAoIU9iamVjdC5rZXlzKSB7XG5cdC8vIG1vZGlmaWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2VzLXNoaW1zL2VzNS1zaGltXG5cdHZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXHR2YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXHR2YXIgaXNBcmdzID0gcmVxdWlyZSgnLi9pc0FyZ3VtZW50cycpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdsb2JhbC1yZXF1aXJlXG5cdHZhciBpc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXHR2YXIgaGFzRG9udEVudW1CdWcgPSAhaXNFbnVtZXJhYmxlLmNhbGwoeyB0b1N0cmluZzogbnVsbCB9LCAndG9TdHJpbmcnKTtcblx0dmFyIGhhc1Byb3RvRW51bUJ1ZyA9IGlzRW51bWVyYWJsZS5jYWxsKGZ1bmN0aW9uICgpIHt9LCAncHJvdG90eXBlJyk7XG5cdHZhciBkb250RW51bXMgPSBbXG5cdFx0J3RvU3RyaW5nJyxcblx0XHQndG9Mb2NhbGVTdHJpbmcnLFxuXHRcdCd2YWx1ZU9mJyxcblx0XHQnaGFzT3duUHJvcGVydHknLFxuXHRcdCdpc1Byb3RvdHlwZU9mJyxcblx0XHQncHJvcGVydHlJc0VudW1lcmFibGUnLFxuXHRcdCdjb25zdHJ1Y3Rvcidcblx0XTtcblx0dmFyIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlID0gZnVuY3Rpb24gKG8pIHtcblx0XHR2YXIgY3RvciA9IG8uY29uc3RydWN0b3I7XG5cdFx0cmV0dXJuIGN0b3IgJiYgY3Rvci5wcm90b3R5cGUgPT09IG87XG5cdH07XG5cdHZhciBleGNsdWRlZEtleXMgPSB7XG5cdFx0JGFwcGxpY2F0aW9uQ2FjaGU6IHRydWUsXG5cdFx0JGNvbnNvbGU6IHRydWUsXG5cdFx0JGV4dGVybmFsOiB0cnVlLFxuXHRcdCRmcmFtZTogdHJ1ZSxcblx0XHQkZnJhbWVFbGVtZW50OiB0cnVlLFxuXHRcdCRmcmFtZXM6IHRydWUsXG5cdFx0JGlubmVySGVpZ2h0OiB0cnVlLFxuXHRcdCRpbm5lcldpZHRoOiB0cnVlLFxuXHRcdCRvbm1vemZ1bGxzY3JlZW5jaGFuZ2U6IHRydWUsXG5cdFx0JG9ubW96ZnVsbHNjcmVlbmVycm9yOiB0cnVlLFxuXHRcdCRvdXRlckhlaWdodDogdHJ1ZSxcblx0XHQkb3V0ZXJXaWR0aDogdHJ1ZSxcblx0XHQkcGFnZVhPZmZzZXQ6IHRydWUsXG5cdFx0JHBhZ2VZT2Zmc2V0OiB0cnVlLFxuXHRcdCRwYXJlbnQ6IHRydWUsXG5cdFx0JHNjcm9sbExlZnQ6IHRydWUsXG5cdFx0JHNjcm9sbFRvcDogdHJ1ZSxcblx0XHQkc2Nyb2xsWDogdHJ1ZSxcblx0XHQkc2Nyb2xsWTogdHJ1ZSxcblx0XHQkc2VsZjogdHJ1ZSxcblx0XHQkd2Via2l0SW5kZXhlZERCOiB0cnVlLFxuXHRcdCR3ZWJraXRTdG9yYWdlSW5mbzogdHJ1ZSxcblx0XHQkd2luZG93OiB0cnVlXG5cdH07XG5cdHZhciBoYXNBdXRvbWF0aW9uRXF1YWxpdHlCdWcgPSAoZnVuY3Rpb24gKCkge1xuXHRcdC8qIGdsb2JhbCB3aW5kb3cgKi9cblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0Zm9yICh2YXIgayBpbiB3aW5kb3cpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmICghZXhjbHVkZWRLZXlzWyckJyArIGtdICYmIGhhcy5jYWxsKHdpbmRvdywgaykgJiYgd2luZG93W2tdICE9PSBudWxsICYmIHR5cGVvZiB3aW5kb3dba10gPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlKHdpbmRvd1trXSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0oKSk7XG5cdHZhciBlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZUlmTm90QnVnZ3kgPSBmdW5jdGlvbiAobykge1xuXHRcdC8qIGdsb2JhbCB3aW5kb3cgKi9cblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIWhhc0F1dG9tYXRpb25FcXVhbGl0eUJ1Zykge1xuXHRcdFx0cmV0dXJuIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlKG8pO1xuXHRcdH1cblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlKG8pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH07XG5cblx0a2V5c1NoaW0gPSBmdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuXHRcdHZhciBpc09iamVjdCA9IG9iamVjdCAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jztcblx0XHR2YXIgaXNGdW5jdGlvbiA9IHRvU3RyLmNhbGwob2JqZWN0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblx0XHR2YXIgaXNBcmd1bWVudHMgPSBpc0FyZ3Mob2JqZWN0KTtcblx0XHR2YXIgaXNTdHJpbmcgPSBpc09iamVjdCAmJiB0b1N0ci5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xuXHRcdHZhciB0aGVLZXlzID0gW107XG5cblx0XHRpZiAoIWlzT2JqZWN0ICYmICFpc0Z1bmN0aW9uICYmICFpc0FyZ3VtZW50cykge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdCcpO1xuXHRcdH1cblxuXHRcdHZhciBza2lwUHJvdG8gPSBoYXNQcm90b0VudW1CdWcgJiYgaXNGdW5jdGlvbjtcblx0XHRpZiAoaXNTdHJpbmcgJiYgb2JqZWN0Lmxlbmd0aCA+IDAgJiYgIWhhcy5jYWxsKG9iamVjdCwgMCkpIHtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0Lmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdHRoZUtleXMucHVzaChTdHJpbmcoaSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpc0FyZ3VtZW50cyAmJiBvYmplY3QubGVuZ3RoID4gMCkge1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBvYmplY3QubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0dGhlS2V5cy5wdXNoKFN0cmluZyhqKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAodmFyIG5hbWUgaW4gb2JqZWN0KSB7XG5cdFx0XHRcdGlmICghKHNraXBQcm90byAmJiBuYW1lID09PSAncHJvdG90eXBlJykgJiYgaGFzLmNhbGwob2JqZWN0LCBuYW1lKSkge1xuXHRcdFx0XHRcdHRoZUtleXMucHVzaChTdHJpbmcobmFtZSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGhhc0RvbnRFbnVtQnVnKSB7XG5cdFx0XHR2YXIgc2tpcENvbnN0cnVjdG9yID0gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGVJZk5vdEJ1Z2d5KG9iamVjdCk7XG5cblx0XHRcdGZvciAodmFyIGsgPSAwOyBrIDwgZG9udEVudW1zLmxlbmd0aDsgKytrKSB7XG5cdFx0XHRcdGlmICghKHNraXBDb25zdHJ1Y3RvciAmJiBkb250RW51bXNba10gPT09ICdjb25zdHJ1Y3RvcicpICYmIGhhcy5jYWxsKG9iamVjdCwgZG9udEVudW1zW2tdKSkge1xuXHRcdFx0XHRcdHRoZUtleXMucHVzaChkb250RW51bXNba10pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0aGVLZXlzO1xuXHR9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBrZXlzU2hpbTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../node_modules/object-keys/implementation.js\n");

/***/ }),

/***/ "../../../node_modules/object-keys/index.js":
/*!**************************************************!*\
  !*** ../../../node_modules/object-keys/index.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar slice = Array.prototype.slice;\nvar isArgs = __webpack_require__(/*! ./isArguments */ \"../../../node_modules/object-keys/isArguments.js\");\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : __webpack_require__(/*! ./implementation */ \"../../../node_modules/object-keys/implementation.js\");\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC1rZXlzL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC1rZXlzL2luZGV4LmpzP2EwYTIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgaXNBcmdzID0gcmVxdWlyZSgnLi9pc0FyZ3VtZW50cycpO1xuXG52YXIgb3JpZ0tleXMgPSBPYmplY3Qua2V5cztcbnZhciBrZXlzU2hpbSA9IG9yaWdLZXlzID8gZnVuY3Rpb24ga2V5cyhvKSB7IHJldHVybiBvcmlnS2V5cyhvKTsgfSA6IHJlcXVpcmUoJy4vaW1wbGVtZW50YXRpb24nKTtcblxudmFyIG9yaWdpbmFsS2V5cyA9IE9iamVjdC5rZXlzO1xuXG5rZXlzU2hpbS5zaGltID0gZnVuY3Rpb24gc2hpbU9iamVjdEtleXMoKSB7XG5cdGlmIChPYmplY3Qua2V5cykge1xuXHRcdHZhciBrZXlzV29ya3NXaXRoQXJndW1lbnRzID0gKGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIFNhZmFyaSA1LjAgYnVnXG5cdFx0XHR2YXIgYXJncyA9IE9iamVjdC5rZXlzKGFyZ3VtZW50cyk7XG5cdFx0XHRyZXR1cm4gYXJncyAmJiBhcmdzLmxlbmd0aCA9PT0gYXJndW1lbnRzLmxlbmd0aDtcblx0XHR9KDEsIDIpKTtcblx0XHRpZiAoIWtleXNXb3Jrc1dpdGhBcmd1bWVudHMpIHtcblx0XHRcdE9iamVjdC5rZXlzID0gZnVuY3Rpb24ga2V5cyhvYmplY3QpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBmdW5jLW5hbWUtbWF0Y2hpbmdcblx0XHRcdFx0aWYgKGlzQXJncyhvYmplY3QpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9yaWdpbmFsS2V5cyhzbGljZS5jYWxsKG9iamVjdCkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbEtleXMob2JqZWN0KTtcblx0XHRcdH07XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdE9iamVjdC5rZXlzID0ga2V5c1NoaW07XG5cdH1cblx0cmV0dXJuIE9iamVjdC5rZXlzIHx8IGtleXNTaGltO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlzU2hpbTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../node_modules/object-keys/index.js\n");

/***/ }),

/***/ "../../../node_modules/object-keys/isArguments.js":
/*!********************************************************!*\
  !*** ../../../node_modules/object-keys/isArguments.js ***!
  \********************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC1rZXlzL2lzQXJndW1lbnRzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC1rZXlzL2lzQXJndW1lbnRzLmpzPzc3ZDQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7XG5cdHZhciBzdHIgPSB0b1N0ci5jYWxsKHZhbHVlKTtcblx0dmFyIGlzQXJncyA9IHN0ciA9PT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG5cdGlmICghaXNBcmdzKSB7XG5cdFx0aXNBcmdzID0gc3RyICE9PSAnW29iamVjdCBBcnJheV0nICYmXG5cdFx0XHR2YWx1ZSAhPT0gbnVsbCAmJlxuXHRcdFx0dHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuXHRcdFx0dHlwZW9mIHZhbHVlLmxlbmd0aCA9PT0gJ251bWJlcicgJiZcblx0XHRcdHZhbHVlLmxlbmd0aCA+PSAwICYmXG5cdFx0XHR0b1N0ci5jYWxsKHZhbHVlLmNhbGxlZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cdH1cblx0cmV0dXJuIGlzQXJncztcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../node_modules/object-keys/isArguments.js\n");

/***/ }),

/***/ "../../../node_modules/object.fromentries/implementation.js":
/*!******************************************************************!*\
  !*** ../../../node_modules/object.fromentries/implementation.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar AddEntriesFromIterable = __webpack_require__(/*! es-abstract/2021/AddEntriesFromIterable */ \"../../../node_modules/es-abstract/2021/AddEntriesFromIterable.js\");\nvar CreateDataPropertyOrThrow = __webpack_require__(/*! es-abstract/2021/CreateDataPropertyOrThrow */ \"../../../node_modules/es-abstract/2021/CreateDataPropertyOrThrow.js\");\nvar RequireObjectCoercible = __webpack_require__(/*! es-abstract/2021/RequireObjectCoercible */ \"../../../node_modules/es-abstract/2021/RequireObjectCoercible.js\");\nvar ToPropertyKey = __webpack_require__(/*! es-abstract/2021/ToPropertyKey */ \"../../../node_modules/es-abstract/2021/ToPropertyKey.js\");\n\nvar adder = function addDataProperty(key, value) {\n\tvar O = this; // eslint-disable-line no-invalid-this\n\tvar propertyKey = ToPropertyKey(key);\n\tCreateDataPropertyOrThrow(O, propertyKey, value);\n};\n\nmodule.exports = function fromEntries(iterable) {\n\tRequireObjectCoercible(iterable);\n\n\treturn AddEntriesFromIterable({}, iterable, adder);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC5mcm9tZW50cmllcy9pbXBsZW1lbnRhdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC5mcm9tZW50cmllcy9pbXBsZW1lbnRhdGlvbi5qcz8zZDI1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIEFkZEVudHJpZXNGcm9tSXRlcmFibGUgPSByZXF1aXJlKCdlcy1hYnN0cmFjdC8yMDIxL0FkZEVudHJpZXNGcm9tSXRlcmFibGUnKTtcbnZhciBDcmVhdGVEYXRhUHJvcGVydHlPclRocm93ID0gcmVxdWlyZSgnZXMtYWJzdHJhY3QvMjAyMS9DcmVhdGVEYXRhUHJvcGVydHlPclRocm93Jyk7XG52YXIgUmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJ2VzLWFic3RyYWN0LzIwMjEvUmVxdWlyZU9iamVjdENvZXJjaWJsZScpO1xudmFyIFRvUHJvcGVydHlLZXkgPSByZXF1aXJlKCdlcy1hYnN0cmFjdC8yMDIxL1RvUHJvcGVydHlLZXknKTtcblxudmFyIGFkZGVyID0gZnVuY3Rpb24gYWRkRGF0YVByb3BlcnR5KGtleSwgdmFsdWUpIHtcblx0dmFyIE8gPSB0aGlzOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpc1xuXHR2YXIgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KGtleSk7XG5cdENyZWF0ZURhdGFQcm9wZXJ0eU9yVGhyb3coTywgcHJvcGVydHlLZXksIHZhbHVlKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZnJvbUVudHJpZXMoaXRlcmFibGUpIHtcblx0UmVxdWlyZU9iamVjdENvZXJjaWJsZShpdGVyYWJsZSk7XG5cblx0cmV0dXJuIEFkZEVudHJpZXNGcm9tSXRlcmFibGUoe30sIGl0ZXJhYmxlLCBhZGRlcik7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../node_modules/object.fromentries/implementation.js\n");

/***/ }),

/***/ "../../../node_modules/object.fromentries/index.js":
/*!*********************************************************!*\
  !*** ../../../node_modules/object.fromentries/index.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar define = __webpack_require__(/*! define-properties */ \"../../../node_modules/define-properties/index.js\");\nvar callBind = __webpack_require__(/*! call-bind */ \"../../../node_modules/call-bind/index.js\");\n\nvar implementation = __webpack_require__(/*! ./implementation */ \"../../../node_modules/object.fromentries/implementation.js\");\nvar getPolyfill = __webpack_require__(/*! ./polyfill */ \"../../../node_modules/object.fromentries/polyfill.js\");\nvar shim = __webpack_require__(/*! ./shim */ \"../../../node_modules/object.fromentries/shim.js\");\n\nvar polyfill = callBind(getPolyfill(), Object);\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC5mcm9tZW50cmllcy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC5mcm9tZW50cmllcy9pbmRleC5qcz9hNDIwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmluZSA9IHJlcXVpcmUoJ2RlZmluZS1wcm9wZXJ0aWVzJyk7XG52YXIgY2FsbEJpbmQgPSByZXF1aXJlKCdjYWxsLWJpbmQnKTtcblxudmFyIGltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xudmFyIGdldFBvbHlmaWxsID0gcmVxdWlyZSgnLi9wb2x5ZmlsbCcpO1xudmFyIHNoaW0gPSByZXF1aXJlKCcuL3NoaW0nKTtcblxudmFyIHBvbHlmaWxsID0gY2FsbEJpbmQoZ2V0UG9seWZpbGwoKSwgT2JqZWN0KTtcblxuZGVmaW5lKHBvbHlmaWxsLCB7XG5cdGdldFBvbHlmaWxsOiBnZXRQb2x5ZmlsbCxcblx0aW1wbGVtZW50YXRpb246IGltcGxlbWVudGF0aW9uLFxuXHRzaGltOiBzaGltXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwb2x5ZmlsbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../node_modules/object.fromentries/index.js\n");

/***/ }),

/***/ "../../../node_modules/object.fromentries/polyfill.js":
/*!************************************************************!*\
  !*** ../../../node_modules/object.fromentries/polyfill.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar implementation = __webpack_require__(/*! ./implementation */ \"../../../node_modules/object.fromentries/implementation.js\");\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.fromEntries === 'function' ? Object.fromEntries : implementation;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC5mcm9tZW50cmllcy9wb2x5ZmlsbC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb2JqZWN0LmZyb21lbnRyaWVzL3BvbHlmaWxsLmpzP2QzYTAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0UG9seWZpbGwoKSB7XG5cdHJldHVybiB0eXBlb2YgT2JqZWN0LmZyb21FbnRyaWVzID09PSAnZnVuY3Rpb24nID8gT2JqZWN0LmZyb21FbnRyaWVzIDogaW1wbGVtZW50YXRpb247XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../node_modules/object.fromentries/polyfill.js\n");

/***/ }),

/***/ "../../../node_modules/object.fromentries/shim.js":
/*!********************************************************!*\
  !*** ../../../node_modules/object.fromentries/shim.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar getPolyfill = __webpack_require__(/*! ./polyfill */ \"../../../node_modules/object.fromentries/polyfill.js\");\nvar define = __webpack_require__(/*! define-properties */ \"../../../node_modules/define-properties/index.js\");\n\nmodule.exports = function shimEntries() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { fromEntries: polyfill }, {\n\t\tfromEntries: function testEntries() {\n\t\t\treturn Object.fromEntries !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC5mcm9tZW50cmllcy9zaGltLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC5mcm9tZW50cmllcy9zaGltLmpzPzc3ZTEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZ2V0UG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG52YXIgZGVmaW5lID0gcmVxdWlyZSgnZGVmaW5lLXByb3BlcnRpZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzaGltRW50cmllcygpIHtcblx0dmFyIHBvbHlmaWxsID0gZ2V0UG9seWZpbGwoKTtcblx0ZGVmaW5lKE9iamVjdCwgeyBmcm9tRW50cmllczogcG9seWZpbGwgfSwge1xuXHRcdGZyb21FbnRyaWVzOiBmdW5jdGlvbiB0ZXN0RW50cmllcygpIHtcblx0XHRcdHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMgIT09IHBvbHlmaWxsO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBwb2x5ZmlsbDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../node_modules/object.fromentries/shim.js\n");

/***/ }),

/***/ "../../../node_modules/performance-now/lib/performance-now.js":
/*!********************************************************************!*\
  !*** ../../../node_modules/performance-now/lib/performance-now.js ***!
  \********************************************************************/
/***/ (function(module) {

eval("// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3BlcmZvcm1hbmNlLW5vdy9saWIvcGVyZm9ybWFuY2Utbm93LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcGVyZm9ybWFuY2Utbm93L2xpYi9wZXJmb3JtYW5jZS1ub3cuanM/N2ZjZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuMlxuKGZ1bmN0aW9uKCkge1xuICB2YXIgZ2V0TmFub1NlY29uZHMsIGhydGltZSwgbG9hZFRpbWUsIG1vZHVsZUxvYWRUaW1lLCBub2RlTG9hZFRpbWUsIHVwVGltZTtcblxuICBpZiAoKHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwZXJmb3JtYW5jZSAhPT0gbnVsbCkgJiYgcGVyZm9ybWFuY2Uubm93KSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9O1xuICB9IGVsc2UgaWYgKCh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzICE9PSBudWxsKSAmJiBwcm9jZXNzLmhydGltZSkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKGdldE5hbm9TZWNvbmRzKCkgLSBub2RlTG9hZFRpbWUpIC8gMWU2O1xuICAgIH07XG4gICAgaHJ0aW1lID0gcHJvY2Vzcy5ocnRpbWU7XG4gICAgZ2V0TmFub1NlY29uZHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBocjtcbiAgICAgIGhyID0gaHJ0aW1lKCk7XG4gICAgICByZXR1cm4gaHJbMF0gKiAxZTkgKyBoclsxXTtcbiAgICB9O1xuICAgIG1vZHVsZUxvYWRUaW1lID0gZ2V0TmFub1NlY29uZHMoKTtcbiAgICB1cFRpbWUgPSBwcm9jZXNzLnVwdGltZSgpICogMWU5O1xuICAgIG5vZGVMb2FkVGltZSA9IG1vZHVsZUxvYWRUaW1lIC0gdXBUaW1lO1xuICB9IGVsc2UgaWYgKERhdGUubm93KSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gbG9hZFRpbWU7XG4gICAgfTtcbiAgICBsb2FkVGltZSA9IERhdGUubm93KCk7XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGxvYWRUaW1lO1xuICAgIH07XG4gICAgbG9hZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfVxuXG59KS5jYWxsKHRoaXMpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wZXJmb3JtYW5jZS1ub3cuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../node_modules/performance-now/lib/performance-now.js\n");

/***/ }),

/***/ "../../../node_modules/popmotion-pose/dist/popmotion-pose.es.js":
/*!**********************************************************************!*\
  !*** ../../../node_modules/popmotion-pose/dist/popmotion-pose.es.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var popmotion__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! popmotion */ \"../../../node_modules/popmotion/dist/popmotion.es.js\");\n/* harmony import */ var _popmotion_easing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @popmotion/easing */ \"../../../node_modules/@popmotion/easing/dist/easing.es.js\");\n/* harmony import */ var style_value_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! style-value-types */ \"../../../node_modules/style-value-types/dist/style-value-types.es.js\");\n/* harmony import */ var pose_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pose-core */ \"../../../node_modules/pose-core/dist/pose-core.es.js\");\n/* harmony import */ var hey_listen__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! hey-listen */ \"../../../node_modules/hey-listen/dist/hey-listen.es.js\");\n\n\n\n\n\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\nvar __assign = function () {\n    __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n}\n\nvar BoundingBoxDimension;\n(function (BoundingBoxDimension) {\n    BoundingBoxDimension[\"width\"] = \"width\";\n    BoundingBoxDimension[\"height\"] = \"height\";\n    BoundingBoxDimension[\"left\"] = \"left\";\n    BoundingBoxDimension[\"right\"] = \"right\";\n    BoundingBoxDimension[\"top\"] = \"top\";\n    BoundingBoxDimension[\"bottom\"] = \"bottom\";\n})(BoundingBoxDimension || (BoundingBoxDimension = {}));\n\nvar measureWithoutTransform = function (element) {\n    var transform$$1 = element.style.transform;\n    element.style.transform = '';\n    var bbox = element.getBoundingClientRect();\n    element.style.transform = transform$$1;\n    return bbox;\n};\nvar resolveProp = function (target, props) {\n    return typeof target === 'function' ? target(props) : target;\n};\n\nvar interpolate = popmotion__WEBPACK_IMPORTED_MODULE_0__.transform.interpolate;\nvar singleAxisPointer = function (axis) {\n    return function (from) {\n        var _a;\n        return (0,popmotion__WEBPACK_IMPORTED_MODULE_0__.pointer)((_a = {}, _a[axis] = typeof from === 'string' ? parseFloat(from) : from, _a)).pipe(function (v) {\n            return v[axis];\n        });\n    };\n};\nvar pointerX = /*#__PURE__*/singleAxisPointer('x');\nvar pointerY = /*#__PURE__*/singleAxisPointer('y');\nvar createPointer = function (axisPointerCreator, min, max, measurement) {\n    return function (transitionProps) {\n        var from = transitionProps.from,\n            type = transitionProps.type,\n            dimensions = transitionProps.dimensions,\n            dragBounds = transitionProps.dragBounds;\n        var axisPointer = axisPointerCreator(dimensions.measurementAsPixels(measurement, from, type));\n        var transformQueue = [];\n        if (dragBounds) {\n            var resolvedDragBounds_1 = resolveProp(dragBounds, transitionProps);\n            if (resolvedDragBounds_1[min] !== undefined) {\n                transformQueue.push(function (v) {\n                    return Math.max(v, dimensions.measurementAsPixels(measurement, resolvedDragBounds_1[min], type));\n                });\n            }\n            if (resolvedDragBounds_1[max] !== undefined) {\n                transformQueue.push(function (v) {\n                    return Math.min(v, dimensions.measurementAsPixels(measurement, resolvedDragBounds_1[max], type));\n                });\n            }\n        }\n        if (type === style_value_types__WEBPACK_IMPORTED_MODULE_2__.percent) {\n            transformQueue.push(interpolate([0, dimensions.get(measurement)], [0, 100], { clamp: false }), function (v) {\n                return v + '%';\n            });\n        }\n        return transformQueue.length ? axisPointer.pipe.apply(axisPointer, transformQueue) : axisPointer;\n    };\n};\nvar just = function (from) {\n    return (0,popmotion__WEBPACK_IMPORTED_MODULE_0__.action)(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        update(from);\n        complete();\n    });\n};\nvar underDampedSpring = function (_a) {\n    var from = _a.from,\n        velocity = _a.velocity,\n        to = _a.to;\n    return (0,popmotion__WEBPACK_IMPORTED_MODULE_0__.spring)({\n        from: from,\n        to: to,\n        velocity: velocity,\n        stiffness: 500,\n        damping: 25,\n        restDelta: 0.5,\n        restSpeed: 10\n    });\n};\nvar overDampedSpring = function (_a) {\n    var from = _a.from,\n        velocity = _a.velocity,\n        to = _a.to;\n    return (0,popmotion__WEBPACK_IMPORTED_MODULE_0__.spring)({ from: from, to: to, velocity: velocity, stiffness: 700, damping: to === 0 ? 100 : 35 });\n};\nvar linearTween = function (_a) {\n    var from = _a.from,\n        to = _a.to;\n    return (0,popmotion__WEBPACK_IMPORTED_MODULE_0__.tween)({ from: from, to: to, ease: _popmotion_easing__WEBPACK_IMPORTED_MODULE_1__.linear });\n};\nvar intelligentTransition = {\n    x: underDampedSpring,\n    y: underDampedSpring,\n    z: underDampedSpring,\n    rotate: underDampedSpring,\n    rotateX: underDampedSpring,\n    rotateY: underDampedSpring,\n    rotateZ: underDampedSpring,\n    scaleX: overDampedSpring,\n    scaleY: overDampedSpring,\n    scale: overDampedSpring,\n    opacity: linearTween,\n    default: popmotion__WEBPACK_IMPORTED_MODULE_0__.tween\n};\nvar dragAction = /*#__PURE__*/__assign( /*#__PURE__*/__assign({}, intelligentTransition), { x: /*#__PURE__*/createPointer(pointerX, 'left', 'right', BoundingBoxDimension.width), y: /*#__PURE__*/createPointer(pointerY, 'top', 'bottom', BoundingBoxDimension.height) });\nvar justAxis = function (_a) {\n    var from = _a.from;\n    return just(from);\n};\nvar intelligentDragEnd = /*#__PURE__*/__assign( /*#__PURE__*/__assign({}, intelligentTransition), { x: justAxis, y: justAxis });\nvar defaultTransitions = /*#__PURE__*/new Map([['default', intelligentTransition], ['drag', dragAction], ['dragEnd', intelligentDragEnd]]);\n\nvar animationLookup = {\n    tween: popmotion__WEBPACK_IMPORTED_MODULE_0__.tween,\n    spring: popmotion__WEBPACK_IMPORTED_MODULE_0__.spring,\n    decay: popmotion__WEBPACK_IMPORTED_MODULE_0__.decay,\n    keyframes: popmotion__WEBPACK_IMPORTED_MODULE_0__.keyframes,\n    physics: popmotion__WEBPACK_IMPORTED_MODULE_0__.physics\n};\nvar easingLookup = {\n    linear: _popmotion_easing__WEBPACK_IMPORTED_MODULE_1__.linear,\n    easeIn: _popmotion_easing__WEBPACK_IMPORTED_MODULE_1__.easeIn,\n    easeOut: _popmotion_easing__WEBPACK_IMPORTED_MODULE_1__.easeOut,\n    easeInOut: _popmotion_easing__WEBPACK_IMPORTED_MODULE_1__.easeInOut,\n    circIn: _popmotion_easing__WEBPACK_IMPORTED_MODULE_1__.circIn,\n    circOut: _popmotion_easing__WEBPACK_IMPORTED_MODULE_1__.circOut,\n    circInOut: _popmotion_easing__WEBPACK_IMPORTED_MODULE_1__.circInOut,\n    backIn: _popmotion_easing__WEBPACK_IMPORTED_MODULE_1__.backIn,\n    backOut: _popmotion_easing__WEBPACK_IMPORTED_MODULE_1__.backOut,\n    backInOut: _popmotion_easing__WEBPACK_IMPORTED_MODULE_1__.backInOut,\n    anticipate: _popmotion_easing__WEBPACK_IMPORTED_MODULE_1__.anticipate\n};\n\nvar auto = {\n    test: function (v) {\n        return v === 'auto';\n    },\n    parse: function (v) {\n        return v;\n    }\n};\nvar valueTypeTests = [style_value_types__WEBPACK_IMPORTED_MODULE_2__.number, style_value_types__WEBPACK_IMPORTED_MODULE_2__.degrees, style_value_types__WEBPACK_IMPORTED_MODULE_2__.percent, style_value_types__WEBPACK_IMPORTED_MODULE_2__.px, style_value_types__WEBPACK_IMPORTED_MODULE_2__.vw, style_value_types__WEBPACK_IMPORTED_MODULE_2__.vh, auto];\nvar testValueType = function (v) {\n    return function (type) {\n        return type.test(v);\n    };\n};\nvar getValueType = function (v) {\n    return valueTypeTests.find(testValueType(v));\n};\n\nvar createPassiveValue = function (init, parent, transform$$1) {\n    var raw = (0,popmotion__WEBPACK_IMPORTED_MODULE_0__.value)(transform$$1(init));\n    parent.raw.subscribe(function (v) {\n        return raw.update(transform$$1(v));\n    });\n    return { raw: raw };\n};\nvar createValue = function (init) {\n    var type = getValueType(init);\n    var raw = (0,popmotion__WEBPACK_IMPORTED_MODULE_0__.value)(init);\n    return { raw: raw, type: type };\n};\nvar addActionDelay = function (delay$$1, transition) {\n    if (delay$$1 === void 0) {\n        delay$$1 = 0;\n    }\n    return (0,popmotion__WEBPACK_IMPORTED_MODULE_0__.chain)((0,popmotion__WEBPACK_IMPORTED_MODULE_0__.delay)(delay$$1), transition);\n};\nvar isCubicBezierArgs = function (args) {\n    return typeof args[0] === 'number';\n};\nvar getAction = function (v, _a, _b) {\n    var from = _b.from,\n        to = _b.to,\n        velocity = _b.velocity;\n    var _c = _a.type,\n        type = _c === void 0 ? 'tween' : _c,\n        definedEase = _a.ease,\n        def = __rest(_a, [\"type\", \"ease\"]);\n    (0,hey_listen__WEBPACK_IMPORTED_MODULE_4__.invariant)(animationLookup[type] !== undefined, \"Invalid transition type '\" + type + \"'. Valid transition types are: tween, spring, decay, physics and keyframes.\");\n    var ease;\n    if (type === 'tween') {\n        if (typeof definedEase !== 'function') {\n            if (typeof definedEase === 'string') {\n                (0,hey_listen__WEBPACK_IMPORTED_MODULE_4__.invariant)(easingLookup[definedEase] !== undefined, \"Invalid easing type '\" + definedEase + \"'. popmotion.io/pose/api/config\");\n                ease = easingLookup[definedEase];\n            } else if (Array.isArray(definedEase) && isCubicBezierArgs(definedEase)) {\n                (0,hey_listen__WEBPACK_IMPORTED_MODULE_4__.invariant)(definedEase.length === 4, \"Cubic bezier arrays must contain four numerical values.\");\n                var x1 = definedEase[0],\n                    y1 = definedEase[1],\n                    x2 = definedEase[2],\n                    y2 = definedEase[3];\n                ease = (0,_popmotion_easing__WEBPACK_IMPORTED_MODULE_1__.cubicBezier)(x1, y1, x2, y2);\n            }\n        }\n    }\n    ease = ease || definedEase;\n    var baseProps = type !== 'keyframes' ? {\n        from: from,\n        to: to,\n        velocity: velocity,\n        ease: ease\n    } : { ease: ease };\n    return animationLookup[type](__assign(__assign({}, baseProps), def));\n};\nvar isAction = function (action$$1) {\n    return typeof action$$1.start !== 'undefined';\n};\nvar pose = function (_a) {\n    var transformPose = _a.transformPose,\n        addListenerToValue = _a.addListenerToValue,\n        extendAPI = _a.extendAPI,\n        readValueFromSource = _a.readValueFromSource,\n        posePriority = _a.posePriority,\n        setValueNative = _a.setValueNative;\n    return (0,pose_core__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n        bindOnChange: function (values, onChange) {\n            return function (key) {\n                if (!values.has(key)) return;\n                var raw = values.get(key).raw;\n                raw.subscribe(onChange[key]);\n            };\n        },\n        readValue: function (_a) {\n            var raw = _a.raw;\n            return raw.get();\n        },\n        setValue: function (_a, to) {\n            var raw = _a.raw;\n            return raw.update(to);\n        },\n        createValue: function (init, key, _a, _b) {\n            var elementStyler = _a.elementStyler;\n            var _c = _b === void 0 ? {} : _b,\n                passiveParent = _c.passiveParent,\n                passiveProps = _c.passiveProps;\n            var val = passiveParent ? createPassiveValue(init, passiveParent, passiveProps) : createValue(init);\n            val.raw.subscribe(addListenerToValue(key, elementStyler));\n            return val;\n        },\n        convertValue: function (raw, key, _a) {\n            var elementStyler = _a.elementStyler;\n            raw.subscribe(addListenerToValue(key, elementStyler));\n            return {\n                raw: raw,\n                type: getValueType(raw.get())\n            };\n        },\n        getTransitionProps: function (_a, to) {\n            var raw = _a.raw,\n                type = _a.type;\n            return {\n                from: raw.get(),\n                velocity: raw.getVelocity(),\n                to: to,\n                type: type\n            };\n        },\n        resolveTarget: function (_, to) {\n            return to;\n        },\n        selectValueToRead: function (_a) {\n            var raw = _a.raw;\n            return raw;\n        },\n        startAction: function (_a, action$$1, complete) {\n            var raw = _a.raw;\n            var reaction = {\n                update: function (v) {\n                    return raw.update(v);\n                },\n                complete: complete\n            };\n            return action$$1.start(reaction);\n        },\n        stopAction: function (action$$1) {\n            return action$$1.stop();\n        },\n        getInstantTransition: function (_, _a) {\n            var to = _a.to;\n            return just(to);\n        },\n        convertTransitionDefinition: function (val, def, props) {\n            if (isAction(def)) return def;\n            var delay$$1 = def.delay,\n                min = def.min,\n                max = def.max,\n                round = def.round,\n                remainingDef = __rest(def, [\"delay\", \"min\", \"max\", \"round\"]);\n            var action$$1 = getAction(val, remainingDef, props);\n            var outputPipe = [];\n            if (delay$$1) action$$1 = addActionDelay(delay$$1, action$$1);\n            if (min !== undefined) outputPipe.push(function (v) {\n                return Math.max(v, min);\n            });\n            if (max !== undefined) outputPipe.push(function (v) {\n                return Math.min(v, max);\n            });\n            if (round) outputPipe.push(Math.round);\n            return outputPipe.length ? action$$1.pipe.apply(action$$1, outputPipe) : action$$1;\n        },\n        setValueNative: setValueNative,\n        addActionDelay: addActionDelay,\n        defaultTransitions: defaultTransitions,\n        transformPose: transformPose,\n        readValueFromSource: readValueFromSource,\n        posePriority: posePriority,\n        extendAPI: extendAPI\n    });\n};\n\nvar createDimensions = function (element) {\n    var hasMeasured = false;\n    var current = {\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0\n    };\n    return {\n        get: function (measurement) {\n            return measurement ? current[measurement] : current;\n        },\n        measure: function () {\n            current = element.getBoundingClientRect();\n            hasMeasured = true;\n            return current;\n        },\n        measurementAsPixels: function (measurement, value$$1, type) {\n            return type === style_value_types__WEBPACK_IMPORTED_MODULE_2__.percent ? (typeof value$$1 === 'string' ? parseFloat(value$$1) : value$$1) / 100 * current[measurement] : value$$1;\n        },\n        has: function () {\n            return hasMeasured;\n        }\n    };\n};\n\nvar makeUIEventApplicator = function (_a) {\n    var startEvents = _a.startEvents,\n        endEvents = _a.endEvents,\n        startPose = _a.startPose,\n        endPose = _a.endPose,\n        startCallback = _a.startCallback,\n        endCallback = _a.endCallback,\n        useDocumentToEnd = _a.useDocumentToEnd,\n        preventScroll = _a.preventScroll;\n    return function (element, activeActions, poser, config) {\n        var startListener = startPose + 'Start';\n        var endListener = startPose + 'End';\n        var moveListener = startPose + 'Move';\n        if (preventScroll) {\n            var touchMoveListener = (0,popmotion__WEBPACK_IMPORTED_MODULE_0__.listen)(element, 'touchmove', {\n                passive: false\n            }).start(function (e) {\n                e.preventDefault();\n            });\n            activeActions.set(moveListener, touchMoveListener);\n        }\n        var eventStartListener = (0,popmotion__WEBPACK_IMPORTED_MODULE_0__.listen)(element, startEvents).start(function (startEvent) {\n            poser.unset(endPose);\n            poser.set(startPose);\n            if (startCallback && config[startCallback]) config[startCallback](startEvent);\n            var eventEndListener = (0,popmotion__WEBPACK_IMPORTED_MODULE_0__.listen)(useDocumentToEnd ? document.documentElement : element, endEvents + (useDocumentToEnd ? ' mouseenter' : '')).start(function (endEvent) {\n                if (useDocumentToEnd && endEvent.type === 'mouseenter' && endEvent.buttons === 1) {\n                    return;\n                }\n                activeActions.get(endListener).stop();\n                poser.unset(startPose);\n                poser.set(endPose);\n                if (endCallback && config[endCallback]) config[endCallback](endEvent);\n            });\n            activeActions.set(endListener, eventEndListener);\n        });\n        activeActions.set(startListener, eventStartListener);\n    };\n};\nvar events = {\n    draggable: /*#__PURE__*/makeUIEventApplicator({\n        startEvents: 'mousedown touchstart',\n        endEvents: 'mouseup touchend',\n        startPose: 'drag',\n        endPose: 'dragEnd',\n        startCallback: 'onDragStart',\n        endCallback: 'onDragEnd',\n        useDocumentToEnd: true,\n        preventScroll: true\n    }),\n    hoverable: /*#__PURE__*/makeUIEventApplicator({\n        startEvents: 'mouseenter',\n        endEvents: 'mouseleave',\n        startPose: 'hover',\n        endPose: 'hoverEnd'\n    }),\n    focusable: /*#__PURE__*/makeUIEventApplicator({\n        startEvents: 'focus',\n        endEvents: 'blur',\n        startPose: 'focus',\n        endPose: 'blur'\n    }),\n    pressable: /*#__PURE__*/makeUIEventApplicator({\n        startEvents: 'mousedown touchstart',\n        endEvents: 'mouseup touchend',\n        startPose: 'press',\n        endPose: 'pressEnd',\n        startCallback: 'onPressStart',\n        endCallback: 'onPressEnd',\n        useDocumentToEnd: true\n    })\n};\nvar eventKeys = /*#__PURE__*/Object.keys(events);\nvar appendEventListeners = function (element, activeActions, poser, _a) {\n    var props = _a.props;\n    return eventKeys.forEach(function (key) {\n        if (props[key]) events[key](element, activeActions, poser, props);\n    });\n};\n\nvar ORIGIN_START = 0;\nvar ORIGIN_CENTER = '50%';\nvar ORIGIN_END = '100%';\nvar findCenter = function (_a) {\n    var top = _a.top,\n        right = _a.right,\n        bottom = _a.bottom,\n        left = _a.left;\n    return {\n        x: (left + right) / 2,\n        y: (top + bottom) / 2\n    };\n};\nvar positionalProps = ['width', 'height', 'top', 'left', 'bottom', 'right'];\nvar positionalPropsDict = /*#__PURE__*/new Set(positionalProps);\nvar checkPositionalProp = function (key) {\n    return positionalPropsDict.has(key);\n};\nvar hasPositionalProps = function (pose) {\n    return Object.keys(pose).some(checkPositionalProp);\n};\nvar isFlipPose = function (flip, key, state) {\n    return state.props.element instanceof HTMLElement && (flip === true || key === 'flip');\n};\nvar setValue = function (_a, key, to) {\n    var values = _a.values,\n        props = _a.props;\n    if (values.has(key)) {\n        var raw = values.get(key).raw;\n        raw.update(to);\n        raw.update(to);\n    } else {\n        values.set(key, {\n            raw: (0,popmotion__WEBPACK_IMPORTED_MODULE_0__.value)(to, function (v) {\n                return props.elementStyler.set(key, v);\n            })\n        });\n    }\n};\nvar explicitlyFlipPose = function (state, nextPose) {\n    var _a = state.props,\n        dimensions = _a.dimensions,\n        elementStyler = _a.elementStyler;\n    dimensions.measure();\n    var width = nextPose.width,\n        height = nextPose.height,\n        top = nextPose.top,\n        left = nextPose.left,\n        bottom = nextPose.bottom,\n        right = nextPose.right,\n        position = nextPose.position,\n        remainingPose = __rest(nextPose, [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\"]);\n    var propsToSet = positionalProps.concat('position').reduce(function (acc, key) {\n        if (nextPose[key] !== undefined) {\n            acc[key] = resolveProp(nextPose[key], state.props);\n        }\n        return acc;\n    }, {});\n    elementStyler.set(propsToSet).render();\n    return implicitlyFlipPose(state, remainingPose);\n};\nvar implicitlyFlipPose = function (state, nextPose) {\n    var _a = state.props,\n        dimensions = _a.dimensions,\n        element = _a.element,\n        elementStyler = _a.elementStyler;\n    if (!dimensions.has()) return {};\n    var prev = dimensions.get();\n    var next = measureWithoutTransform(element);\n    var originX = prev.left === next.left ? ORIGIN_START : prev.right === next.right ? ORIGIN_END : ORIGIN_CENTER;\n    var originY = prev.top === next.top ? ORIGIN_START : prev.bottom === next.bottom ? ORIGIN_END : ORIGIN_CENTER;\n    elementStyler.set({ originX: originX, originY: originY });\n    if (prev.width !== next.width) {\n        setValue(state, 'scaleX', prev.width / next.width);\n        nextPose.scaleX = 1;\n    }\n    if (prev.height !== next.height) {\n        setValue(state, 'scaleY', prev.height / next.height);\n        nextPose.scaleY = 1;\n    }\n    var prevCenter = findCenter(prev);\n    var nextCenter = findCenter(next);\n    if (originX === ORIGIN_CENTER) {\n        setValue(state, 'x', prevCenter.x - nextCenter.x);\n        nextPose.x = 0;\n    }\n    if (originY === ORIGIN_CENTER) {\n        setValue(state, 'y', prevCenter.y - nextCenter.y);\n        nextPose.y = 0;\n    }\n    elementStyler.render();\n    return nextPose;\n};\nvar flipPose = function (props, nextPose) {\n    return hasPositionalProps(nextPose) ? explicitlyFlipPose(props, nextPose) : implicitlyFlipPose(props, nextPose);\n};\n\nvar getPosFromMatrix = function (matrix, pos) {\n    return parseFloat(matrix.split(', ')[pos]);\n};\nvar getTranslateFromMatrix = function (pos2, pos3) {\n    return function (element, bbox, _a) {\n        var transform$$1 = _a.transform;\n        if (!transform$$1 || transform$$1 === 'none') return 0;\n        var matrix3d = transform$$1.match(/^matrix3d\\((.+)\\)$/);\n        if (matrix3d) return getPosFromMatrix(matrix3d[1], pos3);\n        return getPosFromMatrix(transform$$1.match(/^matrix\\((.+)\\)$/)[1], pos2);\n    };\n};\nvar positionalValues = {\n    width: function (element, _a) {\n        var width = _a.width;\n        return width;\n    },\n    height: function (element, _a) {\n        var height = _a.height;\n        return height;\n    },\n    top: function (element, bbox, _a) {\n        var top = _a.top;\n        return parseFloat(top);\n    },\n    left: function (element, bbox, _a) {\n        var left = _a.left;\n        return parseFloat(left);\n    },\n    bottom: function (element, _a, _b) {\n        var height = _a.height;\n        var top = _b.top;\n        return parseFloat(top) + height;\n    },\n    right: function (element, _a, _b) {\n        var width = _a.width;\n        var left = _b.left;\n        return parseFloat(left) + width;\n    },\n    x: /*#__PURE__*/getTranslateFromMatrix(4, 13),\n    y: /*#__PURE__*/getTranslateFromMatrix(5, 14)\n};\nvar isPositionalKey = function (v) {\n    return positionalValues[v] !== undefined;\n};\nvar isPositional = function (pose) {\n    return Object.keys(pose).some(isPositionalKey);\n};\nvar convertPositionalUnits = function (state, nextPose) {\n    var values = state.values,\n        props = state.props;\n    var element = props.element,\n        elementStyler = props.elementStyler;\n    var positionalPoseKeys = Object.keys(nextPose).filter(isPositionalKey);\n    var changedPositionalKeys = [];\n    var elementComputedStyle = getComputedStyle(element);\n    var applyAtEndHasBeenCopied = false;\n    positionalPoseKeys.forEach(function (key) {\n        var value$$1 = values.get(key);\n        var fromValueType = getValueType(value$$1.raw.get());\n        var to = resolveProp(nextPose[key], props);\n        var toValueType = getValueType(to);\n        if (fromValueType !== toValueType) {\n            changedPositionalKeys.push(key);\n            if (!applyAtEndHasBeenCopied) {\n                applyAtEndHasBeenCopied = true;\n                nextPose.applyAtEnd = nextPose.applyAtEnd ? __assign({}, nextPose.applyAtEnd) : {};\n            }\n            nextPose.applyAtEnd[key] = nextPose.applyAtEnd[key] || nextPose[key];\n            setValue(state, key, to);\n        }\n    });\n    if (!changedPositionalKeys.length) return nextPose;\n    var originBbox = element.getBoundingClientRect();\n    var top = elementComputedStyle.top,\n        left = elementComputedStyle.left,\n        bottom = elementComputedStyle.bottom,\n        right = elementComputedStyle.right,\n        transform$$1 = elementComputedStyle.transform;\n    var originComputedStyle = { top: top, left: left, bottom: bottom, right: right, transform: transform$$1 };\n    elementStyler.render();\n    var targetBbox = element.getBoundingClientRect();\n    changedPositionalKeys.forEach(function (key) {\n        setValue(state, key, positionalValues[key](element, originBbox, originComputedStyle));\n        nextPose[key] = positionalValues[key](element, targetBbox, elementComputedStyle);\n    });\n    elementStyler.render();\n    return nextPose;\n};\n\nvar getCurrent = function (prop) {\n    return function (_a) {\n        var elementStyler = _a.elementStyler;\n        return elementStyler.get(prop);\n    };\n};\nvar dragPoses = function (draggable) {\n    var drag = {\n        preTransition: function (_a) {\n            var dimensions = _a.dimensions;\n            return dimensions.measure();\n        }\n    };\n    var dragEnd = {};\n    if (draggable === true || draggable === 'x') {\n        drag.x = dragEnd.x = getCurrent('x');\n    }\n    if (draggable === true || draggable === 'y') {\n        drag.y = dragEnd.y = getCurrent('y');\n    }\n    return { drag: drag, dragEnd: dragEnd };\n};\nvar createPoseConfig = function (element, _a) {\n    var onDragStart = _a.onDragStart,\n        onDragEnd = _a.onDragEnd,\n        onPressStart = _a.onPressStart,\n        onPressEnd = _a.onPressEnd,\n        draggable = _a.draggable,\n        hoverable = _a.hoverable,\n        focusable = _a.focusable,\n        pressable = _a.pressable,\n        dragBounds = _a.dragBounds,\n        config = __rest(_a, [\"onDragStart\", \"onDragEnd\", \"onPressStart\", \"onPressEnd\", \"draggable\", \"hoverable\", \"focusable\", \"pressable\", \"dragBounds\"]);\n    var poseConfig = __assign(__assign({ flip: {} }, config), { props: __assign(__assign({}, config.props), { onDragStart: onDragStart,\n            onDragEnd: onDragEnd,\n            onPressStart: onPressStart,\n            onPressEnd: onPressEnd,\n            dragBounds: dragBounds,\n            draggable: draggable,\n            hoverable: hoverable,\n            focusable: focusable,\n            pressable: pressable,\n            element: element, elementStyler: (0,popmotion__WEBPACK_IMPORTED_MODULE_0__.styler)(element, { preparseOutput: false }), dimensions: createDimensions(element) }) });\n    if (draggable) {\n        var _b = dragPoses(draggable),\n            drag = _b.drag,\n            dragEnd = _b.dragEnd;\n        poseConfig.drag = __assign(__assign({}, drag), poseConfig.drag);\n        poseConfig.dragEnd = __assign(__assign({}, dragEnd), poseConfig.dragEnd);\n    }\n    return poseConfig;\n};\nvar domPose = /*#__PURE__*/pose({\n    posePriority: ['drag', 'press', 'focus', 'hover'],\n    transformPose: function (_a, name, state) {\n        var flip = _a.flip,\n            pose$$1 = __rest(_a, [\"flip\"]);\n        if (isFlipPose(flip, name, state)) {\n            return flipPose(state, pose$$1);\n        } else if (isPositional(pose$$1)) {\n            return convertPositionalUnits(state, pose$$1);\n        }\n        return pose$$1;\n    },\n    forceRender: function (_a) {\n        var elementStyler = _a.elementStyler;\n        elementStyler.render();\n    },\n    addListenerToValue: function (key, elementStyler) {\n        return function (v) {\n            return elementStyler.set(key, v);\n        };\n    },\n    readValueFromSource: function (key, _a) {\n        var elementStyler = _a.elementStyler,\n            dragBounds = _a.dragBounds;\n        var value$$1 = elementStyler.get(key);\n        if (dragBounds && (key === 'x' || key === 'y')) {\n            var bound = key === 'x' ? dragBounds.left || dragBounds.right : dragBounds.top || dragBounds.bottom;\n            if (bound) {\n                var boundType = getValueType(bound);\n                value$$1 = boundType.transform(value$$1);\n            }\n        }\n        return isNaN(value$$1) ? value$$1 : parseFloat(value$$1);\n    },\n    setValueNative: function (key, to, _a) {\n        var elementStyler = _a.elementStyler;\n        return elementStyler.set(key, to);\n    },\n    extendAPI: function (api, _a, config) {\n        var props = _a.props,\n            activeActions = _a.activeActions;\n        var measure = props.dimensions.measure;\n        var poserApi = __assign(__assign({}, api), { addChild: function (element, childConfig) {\n                return api._addChild(createPoseConfig(element, childConfig), domPose);\n            }, measure: measure, flip: function (op) {\n                if (op) {\n                    measure();\n                    op();\n                }\n                return api.set('flip');\n            } });\n        props.elementStyler.render();\n        appendEventListeners(props.element, activeActions, poserApi, config);\n        return poserApi;\n    }\n});\nvar domPose$1 = function (element, config) {\n    return domPose(createPoseConfig(element, config));\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (domPose$1);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi1wb3NlL2Rpc3QvcG9wbW90aW9uLXBvc2UuZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24tcG9zZS9kaXN0L3BvcG1vdGlvbi1wb3NlLmVzLmpzPzkyMmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3ByaW5nLCB0d2VlbiwgYWN0aW9uLCBwb2ludGVyLCB0cmFuc2Zvcm0sIGRlY2F5LCBrZXlmcmFtZXMsIHBoeXNpY3MsIHZhbHVlLCBjaGFpbiwgZGVsYXksIGxpc3Rlbiwgc3R5bGVyIH0gZnJvbSAncG9wbW90aW9uJztcbmltcG9ydCB7IGxpbmVhciwgZWFzZUluLCBlYXNlT3V0LCBlYXNlSW5PdXQsIGNpcmNJbiwgY2lyY091dCwgY2lyY0luT3V0LCBiYWNrSW4sIGJhY2tPdXQsIGJhY2tJbk91dCwgYW50aWNpcGF0ZSwgY3ViaWNCZXppZXIgfSBmcm9tICdAcG9wbW90aW9uL2Vhc2luZyc7XG5pbXBvcnQgeyBwZXJjZW50LCBudW1iZXIsIGRlZ3JlZXMsIHB4LCB2dywgdmggfSBmcm9tICdzdHlsZS12YWx1ZS10eXBlcyc7XG5pbXBvcnQgcG9zZUZhY3RvcnkgZnJvbSAncG9zZS1jb3JlJztcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJ2hleS1saXN0ZW4nO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59XG5cbnZhciBCb3VuZGluZ0JveERpbWVuc2lvbjtcbihmdW5jdGlvbiAoQm91bmRpbmdCb3hEaW1lbnNpb24pIHtcbiAgICBCb3VuZGluZ0JveERpbWVuc2lvbltcIndpZHRoXCJdID0gXCJ3aWR0aFwiO1xuICAgIEJvdW5kaW5nQm94RGltZW5zaW9uW1wiaGVpZ2h0XCJdID0gXCJoZWlnaHRcIjtcbiAgICBCb3VuZGluZ0JveERpbWVuc2lvbltcImxlZnRcIl0gPSBcImxlZnRcIjtcbiAgICBCb3VuZGluZ0JveERpbWVuc2lvbltcInJpZ2h0XCJdID0gXCJyaWdodFwiO1xuICAgIEJvdW5kaW5nQm94RGltZW5zaW9uW1widG9wXCJdID0gXCJ0b3BcIjtcbiAgICBCb3VuZGluZ0JveERpbWVuc2lvbltcImJvdHRvbVwiXSA9IFwiYm90dG9tXCI7XG59KShCb3VuZGluZ0JveERpbWVuc2lvbiB8fCAoQm91bmRpbmdCb3hEaW1lbnNpb24gPSB7fSkpO1xuXG52YXIgbWVhc3VyZVdpdGhvdXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHZhciB0cmFuc2Zvcm0kJDEgPSBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybTtcbiAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgIHZhciBiYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybSQkMTtcbiAgICByZXR1cm4gYmJveDtcbn07XG52YXIgcmVzb2x2ZVByb3AgPSBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wcykge1xuICAgIHJldHVybiB0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nID8gdGFyZ2V0KHByb3BzKSA6IHRhcmdldDtcbn07XG5cbnZhciBpbnRlcnBvbGF0ZSA9IHRyYW5zZm9ybS5pbnRlcnBvbGF0ZTtcbnZhciBzaW5nbGVBeGlzUG9pbnRlciA9IGZ1bmN0aW9uIChheGlzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmcm9tKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIHBvaW50ZXIoKF9hID0ge30sIF9hW2F4aXNdID0gdHlwZW9mIGZyb20gPT09ICdzdHJpbmcnID8gcGFyc2VGbG9hdChmcm9tKSA6IGZyb20sIF9hKSkucGlwZShmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgcmV0dXJuIHZbYXhpc107XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xudmFyIHBvaW50ZXJYID0gLyojX19QVVJFX18qL3NpbmdsZUF4aXNQb2ludGVyKCd4Jyk7XG52YXIgcG9pbnRlclkgPSAvKiNfX1BVUkVfXyovc2luZ2xlQXhpc1BvaW50ZXIoJ3knKTtcbnZhciBjcmVhdGVQb2ludGVyID0gZnVuY3Rpb24gKGF4aXNQb2ludGVyQ3JlYXRvciwgbWluLCBtYXgsIG1lYXN1cmVtZW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0cmFuc2l0aW9uUHJvcHMpIHtcbiAgICAgICAgdmFyIGZyb20gPSB0cmFuc2l0aW9uUHJvcHMuZnJvbSxcbiAgICAgICAgICAgIHR5cGUgPSB0cmFuc2l0aW9uUHJvcHMudHlwZSxcbiAgICAgICAgICAgIGRpbWVuc2lvbnMgPSB0cmFuc2l0aW9uUHJvcHMuZGltZW5zaW9ucyxcbiAgICAgICAgICAgIGRyYWdCb3VuZHMgPSB0cmFuc2l0aW9uUHJvcHMuZHJhZ0JvdW5kcztcbiAgICAgICAgdmFyIGF4aXNQb2ludGVyID0gYXhpc1BvaW50ZXJDcmVhdG9yKGRpbWVuc2lvbnMubWVhc3VyZW1lbnRBc1BpeGVscyhtZWFzdXJlbWVudCwgZnJvbSwgdHlwZSkpO1xuICAgICAgICB2YXIgdHJhbnNmb3JtUXVldWUgPSBbXTtcbiAgICAgICAgaWYgKGRyYWdCb3VuZHMpIHtcbiAgICAgICAgICAgIHZhciByZXNvbHZlZERyYWdCb3VuZHNfMSA9IHJlc29sdmVQcm9wKGRyYWdCb3VuZHMsIHRyYW5zaXRpb25Qcm9wcyk7XG4gICAgICAgICAgICBpZiAocmVzb2x2ZWREcmFnQm91bmRzXzFbbWluXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtUXVldWUucHVzaChmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgodiwgZGltZW5zaW9ucy5tZWFzdXJlbWVudEFzUGl4ZWxzKG1lYXN1cmVtZW50LCByZXNvbHZlZERyYWdCb3VuZHNfMVttaW5dLCB0eXBlKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzb2x2ZWREcmFnQm91bmRzXzFbbWF4XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtUXVldWUucHVzaChmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4odiwgZGltZW5zaW9ucy5tZWFzdXJlbWVudEFzUGl4ZWxzKG1lYXN1cmVtZW50LCByZXNvbHZlZERyYWdCb3VuZHNfMVttYXhdLCB0eXBlKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IHBlcmNlbnQpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybVF1ZXVlLnB1c2goaW50ZXJwb2xhdGUoWzAsIGRpbWVuc2lvbnMuZ2V0KG1lYXN1cmVtZW50KV0sIFswLCAxMDBdLCB7IGNsYW1wOiBmYWxzZSB9KSwgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdiArICclJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1RdWV1ZS5sZW5ndGggPyBheGlzUG9pbnRlci5waXBlLmFwcGx5KGF4aXNQb2ludGVyLCB0cmFuc2Zvcm1RdWV1ZSkgOiBheGlzUG9pbnRlcjtcbiAgICB9O1xufTtcbnZhciBqdXN0ID0gZnVuY3Rpb24gKGZyb20pIHtcbiAgICByZXR1cm4gYWN0aW9uKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgdXBkYXRlID0gX2EudXBkYXRlLFxuICAgICAgICAgICAgY29tcGxldGUgPSBfYS5jb21wbGV0ZTtcbiAgICAgICAgdXBkYXRlKGZyb20pO1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgIH0pO1xufTtcbnZhciB1bmRlckRhbXBlZFNwcmluZyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBmcm9tID0gX2EuZnJvbSxcbiAgICAgICAgdmVsb2NpdHkgPSBfYS52ZWxvY2l0eSxcbiAgICAgICAgdG8gPSBfYS50bztcbiAgICByZXR1cm4gc3ByaW5nKHtcbiAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgdG86IHRvLFxuICAgICAgICB2ZWxvY2l0eTogdmVsb2NpdHksXG4gICAgICAgIHN0aWZmbmVzczogNTAwLFxuICAgICAgICBkYW1waW5nOiAyNSxcbiAgICAgICAgcmVzdERlbHRhOiAwLjUsXG4gICAgICAgIHJlc3RTcGVlZDogMTBcbiAgICB9KTtcbn07XG52YXIgb3ZlckRhbXBlZFNwcmluZyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBmcm9tID0gX2EuZnJvbSxcbiAgICAgICAgdmVsb2NpdHkgPSBfYS52ZWxvY2l0eSxcbiAgICAgICAgdG8gPSBfYS50bztcbiAgICByZXR1cm4gc3ByaW5nKHsgZnJvbTogZnJvbSwgdG86IHRvLCB2ZWxvY2l0eTogdmVsb2NpdHksIHN0aWZmbmVzczogNzAwLCBkYW1waW5nOiB0byA9PT0gMCA/IDEwMCA6IDM1IH0pO1xufTtcbnZhciBsaW5lYXJUd2VlbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBmcm9tID0gX2EuZnJvbSxcbiAgICAgICAgdG8gPSBfYS50bztcbiAgICByZXR1cm4gdHdlZW4oeyBmcm9tOiBmcm9tLCB0bzogdG8sIGVhc2U6IGxpbmVhciB9KTtcbn07XG52YXIgaW50ZWxsaWdlbnRUcmFuc2l0aW9uID0ge1xuICAgIHg6IHVuZGVyRGFtcGVkU3ByaW5nLFxuICAgIHk6IHVuZGVyRGFtcGVkU3ByaW5nLFxuICAgIHo6IHVuZGVyRGFtcGVkU3ByaW5nLFxuICAgIHJvdGF0ZTogdW5kZXJEYW1wZWRTcHJpbmcsXG4gICAgcm90YXRlWDogdW5kZXJEYW1wZWRTcHJpbmcsXG4gICAgcm90YXRlWTogdW5kZXJEYW1wZWRTcHJpbmcsXG4gICAgcm90YXRlWjogdW5kZXJEYW1wZWRTcHJpbmcsXG4gICAgc2NhbGVYOiBvdmVyRGFtcGVkU3ByaW5nLFxuICAgIHNjYWxlWTogb3ZlckRhbXBlZFNwcmluZyxcbiAgICBzY2FsZTogb3ZlckRhbXBlZFNwcmluZyxcbiAgICBvcGFjaXR5OiBsaW5lYXJUd2VlbixcbiAgICBkZWZhdWx0OiB0d2VlblxufTtcbnZhciBkcmFnQWN0aW9uID0gLyojX19QVVJFX18qL19fYXNzaWduKCAvKiNfX1BVUkVfXyovX19hc3NpZ24oe30sIGludGVsbGlnZW50VHJhbnNpdGlvbiksIHsgeDogLyojX19QVVJFX18qL2NyZWF0ZVBvaW50ZXIocG9pbnRlclgsICdsZWZ0JywgJ3JpZ2h0JywgQm91bmRpbmdCb3hEaW1lbnNpb24ud2lkdGgpLCB5OiAvKiNfX1BVUkVfXyovY3JlYXRlUG9pbnRlcihwb2ludGVyWSwgJ3RvcCcsICdib3R0b20nLCBCb3VuZGluZ0JveERpbWVuc2lvbi5oZWlnaHQpIH0pO1xudmFyIGp1c3RBeGlzID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGZyb20gPSBfYS5mcm9tO1xuICAgIHJldHVybiBqdXN0KGZyb20pO1xufTtcbnZhciBpbnRlbGxpZ2VudERyYWdFbmQgPSAvKiNfX1BVUkVfXyovX19hc3NpZ24oIC8qI19fUFVSRV9fKi9fX2Fzc2lnbih7fSwgaW50ZWxsaWdlbnRUcmFuc2l0aW9uKSwgeyB4OiBqdXN0QXhpcywgeToganVzdEF4aXMgfSk7XG52YXIgZGVmYXVsdFRyYW5zaXRpb25zID0gLyojX19QVVJFX18qL25ldyBNYXAoW1snZGVmYXVsdCcsIGludGVsbGlnZW50VHJhbnNpdGlvbl0sIFsnZHJhZycsIGRyYWdBY3Rpb25dLCBbJ2RyYWdFbmQnLCBpbnRlbGxpZ2VudERyYWdFbmRdXSk7XG5cbnZhciBhbmltYXRpb25Mb29rdXAgPSB7XG4gICAgdHdlZW46IHR3ZWVuLFxuICAgIHNwcmluZzogc3ByaW5nLFxuICAgIGRlY2F5OiBkZWNheSxcbiAgICBrZXlmcmFtZXM6IGtleWZyYW1lcyxcbiAgICBwaHlzaWNzOiBwaHlzaWNzXG59O1xudmFyIGVhc2luZ0xvb2t1cCA9IHtcbiAgICBsaW5lYXI6IGxpbmVhcixcbiAgICBlYXNlSW46IGVhc2VJbixcbiAgICBlYXNlT3V0OiBlYXNlT3V0LFxuICAgIGVhc2VJbk91dDogZWFzZUluT3V0LFxuICAgIGNpcmNJbjogY2lyY0luLFxuICAgIGNpcmNPdXQ6IGNpcmNPdXQsXG4gICAgY2lyY0luT3V0OiBjaXJjSW5PdXQsXG4gICAgYmFja0luOiBiYWNrSW4sXG4gICAgYmFja091dDogYmFja091dCxcbiAgICBiYWNrSW5PdXQ6IGJhY2tJbk91dCxcbiAgICBhbnRpY2lwYXRlOiBhbnRpY2lwYXRlXG59O1xuXG52YXIgYXV0byA9IHtcbiAgICB0ZXN0OiBmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gdiA9PT0gJ2F1dG8nO1xuICAgIH0sXG4gICAgcGFyc2U6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiB2O1xuICAgIH1cbn07XG52YXIgdmFsdWVUeXBlVGVzdHMgPSBbbnVtYmVyLCBkZWdyZWVzLCBwZXJjZW50LCBweCwgdncsIHZoLCBhdXRvXTtcbnZhciB0ZXN0VmFsdWVUeXBlID0gZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGUudGVzdCh2KTtcbiAgICB9O1xufTtcbnZhciBnZXRWYWx1ZVR5cGUgPSBmdW5jdGlvbiAodikge1xuICAgIHJldHVybiB2YWx1ZVR5cGVUZXN0cy5maW5kKHRlc3RWYWx1ZVR5cGUodikpO1xufTtcblxudmFyIGNyZWF0ZVBhc3NpdmVWYWx1ZSA9IGZ1bmN0aW9uIChpbml0LCBwYXJlbnQsIHRyYW5zZm9ybSQkMSkge1xuICAgIHZhciByYXcgPSB2YWx1ZSh0cmFuc2Zvcm0kJDEoaW5pdCkpO1xuICAgIHBhcmVudC5yYXcuc3Vic2NyaWJlKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiByYXcudXBkYXRlKHRyYW5zZm9ybSQkMSh2KSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgcmF3OiByYXcgfTtcbn07XG52YXIgY3JlYXRlVmFsdWUgPSBmdW5jdGlvbiAoaW5pdCkge1xuICAgIHZhciB0eXBlID0gZ2V0VmFsdWVUeXBlKGluaXQpO1xuICAgIHZhciByYXcgPSB2YWx1ZShpbml0KTtcbiAgICByZXR1cm4geyByYXc6IHJhdywgdHlwZTogdHlwZSB9O1xufTtcbnZhciBhZGRBY3Rpb25EZWxheSA9IGZ1bmN0aW9uIChkZWxheSQkMSwgdHJhbnNpdGlvbikge1xuICAgIGlmIChkZWxheSQkMSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGRlbGF5JCQxID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGNoYWluKGRlbGF5KGRlbGF5JCQxKSwgdHJhbnNpdGlvbik7XG59O1xudmFyIGlzQ3ViaWNCZXppZXJBcmdzID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICByZXR1cm4gdHlwZW9mIGFyZ3NbMF0gPT09ICdudW1iZXInO1xufTtcbnZhciBnZXRBY3Rpb24gPSBmdW5jdGlvbiAodiwgX2EsIF9iKSB7XG4gICAgdmFyIGZyb20gPSBfYi5mcm9tLFxuICAgICAgICB0byA9IF9iLnRvLFxuICAgICAgICB2ZWxvY2l0eSA9IF9iLnZlbG9jaXR5O1xuICAgIHZhciBfYyA9IF9hLnR5cGUsXG4gICAgICAgIHR5cGUgPSBfYyA9PT0gdm9pZCAwID8gJ3R3ZWVuJyA6IF9jLFxuICAgICAgICBkZWZpbmVkRWFzZSA9IF9hLmVhc2UsXG4gICAgICAgIGRlZiA9IF9fcmVzdChfYSwgW1widHlwZVwiLCBcImVhc2VcIl0pO1xuICAgIGludmFyaWFudChhbmltYXRpb25Mb29rdXBbdHlwZV0gIT09IHVuZGVmaW5lZCwgXCJJbnZhbGlkIHRyYW5zaXRpb24gdHlwZSAnXCIgKyB0eXBlICsgXCInLiBWYWxpZCB0cmFuc2l0aW9uIHR5cGVzIGFyZTogdHdlZW4sIHNwcmluZywgZGVjYXksIHBoeXNpY3MgYW5kIGtleWZyYW1lcy5cIik7XG4gICAgdmFyIGVhc2U7XG4gICAgaWYgKHR5cGUgPT09ICd0d2VlbicpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkZWZpbmVkRWFzZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkZWZpbmVkRWFzZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpbnZhcmlhbnQoZWFzaW5nTG9va3VwW2RlZmluZWRFYXNlXSAhPT0gdW5kZWZpbmVkLCBcIkludmFsaWQgZWFzaW5nIHR5cGUgJ1wiICsgZGVmaW5lZEVhc2UgKyBcIicuIHBvcG1vdGlvbi5pby9wb3NlL2FwaS9jb25maWdcIik7XG4gICAgICAgICAgICAgICAgZWFzZSA9IGVhc2luZ0xvb2t1cFtkZWZpbmVkRWFzZV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGVmaW5lZEVhc2UpICYmIGlzQ3ViaWNCZXppZXJBcmdzKGRlZmluZWRFYXNlKSkge1xuICAgICAgICAgICAgICAgIGludmFyaWFudChkZWZpbmVkRWFzZS5sZW5ndGggPT09IDQsIFwiQ3ViaWMgYmV6aWVyIGFycmF5cyBtdXN0IGNvbnRhaW4gZm91ciBudW1lcmljYWwgdmFsdWVzLlwiKTtcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSBkZWZpbmVkRWFzZVswXSxcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBkZWZpbmVkRWFzZVsxXSxcbiAgICAgICAgICAgICAgICAgICAgeDIgPSBkZWZpbmVkRWFzZVsyXSxcbiAgICAgICAgICAgICAgICAgICAgeTIgPSBkZWZpbmVkRWFzZVszXTtcbiAgICAgICAgICAgICAgICBlYXNlID0gY3ViaWNCZXppZXIoeDEsIHkxLCB4MiwgeTIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVhc2UgPSBlYXNlIHx8IGRlZmluZWRFYXNlO1xuICAgIHZhciBiYXNlUHJvcHMgPSB0eXBlICE9PSAna2V5ZnJhbWVzJyA/IHtcbiAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgdG86IHRvLFxuICAgICAgICB2ZWxvY2l0eTogdmVsb2NpdHksXG4gICAgICAgIGVhc2U6IGVhc2VcbiAgICB9IDogeyBlYXNlOiBlYXNlIH07XG4gICAgcmV0dXJuIGFuaW1hdGlvbkxvb2t1cFt0eXBlXShfX2Fzc2lnbihfX2Fzc2lnbih7fSwgYmFzZVByb3BzKSwgZGVmKSk7XG59O1xudmFyIGlzQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbiQkMSkge1xuICAgIHJldHVybiB0eXBlb2YgYWN0aW9uJCQxLnN0YXJ0ICE9PSAndW5kZWZpbmVkJztcbn07XG52YXIgcG9zZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciB0cmFuc2Zvcm1Qb3NlID0gX2EudHJhbnNmb3JtUG9zZSxcbiAgICAgICAgYWRkTGlzdGVuZXJUb1ZhbHVlID0gX2EuYWRkTGlzdGVuZXJUb1ZhbHVlLFxuICAgICAgICBleHRlbmRBUEkgPSBfYS5leHRlbmRBUEksXG4gICAgICAgIHJlYWRWYWx1ZUZyb21Tb3VyY2UgPSBfYS5yZWFkVmFsdWVGcm9tU291cmNlLFxuICAgICAgICBwb3NlUHJpb3JpdHkgPSBfYS5wb3NlUHJpb3JpdHksXG4gICAgICAgIHNldFZhbHVlTmF0aXZlID0gX2Euc2V0VmFsdWVOYXRpdmU7XG4gICAgcmV0dXJuIHBvc2VGYWN0b3J5KHtcbiAgICAgICAgYmluZE9uQ2hhbmdlOiBmdW5jdGlvbiAodmFsdWVzLCBvbkNoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlcy5oYXMoa2V5KSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHZhciByYXcgPSB2YWx1ZXMuZ2V0KGtleSkucmF3O1xuICAgICAgICAgICAgICAgIHJhdy5zdWJzY3JpYmUob25DaGFuZ2Vba2V5XSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICByZWFkVmFsdWU6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIHJhdyA9IF9hLnJhdztcbiAgICAgICAgICAgIHJldHVybiByYXcuZ2V0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZhbHVlOiBmdW5jdGlvbiAoX2EsIHRvKSB7XG4gICAgICAgICAgICB2YXIgcmF3ID0gX2EucmF3O1xuICAgICAgICAgICAgcmV0dXJuIHJhdy51cGRhdGUodG8pO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVWYWx1ZTogZnVuY3Rpb24gKGluaXQsIGtleSwgX2EsIF9iKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudFN0eWxlciA9IF9hLmVsZW1lbnRTdHlsZXI7XG4gICAgICAgICAgICB2YXIgX2MgPSBfYiA9PT0gdm9pZCAwID8ge30gOiBfYixcbiAgICAgICAgICAgICAgICBwYXNzaXZlUGFyZW50ID0gX2MucGFzc2l2ZVBhcmVudCxcbiAgICAgICAgICAgICAgICBwYXNzaXZlUHJvcHMgPSBfYy5wYXNzaXZlUHJvcHM7XG4gICAgICAgICAgICB2YXIgdmFsID0gcGFzc2l2ZVBhcmVudCA/IGNyZWF0ZVBhc3NpdmVWYWx1ZShpbml0LCBwYXNzaXZlUGFyZW50LCBwYXNzaXZlUHJvcHMpIDogY3JlYXRlVmFsdWUoaW5pdCk7XG4gICAgICAgICAgICB2YWwucmF3LnN1YnNjcmliZShhZGRMaXN0ZW5lclRvVmFsdWUoa2V5LCBlbGVtZW50U3R5bGVyKSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBjb252ZXJ0VmFsdWU6IGZ1bmN0aW9uIChyYXcsIGtleSwgX2EpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50U3R5bGVyID0gX2EuZWxlbWVudFN0eWxlcjtcbiAgICAgICAgICAgIHJhdy5zdWJzY3JpYmUoYWRkTGlzdGVuZXJUb1ZhbHVlKGtleSwgZWxlbWVudFN0eWxlcikpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByYXc6IHJhdyxcbiAgICAgICAgICAgICAgICB0eXBlOiBnZXRWYWx1ZVR5cGUocmF3LmdldCgpKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0VHJhbnNpdGlvblByb3BzOiBmdW5jdGlvbiAoX2EsIHRvKSB7XG4gICAgICAgICAgICB2YXIgcmF3ID0gX2EucmF3LFxuICAgICAgICAgICAgICAgIHR5cGUgPSBfYS50eXBlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmcm9tOiByYXcuZ2V0KCksXG4gICAgICAgICAgICAgICAgdmVsb2NpdHk6IHJhdy5nZXRWZWxvY2l0eSgpLFxuICAgICAgICAgICAgICAgIHRvOiB0byxcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICByZXNvbHZlVGFyZ2V0OiBmdW5jdGlvbiAoXywgdG8pIHtcbiAgICAgICAgICAgIHJldHVybiB0bztcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0VmFsdWVUb1JlYWQ6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIHJhdyA9IF9hLnJhdztcbiAgICAgICAgICAgIHJldHVybiByYXc7XG4gICAgICAgIH0sXG4gICAgICAgIHN0YXJ0QWN0aW9uOiBmdW5jdGlvbiAoX2EsIGFjdGlvbiQkMSwgY29tcGxldGUpIHtcbiAgICAgICAgICAgIHZhciByYXcgPSBfYS5yYXc7XG4gICAgICAgICAgICB2YXIgcmVhY3Rpb24gPSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmF3LnVwZGF0ZSh2KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb24kJDEuc3RhcnQocmVhY3Rpb24pO1xuICAgICAgICB9LFxuICAgICAgICBzdG9wQWN0aW9uOiBmdW5jdGlvbiAoYWN0aW9uJCQxKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uJCQxLnN0b3AoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0SW5zdGFudFRyYW5zaXRpb246IGZ1bmN0aW9uIChfLCBfYSkge1xuICAgICAgICAgICAgdmFyIHRvID0gX2EudG87XG4gICAgICAgICAgICByZXR1cm4ganVzdCh0byk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnZlcnRUcmFuc2l0aW9uRGVmaW5pdGlvbjogZnVuY3Rpb24gKHZhbCwgZGVmLCBwcm9wcykge1xuICAgICAgICAgICAgaWYgKGlzQWN0aW9uKGRlZikpIHJldHVybiBkZWY7XG4gICAgICAgICAgICB2YXIgZGVsYXkkJDEgPSBkZWYuZGVsYXksXG4gICAgICAgICAgICAgICAgbWluID0gZGVmLm1pbixcbiAgICAgICAgICAgICAgICBtYXggPSBkZWYubWF4LFxuICAgICAgICAgICAgICAgIHJvdW5kID0gZGVmLnJvdW5kLFxuICAgICAgICAgICAgICAgIHJlbWFpbmluZ0RlZiA9IF9fcmVzdChkZWYsIFtcImRlbGF5XCIsIFwibWluXCIsIFwibWF4XCIsIFwicm91bmRcIl0pO1xuICAgICAgICAgICAgdmFyIGFjdGlvbiQkMSA9IGdldEFjdGlvbih2YWwsIHJlbWFpbmluZ0RlZiwgcHJvcHMpO1xuICAgICAgICAgICAgdmFyIG91dHB1dFBpcGUgPSBbXTtcbiAgICAgICAgICAgIGlmIChkZWxheSQkMSkgYWN0aW9uJCQxID0gYWRkQWN0aW9uRGVsYXkoZGVsYXkkJDEsIGFjdGlvbiQkMSk7XG4gICAgICAgICAgICBpZiAobWluICE9PSB1bmRlZmluZWQpIG91dHB1dFBpcGUucHVzaChmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh2LCBtaW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobWF4ICE9PSB1bmRlZmluZWQpIG91dHB1dFBpcGUucHVzaChmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbih2LCBtYXgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocm91bmQpIG91dHB1dFBpcGUucHVzaChNYXRoLnJvdW5kKTtcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXRQaXBlLmxlbmd0aCA/IGFjdGlvbiQkMS5waXBlLmFwcGx5KGFjdGlvbiQkMSwgb3V0cHV0UGlwZSkgOiBhY3Rpb24kJDE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZhbHVlTmF0aXZlOiBzZXRWYWx1ZU5hdGl2ZSxcbiAgICAgICAgYWRkQWN0aW9uRGVsYXk6IGFkZEFjdGlvbkRlbGF5LFxuICAgICAgICBkZWZhdWx0VHJhbnNpdGlvbnM6IGRlZmF1bHRUcmFuc2l0aW9ucyxcbiAgICAgICAgdHJhbnNmb3JtUG9zZTogdHJhbnNmb3JtUG9zZSxcbiAgICAgICAgcmVhZFZhbHVlRnJvbVNvdXJjZTogcmVhZFZhbHVlRnJvbVNvdXJjZSxcbiAgICAgICAgcG9zZVByaW9yaXR5OiBwb3NlUHJpb3JpdHksXG4gICAgICAgIGV4dGVuZEFQSTogZXh0ZW5kQVBJXG4gICAgfSk7XG59O1xuXG52YXIgY3JlYXRlRGltZW5zaW9ucyA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgdmFyIGhhc01lYXN1cmVkID0gZmFsc2U7XG4gICAgdmFyIGN1cnJlbnQgPSB7XG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICByaWdodDogMFxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAobWVhc3VyZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBtZWFzdXJlbWVudCA/IGN1cnJlbnRbbWVhc3VyZW1lbnRdIDogY3VycmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgbWVhc3VyZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3VycmVudCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBoYXNNZWFzdXJlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgbWVhc3VyZW1lbnRBc1BpeGVsczogZnVuY3Rpb24gKG1lYXN1cmVtZW50LCB2YWx1ZSQkMSwgdHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGUgPT09IHBlcmNlbnQgPyAodHlwZW9mIHZhbHVlJCQxID09PSAnc3RyaW5nJyA/IHBhcnNlRmxvYXQodmFsdWUkJDEpIDogdmFsdWUkJDEpIC8gMTAwICogY3VycmVudFttZWFzdXJlbWVudF0gOiB2YWx1ZSQkMTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFzTWVhc3VyZWQ7XG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIG1ha2VVSUV2ZW50QXBwbGljYXRvciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBzdGFydEV2ZW50cyA9IF9hLnN0YXJ0RXZlbnRzLFxuICAgICAgICBlbmRFdmVudHMgPSBfYS5lbmRFdmVudHMsXG4gICAgICAgIHN0YXJ0UG9zZSA9IF9hLnN0YXJ0UG9zZSxcbiAgICAgICAgZW5kUG9zZSA9IF9hLmVuZFBvc2UsXG4gICAgICAgIHN0YXJ0Q2FsbGJhY2sgPSBfYS5zdGFydENhbGxiYWNrLFxuICAgICAgICBlbmRDYWxsYmFjayA9IF9hLmVuZENhbGxiYWNrLFxuICAgICAgICB1c2VEb2N1bWVudFRvRW5kID0gX2EudXNlRG9jdW1lbnRUb0VuZCxcbiAgICAgICAgcHJldmVudFNjcm9sbCA9IF9hLnByZXZlbnRTY3JvbGw7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50LCBhY3RpdmVBY3Rpb25zLCBwb3NlciwgY29uZmlnKSB7XG4gICAgICAgIHZhciBzdGFydExpc3RlbmVyID0gc3RhcnRQb3NlICsgJ1N0YXJ0JztcbiAgICAgICAgdmFyIGVuZExpc3RlbmVyID0gc3RhcnRQb3NlICsgJ0VuZCc7XG4gICAgICAgIHZhciBtb3ZlTGlzdGVuZXIgPSBzdGFydFBvc2UgKyAnTW92ZSc7XG4gICAgICAgIGlmIChwcmV2ZW50U2Nyb2xsKSB7XG4gICAgICAgICAgICB2YXIgdG91Y2hNb3ZlTGlzdGVuZXIgPSBsaXN0ZW4oZWxlbWVudCwgJ3RvdWNobW92ZScsIHtcbiAgICAgICAgICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgICAgICAgfSkuc3RhcnQoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFjdGl2ZUFjdGlvbnMuc2V0KG1vdmVMaXN0ZW5lciwgdG91Y2hNb3ZlTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBldmVudFN0YXJ0TGlzdGVuZXIgPSBsaXN0ZW4oZWxlbWVudCwgc3RhcnRFdmVudHMpLnN0YXJ0KGZ1bmN0aW9uIChzdGFydEV2ZW50KSB7XG4gICAgICAgICAgICBwb3Nlci51bnNldChlbmRQb3NlKTtcbiAgICAgICAgICAgIHBvc2VyLnNldChzdGFydFBvc2UpO1xuICAgICAgICAgICAgaWYgKHN0YXJ0Q2FsbGJhY2sgJiYgY29uZmlnW3N0YXJ0Q2FsbGJhY2tdKSBjb25maWdbc3RhcnRDYWxsYmFja10oc3RhcnRFdmVudCk7XG4gICAgICAgICAgICB2YXIgZXZlbnRFbmRMaXN0ZW5lciA9IGxpc3Rlbih1c2VEb2N1bWVudFRvRW5kID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IDogZWxlbWVudCwgZW5kRXZlbnRzICsgKHVzZURvY3VtZW50VG9FbmQgPyAnIG1vdXNlZW50ZXInIDogJycpKS5zdGFydChmdW5jdGlvbiAoZW5kRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlRG9jdW1lbnRUb0VuZCAmJiBlbmRFdmVudC50eXBlID09PSAnbW91c2VlbnRlcicgJiYgZW5kRXZlbnQuYnV0dG9ucyA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbnMuZ2V0KGVuZExpc3RlbmVyKS5zdG9wKCk7XG4gICAgICAgICAgICAgICAgcG9zZXIudW5zZXQoc3RhcnRQb3NlKTtcbiAgICAgICAgICAgICAgICBwb3Nlci5zZXQoZW5kUG9zZSk7XG4gICAgICAgICAgICAgICAgaWYgKGVuZENhbGxiYWNrICYmIGNvbmZpZ1tlbmRDYWxsYmFja10pIGNvbmZpZ1tlbmRDYWxsYmFja10oZW5kRXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhY3RpdmVBY3Rpb25zLnNldChlbmRMaXN0ZW5lciwgZXZlbnRFbmRMaXN0ZW5lcik7XG4gICAgICAgIH0pO1xuICAgICAgICBhY3RpdmVBY3Rpb25zLnNldChzdGFydExpc3RlbmVyLCBldmVudFN0YXJ0TGlzdGVuZXIpO1xuICAgIH07XG59O1xudmFyIGV2ZW50cyA9IHtcbiAgICBkcmFnZ2FibGU6IC8qI19fUFVSRV9fKi9tYWtlVUlFdmVudEFwcGxpY2F0b3Ioe1xuICAgICAgICBzdGFydEV2ZW50czogJ21vdXNlZG93biB0b3VjaHN0YXJ0JyxcbiAgICAgICAgZW5kRXZlbnRzOiAnbW91c2V1cCB0b3VjaGVuZCcsXG4gICAgICAgIHN0YXJ0UG9zZTogJ2RyYWcnLFxuICAgICAgICBlbmRQb3NlOiAnZHJhZ0VuZCcsXG4gICAgICAgIHN0YXJ0Q2FsbGJhY2s6ICdvbkRyYWdTdGFydCcsXG4gICAgICAgIGVuZENhbGxiYWNrOiAnb25EcmFnRW5kJyxcbiAgICAgICAgdXNlRG9jdW1lbnRUb0VuZDogdHJ1ZSxcbiAgICAgICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICAgIH0pLFxuICAgIGhvdmVyYWJsZTogLyojX19QVVJFX18qL21ha2VVSUV2ZW50QXBwbGljYXRvcih7XG4gICAgICAgIHN0YXJ0RXZlbnRzOiAnbW91c2VlbnRlcicsXG4gICAgICAgIGVuZEV2ZW50czogJ21vdXNlbGVhdmUnLFxuICAgICAgICBzdGFydFBvc2U6ICdob3ZlcicsXG4gICAgICAgIGVuZFBvc2U6ICdob3ZlckVuZCdcbiAgICB9KSxcbiAgICBmb2N1c2FibGU6IC8qI19fUFVSRV9fKi9tYWtlVUlFdmVudEFwcGxpY2F0b3Ioe1xuICAgICAgICBzdGFydEV2ZW50czogJ2ZvY3VzJyxcbiAgICAgICAgZW5kRXZlbnRzOiAnYmx1cicsXG4gICAgICAgIHN0YXJ0UG9zZTogJ2ZvY3VzJyxcbiAgICAgICAgZW5kUG9zZTogJ2JsdXInXG4gICAgfSksXG4gICAgcHJlc3NhYmxlOiAvKiNfX1BVUkVfXyovbWFrZVVJRXZlbnRBcHBsaWNhdG9yKHtcbiAgICAgICAgc3RhcnRFdmVudHM6ICdtb3VzZWRvd24gdG91Y2hzdGFydCcsXG4gICAgICAgIGVuZEV2ZW50czogJ21vdXNldXAgdG91Y2hlbmQnLFxuICAgICAgICBzdGFydFBvc2U6ICdwcmVzcycsXG4gICAgICAgIGVuZFBvc2U6ICdwcmVzc0VuZCcsXG4gICAgICAgIHN0YXJ0Q2FsbGJhY2s6ICdvblByZXNzU3RhcnQnLFxuICAgICAgICBlbmRDYWxsYmFjazogJ29uUHJlc3NFbmQnLFxuICAgICAgICB1c2VEb2N1bWVudFRvRW5kOiB0cnVlXG4gICAgfSlcbn07XG52YXIgZXZlbnRLZXlzID0gLyojX19QVVJFX18qL09iamVjdC5rZXlzKGV2ZW50cyk7XG52YXIgYXBwZW5kRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoZWxlbWVudCwgYWN0aXZlQWN0aW9ucywgcG9zZXIsIF9hKSB7XG4gICAgdmFyIHByb3BzID0gX2EucHJvcHM7XG4gICAgcmV0dXJuIGV2ZW50S2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKHByb3BzW2tleV0pIGV2ZW50c1trZXldKGVsZW1lbnQsIGFjdGl2ZUFjdGlvbnMsIHBvc2VyLCBwcm9wcyk7XG4gICAgfSk7XG59O1xuXG52YXIgT1JJR0lOX1NUQVJUID0gMDtcbnZhciBPUklHSU5fQ0VOVEVSID0gJzUwJSc7XG52YXIgT1JJR0lOX0VORCA9ICcxMDAlJztcbnZhciBmaW5kQ2VudGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHRvcCA9IF9hLnRvcCxcbiAgICAgICAgcmlnaHQgPSBfYS5yaWdodCxcbiAgICAgICAgYm90dG9tID0gX2EuYm90dG9tLFxuICAgICAgICBsZWZ0ID0gX2EubGVmdDtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiAobGVmdCArIHJpZ2h0KSAvIDIsXG4gICAgICAgIHk6ICh0b3AgKyBib3R0b20pIC8gMlxuICAgIH07XG59O1xudmFyIHBvc2l0aW9uYWxQcm9wcyA9IFsnd2lkdGgnLCAnaGVpZ2h0JywgJ3RvcCcsICdsZWZ0JywgJ2JvdHRvbScsICdyaWdodCddO1xudmFyIHBvc2l0aW9uYWxQcm9wc0RpY3QgPSAvKiNfX1BVUkVfXyovbmV3IFNldChwb3NpdGlvbmFsUHJvcHMpO1xudmFyIGNoZWNrUG9zaXRpb25hbFByb3AgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHBvc2l0aW9uYWxQcm9wc0RpY3QuaGFzKGtleSk7XG59O1xudmFyIGhhc1Bvc2l0aW9uYWxQcm9wcyA9IGZ1bmN0aW9uIChwb3NlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHBvc2UpLnNvbWUoY2hlY2tQb3NpdGlvbmFsUHJvcCk7XG59O1xudmFyIGlzRmxpcFBvc2UgPSBmdW5jdGlvbiAoZmxpcCwga2V5LCBzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5wcm9wcy5lbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgKGZsaXAgPT09IHRydWUgfHwga2V5ID09PSAnZmxpcCcpO1xufTtcbnZhciBzZXRWYWx1ZSA9IGZ1bmN0aW9uIChfYSwga2V5LCB0bykge1xuICAgIHZhciB2YWx1ZXMgPSBfYS52YWx1ZXMsXG4gICAgICAgIHByb3BzID0gX2EucHJvcHM7XG4gICAgaWYgKHZhbHVlcy5oYXMoa2V5KSkge1xuICAgICAgICB2YXIgcmF3ID0gdmFsdWVzLmdldChrZXkpLnJhdztcbiAgICAgICAgcmF3LnVwZGF0ZSh0byk7XG4gICAgICAgIHJhdy51cGRhdGUodG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlcy5zZXQoa2V5LCB7XG4gICAgICAgICAgICByYXc6IHZhbHVlKHRvLCBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wcy5lbGVtZW50U3R5bGVyLnNldChrZXksIHYpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxufTtcbnZhciBleHBsaWNpdGx5RmxpcFBvc2UgPSBmdW5jdGlvbiAoc3RhdGUsIG5leHRQb3NlKSB7XG4gICAgdmFyIF9hID0gc3RhdGUucHJvcHMsXG4gICAgICAgIGRpbWVuc2lvbnMgPSBfYS5kaW1lbnNpb25zLFxuICAgICAgICBlbGVtZW50U3R5bGVyID0gX2EuZWxlbWVudFN0eWxlcjtcbiAgICBkaW1lbnNpb25zLm1lYXN1cmUoKTtcbiAgICB2YXIgd2lkdGggPSBuZXh0UG9zZS53aWR0aCxcbiAgICAgICAgaGVpZ2h0ID0gbmV4dFBvc2UuaGVpZ2h0LFxuICAgICAgICB0b3AgPSBuZXh0UG9zZS50b3AsXG4gICAgICAgIGxlZnQgPSBuZXh0UG9zZS5sZWZ0LFxuICAgICAgICBib3R0b20gPSBuZXh0UG9zZS5ib3R0b20sXG4gICAgICAgIHJpZ2h0ID0gbmV4dFBvc2UucmlnaHQsXG4gICAgICAgIHBvc2l0aW9uID0gbmV4dFBvc2UucG9zaXRpb24sXG4gICAgICAgIHJlbWFpbmluZ1Bvc2UgPSBfX3Jlc3QobmV4dFBvc2UsIFtcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwidG9wXCIsIFwibGVmdFwiLCBcImJvdHRvbVwiLCBcInJpZ2h0XCIsIFwicG9zaXRpb25cIl0pO1xuICAgIHZhciBwcm9wc1RvU2V0ID0gcG9zaXRpb25hbFByb3BzLmNvbmNhdCgncG9zaXRpb24nKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIGlmIChuZXh0UG9zZVtrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gcmVzb2x2ZVByb3AobmV4dFBvc2Vba2V5XSwgc3RhdGUucHJvcHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICAgIGVsZW1lbnRTdHlsZXIuc2V0KHByb3BzVG9TZXQpLnJlbmRlcigpO1xuICAgIHJldHVybiBpbXBsaWNpdGx5RmxpcFBvc2Uoc3RhdGUsIHJlbWFpbmluZ1Bvc2UpO1xufTtcbnZhciBpbXBsaWNpdGx5RmxpcFBvc2UgPSBmdW5jdGlvbiAoc3RhdGUsIG5leHRQb3NlKSB7XG4gICAgdmFyIF9hID0gc3RhdGUucHJvcHMsXG4gICAgICAgIGRpbWVuc2lvbnMgPSBfYS5kaW1lbnNpb25zLFxuICAgICAgICBlbGVtZW50ID0gX2EuZWxlbWVudCxcbiAgICAgICAgZWxlbWVudFN0eWxlciA9IF9hLmVsZW1lbnRTdHlsZXI7XG4gICAgaWYgKCFkaW1lbnNpb25zLmhhcygpKSByZXR1cm4ge307XG4gICAgdmFyIHByZXYgPSBkaW1lbnNpb25zLmdldCgpO1xuICAgIHZhciBuZXh0ID0gbWVhc3VyZVdpdGhvdXRUcmFuc2Zvcm0oZWxlbWVudCk7XG4gICAgdmFyIG9yaWdpblggPSBwcmV2LmxlZnQgPT09IG5leHQubGVmdCA/IE9SSUdJTl9TVEFSVCA6IHByZXYucmlnaHQgPT09IG5leHQucmlnaHQgPyBPUklHSU5fRU5EIDogT1JJR0lOX0NFTlRFUjtcbiAgICB2YXIgb3JpZ2luWSA9IHByZXYudG9wID09PSBuZXh0LnRvcCA/IE9SSUdJTl9TVEFSVCA6IHByZXYuYm90dG9tID09PSBuZXh0LmJvdHRvbSA/IE9SSUdJTl9FTkQgOiBPUklHSU5fQ0VOVEVSO1xuICAgIGVsZW1lbnRTdHlsZXIuc2V0KHsgb3JpZ2luWDogb3JpZ2luWCwgb3JpZ2luWTogb3JpZ2luWSB9KTtcbiAgICBpZiAocHJldi53aWR0aCAhPT0gbmV4dC53aWR0aCkge1xuICAgICAgICBzZXRWYWx1ZShzdGF0ZSwgJ3NjYWxlWCcsIHByZXYud2lkdGggLyBuZXh0LndpZHRoKTtcbiAgICAgICAgbmV4dFBvc2Uuc2NhbGVYID0gMTtcbiAgICB9XG4gICAgaWYgKHByZXYuaGVpZ2h0ICE9PSBuZXh0LmhlaWdodCkge1xuICAgICAgICBzZXRWYWx1ZShzdGF0ZSwgJ3NjYWxlWScsIHByZXYuaGVpZ2h0IC8gbmV4dC5oZWlnaHQpO1xuICAgICAgICBuZXh0UG9zZS5zY2FsZVkgPSAxO1xuICAgIH1cbiAgICB2YXIgcHJldkNlbnRlciA9IGZpbmRDZW50ZXIocHJldik7XG4gICAgdmFyIG5leHRDZW50ZXIgPSBmaW5kQ2VudGVyKG5leHQpO1xuICAgIGlmIChvcmlnaW5YID09PSBPUklHSU5fQ0VOVEVSKSB7XG4gICAgICAgIHNldFZhbHVlKHN0YXRlLCAneCcsIHByZXZDZW50ZXIueCAtIG5leHRDZW50ZXIueCk7XG4gICAgICAgIG5leHRQb3NlLnggPSAwO1xuICAgIH1cbiAgICBpZiAob3JpZ2luWSA9PT0gT1JJR0lOX0NFTlRFUikge1xuICAgICAgICBzZXRWYWx1ZShzdGF0ZSwgJ3knLCBwcmV2Q2VudGVyLnkgLSBuZXh0Q2VudGVyLnkpO1xuICAgICAgICBuZXh0UG9zZS55ID0gMDtcbiAgICB9XG4gICAgZWxlbWVudFN0eWxlci5yZW5kZXIoKTtcbiAgICByZXR1cm4gbmV4dFBvc2U7XG59O1xudmFyIGZsaXBQb3NlID0gZnVuY3Rpb24gKHByb3BzLCBuZXh0UG9zZSkge1xuICAgIHJldHVybiBoYXNQb3NpdGlvbmFsUHJvcHMobmV4dFBvc2UpID8gZXhwbGljaXRseUZsaXBQb3NlKHByb3BzLCBuZXh0UG9zZSkgOiBpbXBsaWNpdGx5RmxpcFBvc2UocHJvcHMsIG5leHRQb3NlKTtcbn07XG5cbnZhciBnZXRQb3NGcm9tTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCwgcG9zKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQobWF0cml4LnNwbGl0KCcsICcpW3Bvc10pO1xufTtcbnZhciBnZXRUcmFuc2xhdGVGcm9tTWF0cml4ID0gZnVuY3Rpb24gKHBvczIsIHBvczMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIGJib3gsIF9hKSB7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0kJDEgPSBfYS50cmFuc2Zvcm07XG4gICAgICAgIGlmICghdHJhbnNmb3JtJCQxIHx8IHRyYW5zZm9ybSQkMSA9PT0gJ25vbmUnKSByZXR1cm4gMDtcbiAgICAgICAgdmFyIG1hdHJpeDNkID0gdHJhbnNmb3JtJCQxLm1hdGNoKC9ebWF0cml4M2RcXCgoLispXFwpJC8pO1xuICAgICAgICBpZiAobWF0cml4M2QpIHJldHVybiBnZXRQb3NGcm9tTWF0cml4KG1hdHJpeDNkWzFdLCBwb3MzKTtcbiAgICAgICAgcmV0dXJuIGdldFBvc0Zyb21NYXRyaXgodHJhbnNmb3JtJCQxLm1hdGNoKC9ebWF0cml4XFwoKC4rKVxcKSQvKVsxXSwgcG9zMik7XG4gICAgfTtcbn07XG52YXIgcG9zaXRpb25hbFZhbHVlcyA9IHtcbiAgICB3aWR0aDogZnVuY3Rpb24gKGVsZW1lbnQsIF9hKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IF9hLndpZHRoO1xuICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgfSxcbiAgICBoZWlnaHQ6IGZ1bmN0aW9uIChlbGVtZW50LCBfYSkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICByZXR1cm4gaGVpZ2h0O1xuICAgIH0sXG4gICAgdG9wOiBmdW5jdGlvbiAoZWxlbWVudCwgYmJveCwgX2EpIHtcbiAgICAgICAgdmFyIHRvcCA9IF9hLnRvcDtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodG9wKTtcbiAgICB9LFxuICAgIGxlZnQ6IGZ1bmN0aW9uIChlbGVtZW50LCBiYm94LCBfYSkge1xuICAgICAgICB2YXIgbGVmdCA9IF9hLmxlZnQ7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGxlZnQpO1xuICAgIH0sXG4gICAgYm90dG9tOiBmdW5jdGlvbiAoZWxlbWVudCwgX2EsIF9iKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHZhciB0b3AgPSBfYi50b3A7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRvcCkgKyBoZWlnaHQ7XG4gICAgfSxcbiAgICByaWdodDogZnVuY3Rpb24gKGVsZW1lbnQsIF9hLCBfYikge1xuICAgICAgICB2YXIgd2lkdGggPSBfYS53aWR0aDtcbiAgICAgICAgdmFyIGxlZnQgPSBfYi5sZWZ0O1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChsZWZ0KSArIHdpZHRoO1xuICAgIH0sXG4gICAgeDogLyojX19QVVJFX18qL2dldFRyYW5zbGF0ZUZyb21NYXRyaXgoNCwgMTMpLFxuICAgIHk6IC8qI19fUFVSRV9fKi9nZXRUcmFuc2xhdGVGcm9tTWF0cml4KDUsIDE0KVxufTtcbnZhciBpc1Bvc2l0aW9uYWxLZXkgPSBmdW5jdGlvbiAodikge1xuICAgIHJldHVybiBwb3NpdGlvbmFsVmFsdWVzW3ZdICE9PSB1bmRlZmluZWQ7XG59O1xudmFyIGlzUG9zaXRpb25hbCA9IGZ1bmN0aW9uIChwb3NlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHBvc2UpLnNvbWUoaXNQb3NpdGlvbmFsS2V5KTtcbn07XG52YXIgY29udmVydFBvc2l0aW9uYWxVbml0cyA9IGZ1bmN0aW9uIChzdGF0ZSwgbmV4dFBvc2UpIHtcbiAgICB2YXIgdmFsdWVzID0gc3RhdGUudmFsdWVzLFxuICAgICAgICBwcm9wcyA9IHN0YXRlLnByb3BzO1xuICAgIHZhciBlbGVtZW50ID0gcHJvcHMuZWxlbWVudCxcbiAgICAgICAgZWxlbWVudFN0eWxlciA9IHByb3BzLmVsZW1lbnRTdHlsZXI7XG4gICAgdmFyIHBvc2l0aW9uYWxQb3NlS2V5cyA9IE9iamVjdC5rZXlzKG5leHRQb3NlKS5maWx0ZXIoaXNQb3NpdGlvbmFsS2V5KTtcbiAgICB2YXIgY2hhbmdlZFBvc2l0aW9uYWxLZXlzID0gW107XG4gICAgdmFyIGVsZW1lbnRDb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICB2YXIgYXBwbHlBdEVuZEhhc0JlZW5Db3BpZWQgPSBmYWxzZTtcbiAgICBwb3NpdGlvbmFsUG9zZUtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSQkMSA9IHZhbHVlcy5nZXQoa2V5KTtcbiAgICAgICAgdmFyIGZyb21WYWx1ZVR5cGUgPSBnZXRWYWx1ZVR5cGUodmFsdWUkJDEucmF3LmdldCgpKTtcbiAgICAgICAgdmFyIHRvID0gcmVzb2x2ZVByb3AobmV4dFBvc2Vba2V5XSwgcHJvcHMpO1xuICAgICAgICB2YXIgdG9WYWx1ZVR5cGUgPSBnZXRWYWx1ZVR5cGUodG8pO1xuICAgICAgICBpZiAoZnJvbVZhbHVlVHlwZSAhPT0gdG9WYWx1ZVR5cGUpIHtcbiAgICAgICAgICAgIGNoYW5nZWRQb3NpdGlvbmFsS2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICBpZiAoIWFwcGx5QXRFbmRIYXNCZWVuQ29waWVkKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlBdEVuZEhhc0JlZW5Db3BpZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG5leHRQb3NlLmFwcGx5QXRFbmQgPSBuZXh0UG9zZS5hcHBseUF0RW5kID8gX19hc3NpZ24oe30sIG5leHRQb3NlLmFwcGx5QXRFbmQpIDoge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0UG9zZS5hcHBseUF0RW5kW2tleV0gPSBuZXh0UG9zZS5hcHBseUF0RW5kW2tleV0gfHwgbmV4dFBvc2Vba2V5XTtcbiAgICAgICAgICAgIHNldFZhbHVlKHN0YXRlLCBrZXksIHRvKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghY2hhbmdlZFBvc2l0aW9uYWxLZXlzLmxlbmd0aCkgcmV0dXJuIG5leHRQb3NlO1xuICAgIHZhciBvcmlnaW5CYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgdG9wID0gZWxlbWVudENvbXB1dGVkU3R5bGUudG9wLFxuICAgICAgICBsZWZ0ID0gZWxlbWVudENvbXB1dGVkU3R5bGUubGVmdCxcbiAgICAgICAgYm90dG9tID0gZWxlbWVudENvbXB1dGVkU3R5bGUuYm90dG9tLFxuICAgICAgICByaWdodCA9IGVsZW1lbnRDb21wdXRlZFN0eWxlLnJpZ2h0LFxuICAgICAgICB0cmFuc2Zvcm0kJDEgPSBlbGVtZW50Q29tcHV0ZWRTdHlsZS50cmFuc2Zvcm07XG4gICAgdmFyIG9yaWdpbkNvbXB1dGVkU3R5bGUgPSB7IHRvcDogdG9wLCBsZWZ0OiBsZWZ0LCBib3R0b206IGJvdHRvbSwgcmlnaHQ6IHJpZ2h0LCB0cmFuc2Zvcm06IHRyYW5zZm9ybSQkMSB9O1xuICAgIGVsZW1lbnRTdHlsZXIucmVuZGVyKCk7XG4gICAgdmFyIHRhcmdldEJib3ggPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNoYW5nZWRQb3NpdGlvbmFsS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgc2V0VmFsdWUoc3RhdGUsIGtleSwgcG9zaXRpb25hbFZhbHVlc1trZXldKGVsZW1lbnQsIG9yaWdpbkJib3gsIG9yaWdpbkNvbXB1dGVkU3R5bGUpKTtcbiAgICAgICAgbmV4dFBvc2Vba2V5XSA9IHBvc2l0aW9uYWxWYWx1ZXNba2V5XShlbGVtZW50LCB0YXJnZXRCYm94LCBlbGVtZW50Q29tcHV0ZWRTdHlsZSk7XG4gICAgfSk7XG4gICAgZWxlbWVudFN0eWxlci5yZW5kZXIoKTtcbiAgICByZXR1cm4gbmV4dFBvc2U7XG59O1xuXG52YXIgZ2V0Q3VycmVudCA9IGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZWxlbWVudFN0eWxlciA9IF9hLmVsZW1lbnRTdHlsZXI7XG4gICAgICAgIHJldHVybiBlbGVtZW50U3R5bGVyLmdldChwcm9wKTtcbiAgICB9O1xufTtcbnZhciBkcmFnUG9zZXMgPSBmdW5jdGlvbiAoZHJhZ2dhYmxlKSB7XG4gICAgdmFyIGRyYWcgPSB7XG4gICAgICAgIHByZVRyYW5zaXRpb246IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSBfYS5kaW1lbnNpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGRpbWVuc2lvbnMubWVhc3VyZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZHJhZ0VuZCA9IHt9O1xuICAgIGlmIChkcmFnZ2FibGUgPT09IHRydWUgfHwgZHJhZ2dhYmxlID09PSAneCcpIHtcbiAgICAgICAgZHJhZy54ID0gZHJhZ0VuZC54ID0gZ2V0Q3VycmVudCgneCcpO1xuICAgIH1cbiAgICBpZiAoZHJhZ2dhYmxlID09PSB0cnVlIHx8IGRyYWdnYWJsZSA9PT0gJ3knKSB7XG4gICAgICAgIGRyYWcueSA9IGRyYWdFbmQueSA9IGdldEN1cnJlbnQoJ3knKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZHJhZzogZHJhZywgZHJhZ0VuZDogZHJhZ0VuZCB9O1xufTtcbnZhciBjcmVhdGVQb3NlQ29uZmlnID0gZnVuY3Rpb24gKGVsZW1lbnQsIF9hKSB7XG4gICAgdmFyIG9uRHJhZ1N0YXJ0ID0gX2Eub25EcmFnU3RhcnQsXG4gICAgICAgIG9uRHJhZ0VuZCA9IF9hLm9uRHJhZ0VuZCxcbiAgICAgICAgb25QcmVzc1N0YXJ0ID0gX2Eub25QcmVzc1N0YXJ0LFxuICAgICAgICBvblByZXNzRW5kID0gX2Eub25QcmVzc0VuZCxcbiAgICAgICAgZHJhZ2dhYmxlID0gX2EuZHJhZ2dhYmxlLFxuICAgICAgICBob3ZlcmFibGUgPSBfYS5ob3ZlcmFibGUsXG4gICAgICAgIGZvY3VzYWJsZSA9IF9hLmZvY3VzYWJsZSxcbiAgICAgICAgcHJlc3NhYmxlID0gX2EucHJlc3NhYmxlLFxuICAgICAgICBkcmFnQm91bmRzID0gX2EuZHJhZ0JvdW5kcyxcbiAgICAgICAgY29uZmlnID0gX19yZXN0KF9hLCBbXCJvbkRyYWdTdGFydFwiLCBcIm9uRHJhZ0VuZFwiLCBcIm9uUHJlc3NTdGFydFwiLCBcIm9uUHJlc3NFbmRcIiwgXCJkcmFnZ2FibGVcIiwgXCJob3ZlcmFibGVcIiwgXCJmb2N1c2FibGVcIiwgXCJwcmVzc2FibGVcIiwgXCJkcmFnQm91bmRzXCJdKTtcbiAgICB2YXIgcG9zZUNvbmZpZyA9IF9fYXNzaWduKF9fYXNzaWduKHsgZmxpcDoge30gfSwgY29uZmlnKSwgeyBwcm9wczogX19hc3NpZ24oX19hc3NpZ24oe30sIGNvbmZpZy5wcm9wcyksIHsgb25EcmFnU3RhcnQ6IG9uRHJhZ1N0YXJ0LFxuICAgICAgICAgICAgb25EcmFnRW5kOiBvbkRyYWdFbmQsXG4gICAgICAgICAgICBvblByZXNzU3RhcnQ6IG9uUHJlc3NTdGFydCxcbiAgICAgICAgICAgIG9uUHJlc3NFbmQ6IG9uUHJlc3NFbmQsXG4gICAgICAgICAgICBkcmFnQm91bmRzOiBkcmFnQm91bmRzLFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgICAgICAgICBob3ZlcmFibGU6IGhvdmVyYWJsZSxcbiAgICAgICAgICAgIGZvY3VzYWJsZTogZm9jdXNhYmxlLFxuICAgICAgICAgICAgcHJlc3NhYmxlOiBwcmVzc2FibGUsXG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LCBlbGVtZW50U3R5bGVyOiBzdHlsZXIoZWxlbWVudCwgeyBwcmVwYXJzZU91dHB1dDogZmFsc2UgfSksIGRpbWVuc2lvbnM6IGNyZWF0ZURpbWVuc2lvbnMoZWxlbWVudCkgfSkgfSk7XG4gICAgaWYgKGRyYWdnYWJsZSkge1xuICAgICAgICB2YXIgX2IgPSBkcmFnUG9zZXMoZHJhZ2dhYmxlKSxcbiAgICAgICAgICAgIGRyYWcgPSBfYi5kcmFnLFxuICAgICAgICAgICAgZHJhZ0VuZCA9IF9iLmRyYWdFbmQ7XG4gICAgICAgIHBvc2VDb25maWcuZHJhZyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBkcmFnKSwgcG9zZUNvbmZpZy5kcmFnKTtcbiAgICAgICAgcG9zZUNvbmZpZy5kcmFnRW5kID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGRyYWdFbmQpLCBwb3NlQ29uZmlnLmRyYWdFbmQpO1xuICAgIH1cbiAgICByZXR1cm4gcG9zZUNvbmZpZztcbn07XG52YXIgZG9tUG9zZSA9IC8qI19fUFVSRV9fKi9wb3NlKHtcbiAgICBwb3NlUHJpb3JpdHk6IFsnZHJhZycsICdwcmVzcycsICdmb2N1cycsICdob3ZlciddLFxuICAgIHRyYW5zZm9ybVBvc2U6IGZ1bmN0aW9uIChfYSwgbmFtZSwgc3RhdGUpIHtcbiAgICAgICAgdmFyIGZsaXAgPSBfYS5mbGlwLFxuICAgICAgICAgICAgcG9zZSQkMSA9IF9fcmVzdChfYSwgW1wiZmxpcFwiXSk7XG4gICAgICAgIGlmIChpc0ZsaXBQb3NlKGZsaXAsIG5hbWUsIHN0YXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZsaXBQb3NlKHN0YXRlLCBwb3NlJCQxKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc1Bvc2l0aW9uYWwocG9zZSQkMSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjb252ZXJ0UG9zaXRpb25hbFVuaXRzKHN0YXRlLCBwb3NlJCQxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9zZSQkMTtcbiAgICB9LFxuICAgIGZvcmNlUmVuZGVyOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRTdHlsZXIgPSBfYS5lbGVtZW50U3R5bGVyO1xuICAgICAgICBlbGVtZW50U3R5bGVyLnJlbmRlcigpO1xuICAgIH0sXG4gICAgYWRkTGlzdGVuZXJUb1ZhbHVlOiBmdW5jdGlvbiAoa2V5LCBlbGVtZW50U3R5bGVyKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRTdHlsZXIuc2V0KGtleSwgdik7XG4gICAgICAgIH07XG4gICAgfSxcbiAgICByZWFkVmFsdWVGcm9tU291cmNlOiBmdW5jdGlvbiAoa2V5LCBfYSkge1xuICAgICAgICB2YXIgZWxlbWVudFN0eWxlciA9IF9hLmVsZW1lbnRTdHlsZXIsXG4gICAgICAgICAgICBkcmFnQm91bmRzID0gX2EuZHJhZ0JvdW5kcztcbiAgICAgICAgdmFyIHZhbHVlJCQxID0gZWxlbWVudFN0eWxlci5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGRyYWdCb3VuZHMgJiYgKGtleSA9PT0gJ3gnIHx8IGtleSA9PT0gJ3knKSkge1xuICAgICAgICAgICAgdmFyIGJvdW5kID0ga2V5ID09PSAneCcgPyBkcmFnQm91bmRzLmxlZnQgfHwgZHJhZ0JvdW5kcy5yaWdodCA6IGRyYWdCb3VuZHMudG9wIHx8IGRyYWdCb3VuZHMuYm90dG9tO1xuICAgICAgICAgICAgaWYgKGJvdW5kKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kVHlwZSA9IGdldFZhbHVlVHlwZShib3VuZCk7XG4gICAgICAgICAgICAgICAgdmFsdWUkJDEgPSBib3VuZFR5cGUudHJhbnNmb3JtKHZhbHVlJCQxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNOYU4odmFsdWUkJDEpID8gdmFsdWUkJDEgOiBwYXJzZUZsb2F0KHZhbHVlJCQxKTtcbiAgICB9LFxuICAgIHNldFZhbHVlTmF0aXZlOiBmdW5jdGlvbiAoa2V5LCB0bywgX2EpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRTdHlsZXIgPSBfYS5lbGVtZW50U3R5bGVyO1xuICAgICAgICByZXR1cm4gZWxlbWVudFN0eWxlci5zZXQoa2V5LCB0byk7XG4gICAgfSxcbiAgICBleHRlbmRBUEk6IGZ1bmN0aW9uIChhcGksIF9hLCBjb25maWcpIHtcbiAgICAgICAgdmFyIHByb3BzID0gX2EucHJvcHMsXG4gICAgICAgICAgICBhY3RpdmVBY3Rpb25zID0gX2EuYWN0aXZlQWN0aW9ucztcbiAgICAgICAgdmFyIG1lYXN1cmUgPSBwcm9wcy5kaW1lbnNpb25zLm1lYXN1cmU7XG4gICAgICAgIHZhciBwb3NlckFwaSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBhcGkpLCB7IGFkZENoaWxkOiBmdW5jdGlvbiAoZWxlbWVudCwgY2hpbGRDb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLl9hZGRDaGlsZChjcmVhdGVQb3NlQ29uZmlnKGVsZW1lbnQsIGNoaWxkQ29uZmlnKSwgZG9tUG9zZSk7XG4gICAgICAgICAgICB9LCBtZWFzdXJlOiBtZWFzdXJlLCBmbGlwOiBmdW5jdGlvbiAob3ApIHtcbiAgICAgICAgICAgICAgICBpZiAob3ApIHtcbiAgICAgICAgICAgICAgICAgICAgbWVhc3VyZSgpO1xuICAgICAgICAgICAgICAgICAgICBvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLnNldCgnZmxpcCcpO1xuICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgcHJvcHMuZWxlbWVudFN0eWxlci5yZW5kZXIoKTtcbiAgICAgICAgYXBwZW5kRXZlbnRMaXN0ZW5lcnMocHJvcHMuZWxlbWVudCwgYWN0aXZlQWN0aW9ucywgcG9zZXJBcGksIGNvbmZpZyk7XG4gICAgICAgIHJldHVybiBwb3NlckFwaTtcbiAgICB9XG59KTtcbnZhciBkb21Qb3NlJDEgPSBmdW5jdGlvbiAoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIGRvbVBvc2UoY3JlYXRlUG9zZUNvbmZpZyhlbGVtZW50LCBjb25maWcpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRvbVBvc2UkMTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../node_modules/popmotion-pose/dist/popmotion-pose.es.js\n");

/***/ }),

/***/ "../../../node_modules/popmotion/dist/popmotion.es.js":
/*!************************************************************!*\
  !*** ../../../node_modules/popmotion/dist/popmotion.es.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"valueTypes\": () => (/* reexport module object */ style_value_types__WEBPACK_IMPORTED_MODULE_2__),\n/* harmony export */   \"easing\": () => (/* reexport module object */ _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__),\n/* harmony export */   \"styler\": () => (/* reexport safe */ stylefire__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   \"Action\": () => (/* binding */ Action),\n/* harmony export */   \"ValueReaction\": () => (/* binding */ ValueReaction),\n/* harmony export */   \"action\": () => (/* binding */ action),\n/* harmony export */   \"calc\": () => (/* binding */ calc),\n/* harmony export */   \"chain\": () => (/* binding */ chain),\n/* harmony export */   \"composite\": () => (/* binding */ composite),\n/* harmony export */   \"crossfade\": () => (/* binding */ crossfade),\n/* harmony export */   \"css\": () => (/* binding */ css),\n/* harmony export */   \"decay\": () => (/* binding */ vectorDecay),\n/* harmony export */   \"delay\": () => (/* binding */ delay),\n/* harmony export */   \"everyFrame\": () => (/* binding */ frame),\n/* harmony export */   \"inertia\": () => (/* binding */ index),\n/* harmony export */   \"keyframes\": () => (/* binding */ keyframes),\n/* harmony export */   \"listen\": () => (/* binding */ listen),\n/* harmony export */   \"merge\": () => (/* binding */ merge),\n/* harmony export */   \"mouse\": () => (/* binding */ mouse),\n/* harmony export */   \"multicast\": () => (/* binding */ multicast),\n/* harmony export */   \"multitouch\": () => (/* binding */ multitouch),\n/* harmony export */   \"parallel\": () => (/* binding */ parallel$1),\n/* harmony export */   \"physics\": () => (/* binding */ vectorPhysics),\n/* harmony export */   \"pointer\": () => (/* binding */ index$1),\n/* harmony export */   \"schedule\": () => (/* binding */ schedule),\n/* harmony export */   \"spring\": () => (/* binding */ vectorSpring),\n/* harmony export */   \"stagger\": () => (/* binding */ stagger),\n/* harmony export */   \"svg\": () => (/* binding */ svg),\n/* harmony export */   \"timeline\": () => (/* binding */ timeline),\n/* harmony export */   \"transform\": () => (/* binding */ transformers),\n/* harmony export */   \"tween\": () => (/* binding */ tween),\n/* harmony export */   \"value\": () => (/* binding */ value)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tslib */ \"../../../node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @popmotion/popcorn */ \"../../../node_modules/@popmotion/popcorn/dist/popcorn.es.js\");\n/* harmony import */ var framesync__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! framesync */ \"../../../node_modules/framesync/dist/framesync.es.js\");\n/* harmony import */ var style_value_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! style-value-types */ \"../../../node_modules/style-value-types/dist/style-value-types.es.js\");\n/* harmony import */ var _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @popmotion/easing */ \"../../../node_modules/@popmotion/easing/dist/easing.es.js\");\n/* harmony import */ var stylefire__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! stylefire */ \"../../../node_modules/stylefire/dist/stylefire.es.js\");\n/* harmony import */ var hey_listen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! hey-listen */ \"../../../node_modules/hey-listen/dist/hey-listen.es.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Chainable = /*#__PURE__*/function () {\n    function Chainable(props) {\n        if (props === void 0) {\n            props = {};\n        }\n        this.props = props;\n    }\n    Chainable.prototype.applyMiddleware = function (middleware) {\n        return this.create((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)({}, this.props), { middleware: this.props.middleware ? (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__spreadArrays)([middleware], this.props.middleware) : [middleware] }));\n    };\n    Chainable.prototype.pipe = function () {\n        var funcs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            funcs[_i] = arguments[_i];\n        }\n        var pipedUpdate = funcs.length === 1 ? funcs[0] : _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.pipe.apply(void 0, funcs);\n        return this.applyMiddleware(function (update) {\n            return function (v) {\n                return update(pipedUpdate(v));\n            };\n        });\n    };\n    Chainable.prototype.while = function (predicate) {\n        return this.applyMiddleware(function (update, complete) {\n            return function (v) {\n                return predicate(v) ? update(v) : complete();\n            };\n        });\n    };\n    Chainable.prototype.filter = function (predicate) {\n        return this.applyMiddleware(function (update) {\n            return function (v) {\n                return predicate(v) && update(v);\n            };\n        });\n    };\n    return Chainable;\n}();\n\nvar Observer = /*#__PURE__*/function () {\n    function Observer(_a, observer) {\n        var _this = this;\n        var middleware = _a.middleware,\n            onComplete = _a.onComplete;\n        this.isActive = true;\n        this.update = function (v) {\n            if (_this.observer.update) _this.updateObserver(v);\n        };\n        this.complete = function () {\n            if (_this.observer.complete && _this.isActive) _this.observer.complete();\n            if (_this.onComplete) _this.onComplete();\n            _this.isActive = false;\n        };\n        this.error = function (err) {\n            if (_this.observer.error && _this.isActive) _this.observer.error(err);\n            _this.isActive = false;\n        };\n        this.observer = observer;\n        this.updateObserver = function (v) {\n            return observer.update(v);\n        };\n        this.onComplete = onComplete;\n        if (observer.update && middleware && middleware.length) {\n            middleware.forEach(function (m) {\n                return _this.updateObserver = m(_this.updateObserver, _this.complete);\n            });\n        }\n    }\n    return Observer;\n}();\nvar createObserver = function (observerCandidate, _a, onComplete) {\n    var middleware = _a.middleware;\n    if (typeof observerCandidate === 'function') {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, { update: observerCandidate });\n    } else {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, observerCandidate);\n    }\n};\n\nvar Action = /*#__PURE__*/function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__extends)(Action, _super);\n    function Action() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Action.prototype.create = function (props) {\n        return new Action(props);\n    };\n    Action.prototype.start = function (observerCandidate) {\n        if (observerCandidate === void 0) {\n            observerCandidate = {};\n        }\n        var isComplete = false;\n        var subscription = {\n            stop: function () {\n                return undefined;\n            }\n        };\n        var _a = this.props,\n            init = _a.init,\n            observerProps = (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__rest)(_a, [\"init\"]);\n        var observer = createObserver(observerCandidate, observerProps, function () {\n            isComplete = true;\n            subscription.stop();\n        });\n        var api = init(observer);\n        subscription = api ? (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)({}, subscription), api) : subscription;\n        if (observerCandidate.registerParent) {\n            observerCandidate.registerParent(subscription);\n        }\n        if (isComplete) subscription.stop();\n        return subscription;\n    };\n    return Action;\n}(Chainable);\nvar action = function (init) {\n    return new Action({ init: init });\n};\n\nvar BaseMulticast = /*#__PURE__*/function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__extends)(BaseMulticast, _super);\n    function BaseMulticast() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.subscribers = [];\n        return _this;\n    }\n    BaseMulticast.prototype.complete = function () {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.complete();\n        });\n    };\n    BaseMulticast.prototype.error = function (err) {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.error(err);\n        });\n    };\n    BaseMulticast.prototype.update = function (v) {\n        for (var i = 0; i < this.subscribers.length; i++) {\n            this.subscribers[i].update(v);\n        }\n    };\n    BaseMulticast.prototype.subscribe = function (observerCandidate) {\n        var _this = this;\n        var observer = createObserver(observerCandidate, this.props);\n        this.subscribers.push(observer);\n        var subscription = {\n            unsubscribe: function () {\n                var index = _this.subscribers.indexOf(observer);\n                if (index !== -1) _this.subscribers.splice(index, 1);\n            }\n        };\n        return subscription;\n    };\n    BaseMulticast.prototype.stop = function () {\n        if (this.parent) this.parent.stop();\n    };\n    BaseMulticast.prototype.registerParent = function (subscription) {\n        this.stop();\n        this.parent = subscription;\n    };\n    return BaseMulticast;\n}(Chainable);\n\nvar Multicast = /*#__PURE__*/function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__extends)(Multicast, _super);\n    function Multicast() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Multicast.prototype.create = function (props) {\n        return new Multicast(props);\n    };\n    return Multicast;\n}(BaseMulticast);\nvar multicast = function () {\n    return new Multicast();\n};\n\nvar stepProgress = function (steps, progress) {\n    var segment = 1 / (steps - 1);\n    var subsegment = 1 / (2 * (steps - 1));\n    var percentProgressOfTarget = Math.min(progress, 1);\n    var subsegmentProgressOfTarget = percentProgressOfTarget / subsegment;\n    var segmentProgressOfTarget = Math.floor((subsegmentProgressOfTarget + 1) / 2);\n    return segmentProgressOfTarget * segment;\n};\n\nvar calc = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    angle: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.angle,\n    degreesToRadians: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.degreesToRadians,\n    distance: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.distance,\n    isPoint3D: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.isPoint3D,\n    isPoint: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.isPoint,\n    dilate: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.mix,\n    getValueFromProgress: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.mix,\n    pointFromAngleAndDistance: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.pointFromVector,\n    getProgressFromValue: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.progress,\n    radiansToDegrees: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.radiansToDegrees,\n    smooth: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.smoothFrame,\n    speedPerFrame: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.velocityPerFrame,\n    speedPerSecond: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.velocityPerSecond,\n    stepProgress: stepProgress\n});\n\nvar isValueList = function (v) {\n    return Array.isArray(v);\n};\nvar isSingleValue = function (v) {\n    var typeOfV = typeof v;\n    return typeOfV === 'string' || typeOfV === 'number';\n};\nvar ValueReaction = /*#__PURE__*/function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__extends)(ValueReaction, _super);\n    function ValueReaction(props) {\n        var _this = _super.call(this, props) || this;\n        _this.scheduleVelocityCheck = function () {\n            return framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].postRender(_this.velocityCheck);\n        };\n        _this.velocityCheck = function (_a) {\n            var timestamp = _a.timestamp;\n            if (timestamp !== _this.lastUpdated) {\n                _this.prev = _this.current;\n            }\n        };\n        _this.prev = _this.current = props.value || 0;\n        if (isSingleValue(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = v;\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getSingleVelocity(_this.current, _this.prev);\n            };\n        } else if (isValueList(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__spreadArrays)(v);\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getListVelocity();\n            };\n        } else {\n            _this.updateCurrent = function (v) {\n                _this.current = {};\n                for (var key in v) {\n                    if (v.hasOwnProperty(key)) {\n                        _this.current[key] = v[key];\n                    }\n                }\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getMapVelocity();\n            };\n        }\n        if (props.initialSubscription) _this.subscribe(props.initialSubscription);\n        return _this;\n    }\n    ValueReaction.prototype.create = function (props) {\n        return new ValueReaction(props);\n    };\n    ValueReaction.prototype.get = function () {\n        return this.current;\n    };\n    ValueReaction.prototype.getVelocity = function () {\n        return this.getVelocityOfCurrent();\n    };\n    ValueReaction.prototype.update = function (v) {\n        _super.prototype.update.call(this, v);\n        this.prev = this.current;\n        this.updateCurrent(v);\n        var _a = (0,framesync__WEBPACK_IMPORTED_MODULE_1__.getFrameData)(),\n            delta = _a.delta,\n            timestamp = _a.timestamp;\n        this.timeDelta = delta;\n        this.lastUpdated = timestamp;\n        framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].postRender(this.scheduleVelocityCheck);\n    };\n    ValueReaction.prototype.subscribe = function (observerCandidate) {\n        var sub = _super.prototype.subscribe.call(this, observerCandidate);\n        this.subscribers[this.subscribers.length - 1].update(this.current);\n        return sub;\n    };\n    ValueReaction.prototype.getSingleVelocity = function (current, prev) {\n        return typeof current === 'number' && typeof prev === 'number' ? (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.velocityPerSecond)(current - prev, this.timeDelta) : (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.velocityPerSecond)(parseFloat(current) - parseFloat(prev), this.timeDelta) || 0;\n    };\n    ValueReaction.prototype.getListVelocity = function () {\n        var _this = this;\n        return this.current.map(function (c, i) {\n            return _this.getSingleVelocity(c, _this.prev[i]);\n        });\n    };\n    ValueReaction.prototype.getMapVelocity = function () {\n        var velocity = {};\n        for (var key in this.current) {\n            if (this.current.hasOwnProperty(key)) {\n                velocity[key] = this.getSingleVelocity(this.current[key], this.prev[key]);\n            }\n        }\n        return velocity;\n    };\n    return ValueReaction;\n}(BaseMulticast);\nvar value = function (value, initialSubscription) {\n    return new ValueReaction({ value: value, initialSubscription: initialSubscription });\n};\n\nvar multi = function (_a) {\n    var getCount = _a.getCount,\n        getFirst = _a.getFirst,\n        getOutput = _a.getOutput,\n        mapApi = _a.mapApi,\n        setProp = _a.setProp,\n        startActions = _a.startActions;\n    return function (actions) {\n        return action(function (_a) {\n            var update = _a.update,\n                complete = _a.complete,\n                error = _a.error;\n            var numActions = getCount(actions);\n            var output = getOutput();\n            var updateOutput = function () {\n                return update(output);\n            };\n            var numCompletedActions = 0;\n            var subs = startActions(actions, function (a, name) {\n                var hasCompleted = false;\n                return a.start({\n                    complete: function () {\n                        if (!hasCompleted) {\n                            hasCompleted = true;\n                            numCompletedActions++;\n                            if (numCompletedActions === numActions) framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(complete);\n                        }\n                    },\n                    error: error,\n                    update: function (v) {\n                        setProp(output, name, v);\n                        framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(updateOutput, false, true);\n                    }\n                });\n            });\n            return Object.keys(getFirst(subs)).reduce(function (api, methodName) {\n                api[methodName] = mapApi(subs, methodName);\n                return api;\n            }, {});\n        });\n    };\n};\n\nvar composite = /*#__PURE__*/multi({\n    getOutput: function () {\n        return {};\n    },\n    getCount: function (subs) {\n        return Object.keys(subs).length;\n    },\n    getFirst: function (subs) {\n        return subs[Object.keys(subs)[0]];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return Object.keys(subs).reduce(function (output, propKey) {\n                var _a;\n                if (subs[propKey][methodName]) {\n                    args[0] && args[0][propKey] !== undefined ? output[propKey] = subs[propKey][methodName](args[0][propKey]) : output[propKey] = (_a = subs[propKey])[methodName].apply(_a, args);\n                }\n                return output;\n            }, {});\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return Object.keys(actions).reduce(function (subs, key) {\n            subs[key] = starter(actions[key], key);\n            return subs;\n        }, {});\n    }\n});\n\nvar parallel = /*#__PURE__*/multi({\n    getOutput: function () {\n        return [];\n    },\n    getCount: function (subs) {\n        return subs.length;\n    },\n    getFirst: function (subs) {\n        return subs[0];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return subs.map(function (sub, i) {\n                if (sub[methodName]) {\n                    return Array.isArray(args[0]) ? sub[methodName](args[0][i]) : sub[methodName].apply(sub, args);\n                }\n            });\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return actions.map(function (action, i) {\n            return starter(action, i);\n        });\n    }\n});\nvar parallel$1 = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return parallel(actions);\n};\n\nvar createVectorTests = function (typeTests) {\n    var testNames = Object.keys(typeTests);\n    var isVectorProp = function (prop, key) {\n        return prop !== undefined && !typeTests[key](prop);\n    };\n    var getVectorKeys = function (props) {\n        return testNames.reduce(function (vectorKeys, key) {\n            if (isVectorProp(props[key], key)) vectorKeys.push(key);\n            return vectorKeys;\n        }, []);\n    };\n    var testVectorProps = function (props) {\n        return props && testNames.some(function (key) {\n            return isVectorProp(props[key], key);\n        });\n    };\n    return { getVectorKeys: getVectorKeys, testVectorProps: testVectorProps };\n};\nvar unitTypes = [style_value_types__WEBPACK_IMPORTED_MODULE_2__.px, style_value_types__WEBPACK_IMPORTED_MODULE_2__.percent, style_value_types__WEBPACK_IMPORTED_MODULE_2__.degrees, style_value_types__WEBPACK_IMPORTED_MODULE_2__.vh, style_value_types__WEBPACK_IMPORTED_MODULE_2__.vw];\nvar findUnitType = function (prop) {\n    return unitTypes.find(function (type) {\n        return type.test(prop);\n    });\n};\nvar isUnitProp = function (prop) {\n    return Boolean(findUnitType(prop));\n};\nvar createAction = function (action, props) {\n    return action(props);\n};\nvar reduceArrayValue = function (i) {\n    return function (props, key) {\n        props[key] = props[key][i];\n        return props;\n    };\n};\nvar createArrayAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionList = props[firstVectorKey].map(function (v, i) {\n        var childActionProps = vectorKeys.reduce(reduceArrayValue(i), (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)({}, props));\n        return getActionCreator(v)(action, childActionProps);\n    });\n    return parallel$1.apply(void 0, actionList);\n};\nvar reduceObjectValue = function (key) {\n    return function (props, propKey) {\n        props[propKey] = props[propKey][key];\n        return props;\n    };\n};\nvar createObjectAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionMap = Object.keys(props[firstVectorKey]).reduce(function (map, key) {\n        var childActionProps = vectorKeys.reduce(reduceObjectValue(key), (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)({}, props));\n        map[key] = getActionCreator(props[firstVectorKey][key])(action, childActionProps);\n        return map;\n    }, {});\n    return composite(actionMap);\n};\nvar createUnitAction = function (action, _a) {\n    var from = _a.from,\n        to = _a.to,\n        props = (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__rest)(_a, [\"from\", \"to\"]);\n    var unitType = findUnitType(from) || findUnitType(to);\n    var transform = unitType.transform,\n        parse = unitType.parse;\n    return action((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)({}, props), { from: typeof from === 'string' ? parse(from) : from, to: typeof to === 'string' ? parse(to) : to })).pipe(transform);\n};\nvar createMixerAction = function (mixer) {\n    return function (action, _a) {\n        var from = _a.from,\n            to = _a.to,\n            props = (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__rest)(_a, [\"from\", \"to\"]);\n        return action((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)({}, props), { from: 0, to: 1 })).pipe(mixer(from, to));\n    };\n};\nvar createColorAction = /*#__PURE__*/createMixerAction(_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.mixColor);\nvar createComplexAction = /*#__PURE__*/createMixerAction(_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.mixComplex);\nvar createVectorAction = function (action, typeTests) {\n    var _a = createVectorTests(typeTests),\n        testVectorProps = _a.testVectorProps,\n        getVectorKeys = _a.getVectorKeys;\n    var vectorAction = function (props) {\n        var isVector = testVectorProps(props);\n        if (!isVector) return action(props);\n        var vectorKeys = getVectorKeys(props);\n        var testKey = vectorKeys[0];\n        var testProp = props[testKey];\n        return getActionCreator(testProp)(action, props, vectorKeys);\n    };\n    return vectorAction;\n};\nvar getActionCreator = function (prop) {\n    if (typeof prop === 'number') {\n        return createAction;\n    } else if (Array.isArray(prop)) {\n        return createArrayAction;\n    } else if (isUnitProp(prop)) {\n        return createUnitAction;\n    } else if (style_value_types__WEBPACK_IMPORTED_MODULE_2__.color.test(prop)) {\n        return createColorAction;\n    } else if (style_value_types__WEBPACK_IMPORTED_MODULE_2__.complex.test(prop)) {\n        return createComplexAction;\n    } else if (typeof prop === 'object') {\n        return createObjectAction;\n    } else {\n        return createAction;\n    }\n};\n\nvar decay = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0 : _b,\n            _c = props.from,\n            from = _c === void 0 ? 0 : _c,\n            _d = props.power,\n            power = _d === void 0 ? 0.8 : _d,\n            _e = props.timeConstant,\n            timeConstant = _e === void 0 ? 350 : _e,\n            _f = props.restDelta,\n            restDelta = _f === void 0 ? 0.5 : _f,\n            modifyTarget = props.modifyTarget;\n        var elapsed = 0;\n        var amplitude = power * velocity;\n        var idealTarget = from + amplitude;\n        var target = typeof modifyTarget === 'undefined' ? idealTarget : modifyTarget(idealTarget);\n        if (target !== idealTarget) amplitude = target - from;\n        var process = framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(function (_a) {\n            var frameDelta = _a.delta;\n            elapsed += frameDelta;\n            var delta = -amplitude * Math.exp(-elapsed / timeConstant);\n            var isMoving = delta > restDelta || delta < -restDelta;\n            var current = isMoving ? target + delta : target;\n            update(current);\n            if (!isMoving) {\n                framesync__WEBPACK_IMPORTED_MODULE_1__.cancelSync.update(process);\n                complete();\n            }\n        }, true);\n        return {\n            stop: function () {\n                return framesync__WEBPACK_IMPORTED_MODULE_1__.cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorDecay = /*#__PURE__*/createVectorAction(decay, {\n    from: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    modifyTarget: function (func) {\n        return typeof func === 'function';\n    },\n    velocity: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test\n});\n\nvar spring = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0.0 : _b;\n        var _c = props.from,\n            from = _c === void 0 ? 0.0 : _c,\n            _d = props.to,\n            to = _d === void 0 ? 0.0 : _d,\n            _e = props.stiffness,\n            stiffness = _e === void 0 ? 100 : _e,\n            _f = props.damping,\n            damping = _f === void 0 ? 10 : _f,\n            _g = props.mass,\n            mass = _g === void 0 ? 1.0 : _g,\n            _h = props.restSpeed,\n            restSpeed = _h === void 0 ? 0.01 : _h,\n            _j = props.restDelta,\n            restDelta = _j === void 0 ? 0.01 : _j;\n        var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n        var t = 0;\n        var delta = to - from;\n        var position = from;\n        var prevPosition = position;\n        var process = framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(function (_a) {\n            var timeDelta = _a.delta;\n            t += timeDelta;\n            var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n            var angularFreq = Math.sqrt(stiffness / mass) / 1000;\n            prevPosition = position;\n            if (dampingRatio < 1) {\n                var envelope = Math.exp(-dampingRatio * angularFreq * t);\n                var expoDecay = angularFreq * Math.sqrt(1.0 - dampingRatio * dampingRatio);\n                position = to - envelope * ((initialVelocity + dampingRatio * angularFreq * delta) / expoDecay * Math.sin(expoDecay * t) + delta * Math.cos(expoDecay * t));\n            } else {\n                var envelope = Math.exp(-angularFreq * t);\n                position = to - envelope * (delta + (initialVelocity + angularFreq * delta) * t);\n            }\n            velocity = (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.velocityPerSecond)(position - prevPosition, timeDelta);\n            var isBelowVelocityThreshold = Math.abs(velocity) <= restSpeed;\n            var isBelowDisplacementThreshold = Math.abs(to - position) <= restDelta;\n            if (isBelowVelocityThreshold && isBelowDisplacementThreshold) {\n                position = to;\n                update(position);\n                framesync__WEBPACK_IMPORTED_MODULE_1__.cancelSync.update(process);\n                complete();\n            } else {\n                update(position);\n            }\n        }, true);\n        return {\n            stop: function () {\n                return framesync__WEBPACK_IMPORTED_MODULE_1__.cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorSpring = /*#__PURE__*/createVectorAction(spring, {\n    from: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    to: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    stiffness: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    damping: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    mass: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    velocity: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test\n});\n\nvar inertia = function (_a) {\n    var _b = _a.from,\n        from = _b === void 0 ? 0 : _b,\n        _c = _a.velocity,\n        velocity = _c === void 0 ? 0 : _c,\n        min = _a.min,\n        max = _a.max,\n        _d = _a.power,\n        power = _d === void 0 ? 0.8 : _d,\n        _e = _a.timeConstant,\n        timeConstant = _e === void 0 ? 700 : _e,\n        _f = _a.bounceStiffness,\n        bounceStiffness = _f === void 0 ? 500 : _f,\n        _g = _a.bounceDamping,\n        bounceDamping = _g === void 0 ? 10 : _g,\n        _h = _a.restDelta,\n        restDelta = _h === void 0 ? 1 : _h,\n        modifyTarget = _a.modifyTarget;\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var prev = from;\n        var current = from;\n        var activeAnimation;\n        var isOutOfBounds = function (v) {\n            return min !== undefined && v < min || max !== undefined && v > max;\n        };\n        var boundaryNearest = function (v) {\n            return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n        };\n        var startAnimation = function (animation, next) {\n            activeAnimation && activeAnimation.stop();\n            activeAnimation = animation.start({\n                update: update,\n                complete: function () {\n                    if (next) {\n                        next();\n                        return;\n                    }\n                    complete();\n                }\n            });\n        };\n        var startSpring = function (props) {\n            startAnimation(spring((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)({}, props), { stiffness: bounceStiffness, damping: bounceDamping, restDelta: restDelta })));\n        };\n        if (isOutOfBounds(from)) {\n            startSpring({ from: from, velocity: velocity, to: boundaryNearest(from) });\n        } else {\n            var to = power * velocity + from;\n            if (typeof modifyTarget !== 'undefined') {\n                to = modifyTarget(to);\n                modifyTarget = void 0;\n                velocity = (to - from) / power;\n            }\n            var animation = decay({\n                from: from,\n                velocity: velocity,\n                timeConstant: timeConstant,\n                power: power,\n                restDelta: restDelta,\n                modifyTarget: modifyTarget\n            });\n            var next = void 0;\n            if (isOutOfBounds(to)) {\n                var boundary_1 = boundaryNearest(to);\n                var heading_1 = boundary_1 == min ? -1 : 1;\n                animation = animation.while(function (v) {\n                    prev = current;\n                    velocity = (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.velocityPerSecond)(v - prev, (0,framesync__WEBPACK_IMPORTED_MODULE_1__.getFrameData)().delta);\n                    current = v;\n                    return boundary_1 - v * heading_1 > 0;\n                });\n                next = function () {\n                    return startSpring({ from: current, to: boundary_1, velocity: velocity });\n                };\n            }\n            startAnimation(animation, next);\n        }\n        return {\n            stop: function () {\n                return activeAnimation && activeAnimation.stop();\n            }\n        };\n    });\n};\nvar index = /*#__PURE__*/createVectorAction(inertia, {\n    from: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    velocity: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    min: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    max: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    damping: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    stiffness: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    modifyTarget: function (func) {\n        return typeof func === 'function';\n    }\n});\n\nvar frame = function () {\n    return action(function (_a) {\n        var update = _a.update;\n        var initialTime = 0;\n        var process = framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(function (_a) {\n            var timestamp = _a.timestamp;\n            if (!initialTime) initialTime = timestamp;\n            update(timestamp - initialTime);\n        }, true, true);\n        return {\n            stop: function () {\n                return framesync__WEBPACK_IMPORTED_MODULE_1__.cancelSync.update(process);\n            }\n        };\n    });\n};\n\nvar scrubber = function (_a) {\n    var _b = _a.from,\n        from = _b === void 0 ? 0 : _b,\n        _c = _a.to,\n        to = _c === void 0 ? 1 : _c,\n        _d = _a.ease,\n        ease = _d === void 0 ? _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.linear : _d,\n        _e = _a.reverseEase,\n        reverseEase = _e === void 0 ? false : _e;\n    if (reverseEase) {\n        ease = (0,_popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.createReversedEasing)(ease);\n    }\n    return action(function (_a) {\n        var update = _a.update;\n        return {\n            seek: function (progress) {\n                return update(progress);\n            }\n        };\n    }).pipe(ease, function (v) {\n        return (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.mix)(from, to, v);\n    });\n};\nvar vectorScrubber = /*#__PURE__*/createVectorAction(scrubber, {\n    ease: function (func) {\n        return typeof func === 'function';\n    },\n    from: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    to: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test\n});\n\nvar clampProgress = /*#__PURE__*/(0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.clamp)(0, 1);\nvar tween = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.duration,\n            duration = _b === void 0 ? 300 : _b,\n            _c = props.ease,\n            ease = _c === void 0 ? _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.easeOut : _c,\n            _d = props.flip,\n            flip = _d === void 0 ? 0 : _d,\n            _e = props.loop,\n            loop = _e === void 0 ? 0 : _e,\n            _f = props.yoyo,\n            yoyo = _f === void 0 ? 0 : _f,\n            _g = props.repeatDelay,\n            repeatDelay = _g === void 0 ? 0 : _g;\n        var _h = props.from,\n            from = _h === void 0 ? 0 : _h,\n            _j = props.to,\n            to = _j === void 0 ? 1 : _j,\n            _k = props.elapsed,\n            elapsed = _k === void 0 ? 0 : _k,\n            _l = props.flipCount,\n            flipCount = _l === void 0 ? 0 : _l,\n            _m = props.yoyoCount,\n            yoyoCount = _m === void 0 ? 0 : _m,\n            _o = props.loopCount,\n            loopCount = _o === void 0 ? 0 : _o;\n        var playhead = vectorScrubber({ from: from, to: to, ease: ease }).start(update);\n        var currentProgress = 0;\n        var process;\n        var isActive = false;\n        var reverseAnimation = function (reverseEase) {\n            var _a;\n            if (reverseEase === void 0) {\n                reverseEase = false;\n            }\n            _a = [to, from], from = _a[0], to = _a[1];\n            playhead = vectorScrubber({ from: from, to: to, ease: ease, reverseEase: reverseEase }).start(update);\n        };\n        var isTweenComplete = function () {\n            var isComplete = isActive && elapsed > duration + repeatDelay;\n            if (!isComplete) return false;\n            if (isComplete && !loop && !flip && !yoyo) return true;\n            elapsed = duration - (elapsed - repeatDelay);\n            if (loop && loopCount < loop) {\n                loopCount++;\n                return false;\n            } else if (flip && flipCount < flip) {\n                flipCount++;\n                reverseAnimation();\n                return false;\n            } else if (yoyo && yoyoCount < yoyo) {\n                yoyoCount++;\n                reverseAnimation(yoyoCount % 2 !== 0);\n                return false;\n            }\n            return true;\n        };\n        var updateTween = function () {\n            currentProgress = clampProgress((0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.progress)(0, duration, elapsed));\n            playhead.seek(currentProgress);\n        };\n        var startTimer = function () {\n            isActive = true;\n            process = framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(function (_a) {\n                var delta = _a.delta;\n                elapsed += delta;\n                updateTween();\n                if (isTweenComplete()) {\n                    framesync__WEBPACK_IMPORTED_MODULE_1__.cancelSync.update(process);\n                    complete && framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(complete, false, true);\n                }\n            }, true);\n        };\n        var stopTimer = function () {\n            isActive = false;\n            if (process) framesync__WEBPACK_IMPORTED_MODULE_1__.cancelSync.update(process);\n        };\n        startTimer();\n        return {\n            isActive: function () {\n                return isActive;\n            },\n            getElapsed: function () {\n                return (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.clamp)(0, duration, elapsed);\n            },\n            getProgress: function () {\n                return currentProgress;\n            },\n            stop: function () {\n                stopTimer();\n            },\n            pause: function () {\n                stopTimer();\n                return this;\n            },\n            resume: function () {\n                if (!isActive) startTimer();\n                return this;\n            },\n            seek: function (newProgress) {\n                elapsed = (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.mix)(0, duration, newProgress);\n                framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(updateTween, false, true);\n                return this;\n            },\n            reverse: function () {\n                reverseAnimation();\n                return this;\n            }\n        };\n    });\n};\n\nvar clampProgress$1 = /*#__PURE__*/(0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.clamp)(0, 1);\nvar defaultEasings = function (values, easing) {\n    return values.map(function () {\n        return easing || _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.easeOut;\n    }).splice(0, values.length - 1);\n};\nvar defaultTimings = function (values) {\n    var numValues = values.length;\n    return values.map(function (value, i) {\n        return i !== 0 ? i / (numValues - 1) : 0;\n    });\n};\nvar interpolateScrubbers = function (input, scrubbers, update) {\n    var rangeLength = input.length;\n    var finalInputIndex = rangeLength - 1;\n    var finalScrubberIndex = finalInputIndex - 1;\n    var subs = scrubbers.map(function (scrub) {\n        return scrub.start(update);\n    });\n    return function (v) {\n        if (v <= input[0]) {\n            subs[0].seek(0);\n        }\n        if (v >= input[finalInputIndex]) {\n            subs[finalScrubberIndex].seek(1);\n        }\n        var i = 1;\n        for (; i < rangeLength; i++) {\n            if (input[i] > v || i === finalInputIndex) break;\n        }\n        var progressInRange = (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.progress)(input[i - 1], input[i], v);\n        subs[i - 1].seek(clampProgress$1(progressInRange));\n    };\n};\nvar keyframes = function (_a) {\n    var easings = _a.easings,\n        _b = _a.ease,\n        ease = _b === void 0 ? _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.linear : _b,\n        times = _a.times,\n        values = _a.values,\n        tweenProps = (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__rest)(_a, [\"easings\", \"ease\", \"times\", \"values\"]);\n    easings = Array.isArray(easings) ? easings : defaultEasings(values, easings);\n    times = times || defaultTimings(values);\n    var scrubbers = easings.map(function (easing, i) {\n        return vectorScrubber({\n            from: values[i],\n            to: values[i + 1],\n            ease: easing\n        });\n    });\n    return tween((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)({}, tweenProps), { ease: ease })).applyMiddleware(function (update) {\n        return interpolateScrubbers(times, scrubbers, update);\n    });\n};\n\nvar physics = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.acceleration,\n            acceleration = _b === void 0 ? 0 : _b,\n            _c = props.friction,\n            friction = _c === void 0 ? 0 : _c,\n            _d = props.velocity,\n            velocity = _d === void 0 ? 0 : _d,\n            springStrength = props.springStrength,\n            to = props.to;\n        var _e = props.restSpeed,\n            restSpeed = _e === void 0 ? 0.001 : _e,\n            _f = props.from,\n            from = _f === void 0 ? 0 : _f;\n        var current = from;\n        var process = framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(function (_a) {\n            var delta = _a.delta;\n            var elapsed = Math.max(delta, 16);\n            if (acceleration) velocity += (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.velocityPerFrame)(acceleration, elapsed);\n            if (friction) velocity *= Math.pow(1 - friction, elapsed / 100);\n            if (springStrength !== undefined && to !== undefined) {\n                var distanceToTarget = to - current;\n                velocity += distanceToTarget * (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.velocityPerFrame)(springStrength, elapsed);\n            }\n            current += (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.velocityPerFrame)(velocity, elapsed);\n            update(current);\n            var isComplete = restSpeed !== false && (!velocity || Math.abs(velocity) <= restSpeed);\n            if (isComplete) {\n                framesync__WEBPACK_IMPORTED_MODULE_1__.cancelSync.update(process);\n                complete();\n            }\n        }, true);\n        return {\n            set: function (v) {\n                current = v;\n                return this;\n            },\n            setAcceleration: function (v) {\n                acceleration = v;\n                return this;\n            },\n            setFriction: function (v) {\n                friction = v;\n                return this;\n            },\n            setSpringStrength: function (v) {\n                springStrength = v;\n                return this;\n            },\n            setSpringTarget: function (v) {\n                to = v;\n                return this;\n            },\n            setVelocity: function (v) {\n                velocity = v;\n                return this;\n            },\n            stop: function () {\n                return framesync__WEBPACK_IMPORTED_MODULE_1__.cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorPhysics = /*#__PURE__*/createVectorAction(physics, {\n    acceleration: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    friction: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    velocity: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    from: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    to: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test,\n    springStrength: style_value_types__WEBPACK_IMPORTED_MODULE_2__.number.test\n});\n\nvar DEFAULT_DURATION = 300;\nvar flattenTimings = function (instructions) {\n    var flatInstructions = [];\n    var lastArg = instructions[instructions.length - 1];\n    var isStaggered = typeof lastArg === 'number';\n    var staggerDelay = isStaggered ? lastArg : 0;\n    var segments = isStaggered ? instructions.slice(0, -1) : instructions;\n    var numSegments = segments.length;\n    var offset = 0;\n    segments.forEach(function (item, i) {\n        flatInstructions.push(item);\n        if (i !== numSegments - 1) {\n            var duration = item.duration || DEFAULT_DURATION;\n            offset = staggerDelay;\n            flatInstructions.push(\"\" + (offset - duration));\n        }\n    });\n    return flatInstructions;\n};\nvar flattenArrayInstructions = function (instructions, instruction) {\n    Array.isArray(instruction) ? instructions.push.apply(instructions, flattenTimings(instruction)) : instructions.push(instruction);\n    return instructions;\n};\nvar convertDefToProps = function (props, def, i) {\n    var duration = props.duration,\n        easings = props.easings,\n        times = props.times,\n        values = props.values;\n    var numValues = values.length;\n    var prevTimeTo = times[numValues - 1];\n    var timeFrom = def.at === 0 ? 0 : def.at / duration;\n    var timeTo = (def.at + def.duration) / duration;\n    if (i === 0) {\n        values.push(def.from);\n        times.push(timeFrom);\n    } else {\n        if (prevTimeTo !== timeFrom) {\n            if (def.from !== undefined) {\n                values.push(values[numValues - 1]);\n                times.push(timeFrom);\n                easings.push(_popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.linear);\n            }\n            var from = def.from !== undefined ? def.from : values[numValues - 1];\n            values.push(from);\n            times.push(timeFrom);\n            easings.push(_popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.linear);\n        } else if (def.from !== undefined) {\n            values.push(def.from);\n            times.push(timeFrom);\n            easings.push(_popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.linear);\n        }\n    }\n    values.push(def.to);\n    times.push(timeTo);\n    easings.push(def.ease || _popmotion_easing__WEBPACK_IMPORTED_MODULE_3__.easeInOut);\n    return props;\n};\nvar timeline = function (instructions, _a) {\n    var _b = _a === void 0 ? {} : _a,\n        duration = _b.duration,\n        elapsed = _b.elapsed,\n        ease = _b.ease,\n        loop = _b.loop,\n        flip = _b.flip,\n        yoyo = _b.yoyo;\n    var playhead = 0;\n    var calculatedDuration = 0;\n    var flatInstructions = instructions.reduce(flattenArrayInstructions, []);\n    var animationDefs = [];\n    flatInstructions.forEach(function (instruction) {\n        if (typeof instruction === 'string') {\n            playhead += parseFloat(instruction);\n        } else if (typeof instruction === 'number') {\n            playhead = instruction;\n        } else {\n            var def = (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)({}, instruction), { at: playhead });\n            def.duration = def.duration === undefined ? DEFAULT_DURATION : def.duration;\n            animationDefs.push(def);\n            playhead += def.duration;\n            calculatedDuration = Math.max(calculatedDuration, def.at + def.duration);\n        }\n    });\n    var tracks = {};\n    var numDefs = animationDefs.length;\n    for (var i = 0; i < numDefs; i++) {\n        var def = animationDefs[i];\n        var track = def.track;\n        if (track === undefined) {\n            throw new Error('No track defined');\n        }\n        if (!tracks.hasOwnProperty(track)) tracks[track] = [];\n        tracks[track].push(def);\n    }\n    var trackKeyframes = {};\n    for (var key in tracks) {\n        if (tracks.hasOwnProperty(key)) {\n            var keyframeProps = tracks[key].reduce(convertDefToProps, {\n                duration: calculatedDuration,\n                easings: [],\n                times: [],\n                values: []\n            });\n            trackKeyframes[key] = keyframes((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)({}, keyframeProps), { duration: duration || calculatedDuration, ease: ease,\n                elapsed: elapsed,\n                loop: loop,\n                yoyo: yoyo,\n                flip: flip }));\n        }\n    }\n    return composite(trackKeyframes);\n};\n\nvar listen = function (element, events, options) {\n    return action(function (_a) {\n        var update = _a.update;\n        var eventNames = events.split(' ').map(function (eventName) {\n            element.addEventListener(eventName, update, options);\n            return eventName;\n        });\n        return {\n            stop: function () {\n                return eventNames.forEach(function (eventName) {\n                    return element.removeEventListener(eventName, update, options);\n                });\n            }\n        };\n    });\n};\n\nvar defaultPointerPos = function () {\n    return {\n        clientX: 0,\n        clientY: 0,\n        pageX: 0,\n        pageY: 0,\n        x: 0,\n        y: 0\n    };\n};\nvar eventToPoint = function (e, point) {\n    if (point === void 0) {\n        point = defaultPointerPos();\n    }\n    point.clientX = point.x = e.clientX;\n    point.clientY = point.y = e.clientY;\n    point.pageX = e.pageX;\n    point.pageY = e.pageY;\n    return point;\n};\n\nvar points = [/*#__PURE__*/defaultPointerPos()];\nvar isTouchDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointsLocation = function (_a) {\n        var touches = _a.touches;\n        isTouchDevice = true;\n        var numTouches = touches.length;\n        points.length = 0;\n        for (var i = 0; i < numTouches; i++) {\n            var thisTouch = touches[i];\n            points.push(eventToPoint(thisTouch));\n        }\n    };\n    listen(document, 'touchstart touchmove', {\n        passive: true,\n        capture: true\n    }).start(updatePointsLocation);\n}\nvar multitouch = function (_a) {\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.preventDefault,\n        preventDefault = _c === void 0 ? true : _c,\n        _d = _b.scale,\n        scale = _d === void 0 ? 1.0 : _d,\n        _e = _b.rotate,\n        rotate = _e === void 0 ? 0.0 : _e;\n    return action(function (_a) {\n        var update = _a.update;\n        var output = {\n            touches: points,\n            scale: scale,\n            rotate: rotate\n        };\n        var initialDistance = 0.0;\n        var initialRotation = 0.0;\n        var isGesture = points.length > 1;\n        if (isGesture) {\n            var firstTouch = points[0],\n                secondTouch = points[1];\n            initialDistance = (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.distance)(firstTouch, secondTouch);\n            initialRotation = (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.angle)(firstTouch, secondTouch);\n        }\n        var updatePoint = function () {\n            if (isGesture) {\n                var firstTouch = points[0],\n                    secondTouch = points[1];\n                var newDistance = (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.distance)(firstTouch, secondTouch);\n                var newRotation = (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.angle)(firstTouch, secondTouch);\n                output.scale = scale * (newDistance / initialDistance);\n                output.rotate = rotate + (newRotation - initialRotation);\n            }\n            update(output);\n        };\n        var onMove = function (e) {\n            if (preventDefault || e.touches.length > 1) e.preventDefault();\n            framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(updatePoint);\n        };\n        var updateOnMove = listen(document, 'touchmove', {\n            passive: !preventDefault\n        }).start(onMove);\n        if (isTouchDevice) framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(updatePoint);\n        return {\n            stop: function () {\n                framesync__WEBPACK_IMPORTED_MODULE_1__.cancelSync.update(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\nvar getIsTouchDevice = function () {\n    return isTouchDevice;\n};\n\nvar point = /*#__PURE__*/defaultPointerPos();\nvar isMouseDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointLocation = function (e) {\n        isMouseDevice = true;\n        eventToPoint(e, point);\n    };\n    listen(document, 'mousedown mousemove', true).start(updatePointLocation);\n}\nvar mouse = function (_a) {\n    var _b = (_a === void 0 ? {} : _a).preventDefault,\n        preventDefault = _b === void 0 ? true : _b;\n    return action(function (_a) {\n        var update = _a.update;\n        var updatePoint = function () {\n            return update(point);\n        };\n        var onMove = function (e) {\n            if (preventDefault) e.preventDefault();\n            framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(updatePoint);\n        };\n        var updateOnMove = listen(document, 'mousemove').start(onMove);\n        if (isMouseDevice) framesync__WEBPACK_IMPORTED_MODULE_1__[\"default\"].update(updatePoint);\n        return {\n            stop: function () {\n                framesync__WEBPACK_IMPORTED_MODULE_1__.cancelSync.update(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\n\nvar getFirstTouch = function (_a) {\n    var firstTouch = _a[0];\n    return firstTouch;\n};\nvar pointer = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return getIsTouchDevice() ? multitouch(props).pipe(function (_a) {\n        var touches = _a.touches;\n        return touches;\n    }, getFirstTouch) : mouse(props);\n};\nvar index$1 = function (_a) {\n    if (_a === void 0) {\n        _a = {};\n    }\n    var x = _a.x,\n        y = _a.y,\n        props = (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__rest)(_a, [\"x\", \"y\"]);\n    if (x !== undefined || y !== undefined) {\n        var applyXOffset_1 = (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.applyOffset)(x || 0);\n        var applyYOffset_1 = (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.applyOffset)(y || 0);\n        var delta_1 = { x: 0, y: 0 };\n        return pointer(props).pipe(function (point) {\n            delta_1.x = applyXOffset_1(point.x);\n            delta_1.y = applyYOffset_1(point.y);\n            return delta_1;\n        });\n    } else {\n        return pointer(props);\n    }\n};\n\nvar chain = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var i = 0;\n        var current;\n        var playCurrent = function () {\n            current = actions[i].start({\n                complete: function () {\n                    i++;\n                    i >= actions.length ? complete() : playCurrent();\n                },\n                update: update\n            });\n        };\n        playCurrent();\n        return {\n            stop: function () {\n                return current && current.stop();\n            }\n        };\n    });\n};\n\nvar crossfade = function (a, b) {\n    return action(function (observer) {\n        var balance = 0;\n        var fadable = parallel$1(a, b).start((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)({}, observer), { update: function (_a) {\n                var va = _a[0],\n                    vb = _a[1];\n                observer.update((0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.mix)(va, vb, balance));\n            } }));\n        return {\n            setBalance: function (v) {\n                return balance = v;\n            },\n            stop: function () {\n                return fadable.stop();\n            }\n        };\n    });\n};\n\nvar delay = function (timeToDelay) {\n    return action(function (_a) {\n        var complete = _a.complete;\n        var timeout = setTimeout(complete, timeToDelay);\n        return {\n            stop: function () {\n                return clearTimeout(timeout);\n            }\n        };\n    });\n};\n\nvar merge = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (observer) {\n        var subs = actions.map(function (thisAction) {\n            return thisAction.start(observer);\n        });\n        return {\n            stop: function () {\n                return subs.forEach(function (sub) {\n                    return sub.stop();\n                });\n            }\n        };\n    });\n};\n\nvar schedule = function (scheduler, schedulee) {\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var latest;\n        var schedulerSub = scheduler.start({\n            update: function () {\n                return latest !== undefined && update(latest);\n            },\n            complete: complete\n        });\n        var scheduleeSub = schedulee.start({\n            update: function (v) {\n                return latest = v;\n            },\n            complete: complete\n        });\n        return {\n            stop: function () {\n                schedulerSub.stop();\n                scheduleeSub.stop();\n            }\n        };\n    });\n};\n\nvar stagger = function (actions, interval) {\n    var intervalIsNumber = typeof interval === 'number';\n    var actionsWithDelay = actions.map(function (a, i) {\n        var timeToDelay = intervalIsNumber ? interval * i : interval(i);\n        return chain(delay(timeToDelay), a);\n    });\n    return parallel$1.apply(void 0, actionsWithDelay);\n};\n\nvar appendUnit = function (unit) {\n    return function (v) {\n        return \"\" + v + unit;\n    };\n};\nvar steps = function (st, min, max) {\n    if (min === void 0) {\n        min = 0;\n    }\n    if (max === void 0) {\n        max = 1;\n    }\n    return function (v) {\n        var current = (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.progress)(min, max, v);\n        return (0,_popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.mix)(min, max, stepProgress(st, current));\n    };\n};\nvar transformMap = function (childTransformers) {\n    return function (v) {\n        var output = (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__assign)({}, v);\n        for (var key in childTransformers) {\n            if (childTransformers.hasOwnProperty(key)) {\n                var childTransformer = childTransformers[key];\n                output[key] = childTransformer(v[key]);\n            }\n        }\n        return output;\n    };\n};\n\nvar transformers = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    applyOffset: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.applyOffset,\n    clamp: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.clamp,\n    conditional: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.conditional,\n    interpolate: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.interpolate,\n    blendArray: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.mixArray,\n    blendColor: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.mixColor,\n    pipe: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.pipe,\n    smooth: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.smooth,\n    snap: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.snap,\n    generateStaticSpring: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.springForce,\n    nonlinearSpring: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.springForceExpo,\n    linearSpring: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.springForceLinear,\n    wrap: _popmotion_popcorn__WEBPACK_IMPORTED_MODULE_0__.wrap,\n    appendUnit: appendUnit,\n    steps: steps,\n    transformMap: transformMap\n});\n\nvar css = function (element, props) {\n    (0,hey_listen__WEBPACK_IMPORTED_MODULE_5__.warning)(false, 'css() is deprecated, use styler instead');\n    return (0,stylefire__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(element, props);\n};\nvar svg = function (element, props) {\n    (0,hey_listen__WEBPACK_IMPORTED_MODULE_5__.warning)(false, 'svg() is deprecated, use styler instead');\n    return (0,stylefire__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(element, props);\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3BvcG1vdGlvbi9kaXN0L3BvcG1vdGlvbi5lcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3Btb3Rpb24vZGlzdC9wb3Btb3Rpb24uZXMuanM/MzUxOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2Fzc2lnbiwgX19zcHJlYWRBcnJheXMsIF9fZXh0ZW5kcywgX19yZXN0IH0gZnJvbSAndHNsaWInO1xuaW1wb3J0IHsgcGlwZSwgYW5nbGUsIGRlZ3JlZXNUb1JhZGlhbnMsIGRpc3RhbmNlLCBpc1BvaW50M0QsIGlzUG9pbnQsIG1peCwgcG9pbnRGcm9tVmVjdG9yLCBwcm9ncmVzcywgcmFkaWFuc1RvRGVncmVlcywgc21vb3RoRnJhbWUsIHZlbG9jaXR5UGVyRnJhbWUsIHZlbG9jaXR5UGVyU2Vjb25kLCBtaXhDb21wbGV4LCBtaXhDb2xvciwgY2xhbXAsIGFwcGx5T2Zmc2V0LCBjb25kaXRpb25hbCwgaW50ZXJwb2xhdGUsIG1peEFycmF5LCBzbW9vdGgsIHNuYXAsIHNwcmluZ0ZvcmNlLCBzcHJpbmdGb3JjZUV4cG8sIHNwcmluZ0ZvcmNlTGluZWFyLCB3cmFwIH0gZnJvbSAnQHBvcG1vdGlvbi9wb3Bjb3JuJztcbmltcG9ydCBzeW5jLCB7IGdldEZyYW1lRGF0YSwgY2FuY2VsU3luYyB9IGZyb20gJ2ZyYW1lc3luYyc7XG5pbXBvcnQgeyBjb2xvciwgY29tcGxleCwgcHgsIHBlcmNlbnQsIGRlZ3JlZXMsIHZoLCB2dywgbnVtYmVyIH0gZnJvbSAnc3R5bGUtdmFsdWUtdHlwZXMnO1xuaW1wb3J0ICogYXMgc3R5bGVWYWx1ZVR5cGVzIGZyb20gJ3N0eWxlLXZhbHVlLXR5cGVzJztcbmV4cG9ydCB7IHN0eWxlVmFsdWVUeXBlcyBhcyB2YWx1ZVR5cGVzIH07XG5pbXBvcnQgeyBjcmVhdGVSZXZlcnNlZEVhc2luZywgbGluZWFyLCBlYXNlT3V0LCBlYXNlSW5PdXQgfSBmcm9tICdAcG9wbW90aW9uL2Vhc2luZyc7XG5pbXBvcnQgKiBhcyBlYXNpbmcgZnJvbSAnQHBvcG1vdGlvbi9lYXNpbmcnO1xuZXhwb3J0IHsgZWFzaW5nIH07XG5pbXBvcnQgc3R5bGVyIGZyb20gJ3N0eWxlZmlyZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHN0eWxlciB9IGZyb20gJ3N0eWxlZmlyZSc7XG5pbXBvcnQgeyB3YXJuaW5nIH0gZnJvbSAnaGV5LWxpc3Rlbic7XG5cbnZhciBDaGFpbmFibGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENoYWluYWJsZShwcm9wcykge1xuICAgICAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcHJvcHMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgfVxuICAgIENoYWluYWJsZS5wcm90b3R5cGUuYXBwbHlNaWRkbGV3YXJlID0gZnVuY3Rpb24gKG1pZGRsZXdhcmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLnByb3BzKSwgeyBtaWRkbGV3YXJlOiB0aGlzLnByb3BzLm1pZGRsZXdhcmUgPyBfX3NwcmVhZEFycmF5cyhbbWlkZGxld2FyZV0sIHRoaXMucHJvcHMubWlkZGxld2FyZSkgOiBbbWlkZGxld2FyZV0gfSkpO1xuICAgIH07XG4gICAgQ2hhaW5hYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnVuY3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGZ1bmNzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBpcGVkVXBkYXRlID0gZnVuY3MubGVuZ3RoID09PSAxID8gZnVuY3NbMF0gOiBwaXBlLmFwcGx5KHZvaWQgMCwgZnVuY3MpO1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseU1pZGRsZXdhcmUoZnVuY3Rpb24gKHVwZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZShwaXBlZFVwZGF0ZSh2KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENoYWluYWJsZS5wcm90b3R5cGUud2hpbGUgPSBmdW5jdGlvbiAocHJlZGljYXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGx5TWlkZGxld2FyZShmdW5jdGlvbiAodXBkYXRlLCBjb21wbGV0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2KSA/IHVwZGF0ZSh2KSA6IGNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENoYWluYWJsZS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKHByZWRpY2F0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseU1pZGRsZXdhcmUoZnVuY3Rpb24gKHVwZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2KSAmJiB1cGRhdGUodik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBDaGFpbmFibGU7XG59KCk7XG5cbnZhciBPYnNlcnZlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2ZXIoX2EsIG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtaWRkbGV3YXJlID0gX2EubWlkZGxld2FyZSxcbiAgICAgICAgICAgIG9uQ29tcGxldGUgPSBfYS5vbkNvbXBsZXRlO1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgaWYgKF90aGlzLm9ic2VydmVyLnVwZGF0ZSkgX3RoaXMudXBkYXRlT2JzZXJ2ZXIodik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMub2JzZXJ2ZXIuY29tcGxldGUgJiYgX3RoaXMuaXNBY3RpdmUpIF90aGlzLm9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICBpZiAoX3RoaXMub25Db21wbGV0ZSkgX3RoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgX3RoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5vYnNlcnZlci5lcnJvciAmJiBfdGhpcy5pc0FjdGl2ZSkgX3RoaXMub2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIF90aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICAgICAgdGhpcy51cGRhdGVPYnNlcnZlciA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIudXBkYXRlKHYpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBvbkNvbXBsZXRlO1xuICAgICAgICBpZiAob2JzZXJ2ZXIudXBkYXRlICYmIG1pZGRsZXdhcmUgJiYgbWlkZGxld2FyZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIG1pZGRsZXdhcmUuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy51cGRhdGVPYnNlcnZlciA9IG0oX3RoaXMudXBkYXRlT2JzZXJ2ZXIsIF90aGlzLmNvbXBsZXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBPYnNlcnZlcjtcbn0oKTtcbnZhciBjcmVhdGVPYnNlcnZlciA9IGZ1bmN0aW9uIChvYnNlcnZlckNhbmRpZGF0ZSwgX2EsIG9uQ29tcGxldGUpIHtcbiAgICB2YXIgbWlkZGxld2FyZSA9IF9hLm1pZGRsZXdhcmU7XG4gICAgaWYgKHR5cGVvZiBvYnNlcnZlckNhbmRpZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmVyKHsgbWlkZGxld2FyZTogbWlkZGxld2FyZSwgb25Db21wbGV0ZTogb25Db21wbGV0ZSB9LCB7IHVwZGF0ZTogb2JzZXJ2ZXJDYW5kaWRhdGUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZlcih7IG1pZGRsZXdhcmU6IG1pZGRsZXdhcmUsIG9uQ29tcGxldGU6IG9uQ29tcGxldGUgfSwgb2JzZXJ2ZXJDYW5kaWRhdGUpO1xuICAgIH1cbn07XG5cbnZhciBBY3Rpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEFjdGlvbi5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQWN0aW9uKHByb3BzKTtcbiAgICB9O1xuICAgIEFjdGlvbi5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAob2JzZXJ2ZXJDYW5kaWRhdGUpIHtcbiAgICAgICAgaWYgKG9ic2VydmVyQ2FuZGlkYXRlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIG9ic2VydmVyQ2FuZGlkYXRlID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHtcbiAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgaW5pdCA9IF9hLmluaXQsXG4gICAgICAgICAgICBvYnNlcnZlclByb3BzID0gX19yZXN0KF9hLCBbXCJpbml0XCJdKTtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gY3JlYXRlT2JzZXJ2ZXIob2JzZXJ2ZXJDYW5kaWRhdGUsIG9ic2VydmVyUHJvcHMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnN0b3AoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBhcGkgPSBpbml0KG9ic2VydmVyKTtcbiAgICAgICAgc3Vic2NyaXB0aW9uID0gYXBpID8gX19hc3NpZ24oX19hc3NpZ24oe30sIHN1YnNjcmlwdGlvbiksIGFwaSkgOiBzdWJzY3JpcHRpb247XG4gICAgICAgIGlmIChvYnNlcnZlckNhbmRpZGF0ZS5yZWdpc3RlclBhcmVudCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXJDYW5kaWRhdGUucmVnaXN0ZXJQYXJlbnQoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDb21wbGV0ZSkgc3Vic2NyaXB0aW9uLnN0b3AoKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBBY3Rpb247XG59KENoYWluYWJsZSk7XG52YXIgYWN0aW9uID0gZnVuY3Rpb24gKGluaXQpIHtcbiAgICByZXR1cm4gbmV3IEFjdGlvbih7IGluaXQ6IGluaXQgfSk7XG59O1xuXG52YXIgQmFzZU11bHRpY2FzdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VNdWx0aWNhc3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmFzZU11bHRpY2FzdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN1YnNjcmliZXJzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQmFzZU11bHRpY2FzdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBCYXNlTXVsdGljYXN0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEJhc2VNdWx0aWNhc3QucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJzY3JpYmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVyc1tpXS51cGRhdGUodik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJhc2VNdWx0aWNhc3QucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlckNhbmRpZGF0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBjcmVhdGVPYnNlcnZlcihvYnNlcnZlckNhbmRpZGF0ZSwgdGhpcy5wcm9wcyk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMucHVzaChvYnNlcnZlcik7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IF90aGlzLnN1YnNjcmliZXJzLmluZGV4T2Yob2JzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIF90aGlzLnN1YnNjcmliZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBCYXNlTXVsdGljYXN0LnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHRoaXMucGFyZW50LnN0b3AoKTtcbiAgICB9O1xuICAgIEJhc2VNdWx0aWNhc3QucHJvdG90eXBlLnJlZ2lzdGVyUGFyZW50ID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZU11bHRpY2FzdDtcbn0oQ2hhaW5hYmxlKTtcblxudmFyIE11bHRpY2FzdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE11bHRpY2FzdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNdWx0aWNhc3QoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgTXVsdGljYXN0LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNdWx0aWNhc3QocHJvcHMpO1xuICAgIH07XG4gICAgcmV0dXJuIE11bHRpY2FzdDtcbn0oQmFzZU11bHRpY2FzdCk7XG52YXIgbXVsdGljYXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgTXVsdGljYXN0KCk7XG59O1xuXG52YXIgc3RlcFByb2dyZXNzID0gZnVuY3Rpb24gKHN0ZXBzLCBwcm9ncmVzcykge1xuICAgIHZhciBzZWdtZW50ID0gMSAvIChzdGVwcyAtIDEpO1xuICAgIHZhciBzdWJzZWdtZW50ID0gMSAvICgyICogKHN0ZXBzIC0gMSkpO1xuICAgIHZhciBwZXJjZW50UHJvZ3Jlc3NPZlRhcmdldCA9IE1hdGgubWluKHByb2dyZXNzLCAxKTtcbiAgICB2YXIgc3Vic2VnbWVudFByb2dyZXNzT2ZUYXJnZXQgPSBwZXJjZW50UHJvZ3Jlc3NPZlRhcmdldCAvIHN1YnNlZ21lbnQ7XG4gICAgdmFyIHNlZ21lbnRQcm9ncmVzc09mVGFyZ2V0ID0gTWF0aC5mbG9vcigoc3Vic2VnbWVudFByb2dyZXNzT2ZUYXJnZXQgKyAxKSAvIDIpO1xuICAgIHJldHVybiBzZWdtZW50UHJvZ3Jlc3NPZlRhcmdldCAqIHNlZ21lbnQ7XG59O1xuXG52YXIgY2FsYyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBfX3Byb3RvX186IG51bGwsXG4gICAgYW5nbGU6IGFuZ2xlLFxuICAgIGRlZ3JlZXNUb1JhZGlhbnM6IGRlZ3JlZXNUb1JhZGlhbnMsXG4gICAgZGlzdGFuY2U6IGRpc3RhbmNlLFxuICAgIGlzUG9pbnQzRDogaXNQb2ludDNELFxuICAgIGlzUG9pbnQ6IGlzUG9pbnQsXG4gICAgZGlsYXRlOiBtaXgsXG4gICAgZ2V0VmFsdWVGcm9tUHJvZ3Jlc3M6IG1peCxcbiAgICBwb2ludEZyb21BbmdsZUFuZERpc3RhbmNlOiBwb2ludEZyb21WZWN0b3IsXG4gICAgZ2V0UHJvZ3Jlc3NGcm9tVmFsdWU6IHByb2dyZXNzLFxuICAgIHJhZGlhbnNUb0RlZ3JlZXM6IHJhZGlhbnNUb0RlZ3JlZXMsXG4gICAgc21vb3RoOiBzbW9vdGhGcmFtZSxcbiAgICBzcGVlZFBlckZyYW1lOiB2ZWxvY2l0eVBlckZyYW1lLFxuICAgIHNwZWVkUGVyU2Vjb25kOiB2ZWxvY2l0eVBlclNlY29uZCxcbiAgICBzdGVwUHJvZ3Jlc3M6IHN0ZXBQcm9ncmVzc1xufSk7XG5cbnZhciBpc1ZhbHVlTGlzdCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodik7XG59O1xudmFyIGlzU2luZ2xlVmFsdWUgPSBmdW5jdGlvbiAodikge1xuICAgIHZhciB0eXBlT2ZWID0gdHlwZW9mIHY7XG4gICAgcmV0dXJuIHR5cGVPZlYgPT09ICdzdHJpbmcnIHx8IHR5cGVPZlYgPT09ICdudW1iZXInO1xufTtcbnZhciBWYWx1ZVJlYWN0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVmFsdWVSZWFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBWYWx1ZVJlYWN0aW9uKHByb3BzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZVZlbG9jaXR5Q2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3luYy5wb3N0UmVuZGVyKF90aGlzLnZlbG9jaXR5Q2hlY2spO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy52ZWxvY2l0eUNoZWNrID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgdGltZXN0YW1wID0gX2EudGltZXN0YW1wO1xuICAgICAgICAgICAgaWYgKHRpbWVzdGFtcCAhPT0gX3RoaXMubGFzdFVwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wcmV2ID0gX3RoaXMuY3VycmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMucHJldiA9IF90aGlzLmN1cnJlbnQgPSBwcm9wcy52YWx1ZSB8fCAwO1xuICAgICAgICBpZiAoaXNTaW5nbGVWYWx1ZShfdGhpcy5jdXJyZW50KSkge1xuICAgICAgICAgICAgX3RoaXMudXBkYXRlQ3VycmVudCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLmdldFZlbG9jaXR5T2ZDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRTaW5nbGVWZWxvY2l0eShfdGhpcy5jdXJyZW50LCBfdGhpcy5wcmV2KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoaXNWYWx1ZUxpc3QoX3RoaXMuY3VycmVudCkpIHtcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUN1cnJlbnQgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jdXJyZW50ID0gX19zcHJlYWRBcnJheXModik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuZ2V0VmVsb2NpdHlPZkN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldExpc3RWZWxvY2l0eSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUN1cnJlbnQgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnQgPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodi5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50W2tleV0gPSB2W2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuZ2V0VmVsb2NpdHlPZkN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldE1hcFZlbG9jaXR5KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy5pbml0aWFsU3Vic2NyaXB0aW9uKSBfdGhpcy5zdWJzY3JpYmUocHJvcHMuaW5pdGlhbFN1YnNjcmlwdGlvbik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVmFsdWVSZWFjdGlvbi5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWVSZWFjdGlvbihwcm9wcyk7XG4gICAgfTtcbiAgICBWYWx1ZVJlYWN0aW9uLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQ7XG4gICAgfTtcbiAgICBWYWx1ZVJlYWN0aW9uLnByb3RvdHlwZS5nZXRWZWxvY2l0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVsb2NpdHlPZkN1cnJlbnQoKTtcbiAgICB9O1xuICAgIFZhbHVlUmVhY3Rpb24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcywgdik7XG4gICAgICAgIHRoaXMucHJldiA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50KHYpO1xuICAgICAgICB2YXIgX2EgPSBnZXRGcmFtZURhdGEoKSxcbiAgICAgICAgICAgIGRlbHRhID0gX2EuZGVsdGEsXG4gICAgICAgICAgICB0aW1lc3RhbXAgPSBfYS50aW1lc3RhbXA7XG4gICAgICAgIHRoaXMudGltZURlbHRhID0gZGVsdGE7XG4gICAgICAgIHRoaXMubGFzdFVwZGF0ZWQgPSB0aW1lc3RhbXA7XG4gICAgICAgIHN5bmMucG9zdFJlbmRlcih0aGlzLnNjaGVkdWxlVmVsb2NpdHlDaGVjayk7XG4gICAgfTtcbiAgICBWYWx1ZVJlYWN0aW9uLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJDYW5kaWRhdGUpIHtcbiAgICAgICAgdmFyIHN1YiA9IF9zdXBlci5wcm90b3R5cGUuc3Vic2NyaWJlLmNhbGwodGhpcywgb2JzZXJ2ZXJDYW5kaWRhdGUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJzW3RoaXMuc3Vic2NyaWJlcnMubGVuZ3RoIC0gMV0udXBkYXRlKHRoaXMuY3VycmVudCk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfTtcbiAgICBWYWx1ZVJlYWN0aW9uLnByb3RvdHlwZS5nZXRTaW5nbGVWZWxvY2l0eSA9IGZ1bmN0aW9uIChjdXJyZW50LCBwcmV2KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgY3VycmVudCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHByZXYgPT09ICdudW1iZXInID8gdmVsb2NpdHlQZXJTZWNvbmQoY3VycmVudCAtIHByZXYsIHRoaXMudGltZURlbHRhKSA6IHZlbG9jaXR5UGVyU2Vjb25kKHBhcnNlRmxvYXQoY3VycmVudCkgLSBwYXJzZUZsb2F0KHByZXYpLCB0aGlzLnRpbWVEZWx0YSkgfHwgMDtcbiAgICB9O1xuICAgIFZhbHVlUmVhY3Rpb24ucHJvdG90eXBlLmdldExpc3RWZWxvY2l0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5tYXAoZnVuY3Rpb24gKGMsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRTaW5nbGVWZWxvY2l0eShjLCBfdGhpcy5wcmV2W2ldKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBWYWx1ZVJlYWN0aW9uLnByb3RvdHlwZS5nZXRNYXBWZWxvY2l0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZlbG9jaXR5ID0ge307XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZlbG9jaXR5W2tleV0gPSB0aGlzLmdldFNpbmdsZVZlbG9jaXR5KHRoaXMuY3VycmVudFtrZXldLCB0aGlzLnByZXZba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZlbG9jaXR5O1xuICAgIH07XG4gICAgcmV0dXJuIFZhbHVlUmVhY3Rpb247XG59KEJhc2VNdWx0aWNhc3QpO1xudmFyIHZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsU3Vic2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZVJlYWN0aW9uKHsgdmFsdWU6IHZhbHVlLCBpbml0aWFsU3Vic2NyaXB0aW9uOiBpbml0aWFsU3Vic2NyaXB0aW9uIH0pO1xufTtcblxudmFyIG11bHRpID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGdldENvdW50ID0gX2EuZ2V0Q291bnQsXG4gICAgICAgIGdldEZpcnN0ID0gX2EuZ2V0Rmlyc3QsXG4gICAgICAgIGdldE91dHB1dCA9IF9hLmdldE91dHB1dCxcbiAgICAgICAgbWFwQXBpID0gX2EubWFwQXBpLFxuICAgICAgICBzZXRQcm9wID0gX2Euc2V0UHJvcCxcbiAgICAgICAgc3RhcnRBY3Rpb25zID0gX2Euc3RhcnRBY3Rpb25zO1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9ucykge1xuICAgICAgICByZXR1cm4gYWN0aW9uKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIHVwZGF0ZSA9IF9hLnVwZGF0ZSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSA9IF9hLmNvbXBsZXRlLFxuICAgICAgICAgICAgICAgIGVycm9yID0gX2EuZXJyb3I7XG4gICAgICAgICAgICB2YXIgbnVtQWN0aW9ucyA9IGdldENvdW50KGFjdGlvbnMpO1xuICAgICAgICAgICAgdmFyIG91dHB1dCA9IGdldE91dHB1dCgpO1xuICAgICAgICAgICAgdmFyIHVwZGF0ZU91dHB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlKG91dHB1dCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG51bUNvbXBsZXRlZEFjdGlvbnMgPSAwO1xuICAgICAgICAgICAgdmFyIHN1YnMgPSBzdGFydEFjdGlvbnMoYWN0aW9ucywgZnVuY3Rpb24gKGEsIG5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEuc3RhcnQoe1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bUNvbXBsZXRlZEFjdGlvbnMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtQ29tcGxldGVkQWN0aW9ucyA9PT0gbnVtQWN0aW9ucykgc3luYy51cGRhdGUoY29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFByb3Aob3V0cHV0LCBuYW1lLCB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bmMudXBkYXRlKHVwZGF0ZU91dHB1dCwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhnZXRGaXJzdChzdWJzKSkucmVkdWNlKGZ1bmN0aW9uIChhcGksIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgICAgICAgICBhcGlbbWV0aG9kTmFtZV0gPSBtYXBBcGkoc3VicywgbWV0aG9kTmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwaTtcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG5cbnZhciBjb21wb3NpdGUgPSAvKiNfX1BVUkVfXyovbXVsdGkoe1xuICAgIGdldE91dHB1dDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBnZXRDb3VudDogZnVuY3Rpb24gKHN1YnMpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHN1YnMpLmxlbmd0aDtcbiAgICB9LFxuICAgIGdldEZpcnN0OiBmdW5jdGlvbiAoc3Vicykge1xuICAgICAgICByZXR1cm4gc3Vic1tPYmplY3Qua2V5cyhzdWJzKVswXV07XG4gICAgfSxcbiAgICBtYXBBcGk6IGZ1bmN0aW9uIChzdWJzLCBtZXRob2ROYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoc3VicykucmVkdWNlKGZ1bmN0aW9uIChvdXRwdXQsIHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNbcHJvcEtleV1bbWV0aG9kTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1swXSAmJiBhcmdzWzBdW3Byb3BLZXldICE9PSB1bmRlZmluZWQgPyBvdXRwdXRbcHJvcEtleV0gPSBzdWJzW3Byb3BLZXldW21ldGhvZE5hbWVdKGFyZ3NbMF1bcHJvcEtleV0pIDogb3V0cHV0W3Byb3BLZXldID0gKF9hID0gc3Vic1twcm9wS2V5XSlbbWV0aG9kTmFtZV0uYXBwbHkoX2EsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgc2V0UHJvcDogZnVuY3Rpb24gKG91dHB1dCwgbmFtZSwgdikge1xuICAgICAgICByZXR1cm4gb3V0cHV0W25hbWVdID0gdjtcbiAgICB9LFxuICAgIHN0YXJ0QWN0aW9uczogZnVuY3Rpb24gKGFjdGlvbnMsIHN0YXJ0ZXIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGFjdGlvbnMpLnJlZHVjZShmdW5jdGlvbiAoc3Vicywga2V5KSB7XG4gICAgICAgICAgICBzdWJzW2tleV0gPSBzdGFydGVyKGFjdGlvbnNba2V5XSwga2V5KTtcbiAgICAgICAgICAgIHJldHVybiBzdWJzO1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxufSk7XG5cbnZhciBwYXJhbGxlbCA9IC8qI19fUFVSRV9fKi9tdWx0aSh7XG4gICAgZ2V0T3V0cHV0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9LFxuICAgIGdldENvdW50OiBmdW5jdGlvbiAoc3Vicykge1xuICAgICAgICByZXR1cm4gc3Vicy5sZW5ndGg7XG4gICAgfSxcbiAgICBnZXRGaXJzdDogZnVuY3Rpb24gKHN1YnMpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNbMF07XG4gICAgfSxcbiAgICBtYXBBcGk6IGZ1bmN0aW9uIChzdWJzLCBtZXRob2ROYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3Vicy5tYXAoZnVuY3Rpb24gKHN1YiwgaSkge1xuICAgICAgICAgICAgICAgIGlmIChzdWJbbWV0aG9kTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJnc1swXSkgPyBzdWJbbWV0aG9kTmFtZV0oYXJnc1swXVtpXSkgOiBzdWJbbWV0aG9kTmFtZV0uYXBwbHkoc3ViLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHNldFByb3A6IGZ1bmN0aW9uIChvdXRwdXQsIG5hbWUsIHYpIHtcbiAgICAgICAgcmV0dXJuIG91dHB1dFtuYW1lXSA9IHY7XG4gICAgfSxcbiAgICBzdGFydEFjdGlvbnM6IGZ1bmN0aW9uIChhY3Rpb25zLCBzdGFydGVyKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb25zLm1hcChmdW5jdGlvbiAoYWN0aW9uLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhcnRlcihhY3Rpb24sIGkpO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcbnZhciBwYXJhbGxlbCQxID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhY3Rpb25zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYWN0aW9uc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGFyYWxsZWwoYWN0aW9ucyk7XG59O1xuXG52YXIgY3JlYXRlVmVjdG9yVGVzdHMgPSBmdW5jdGlvbiAodHlwZVRlc3RzKSB7XG4gICAgdmFyIHRlc3ROYW1lcyA9IE9iamVjdC5rZXlzKHR5cGVUZXN0cyk7XG4gICAgdmFyIGlzVmVjdG9yUHJvcCA9IGZ1bmN0aW9uIChwcm9wLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHByb3AgIT09IHVuZGVmaW5lZCAmJiAhdHlwZVRlc3RzW2tleV0ocHJvcCk7XG4gICAgfTtcbiAgICB2YXIgZ2V0VmVjdG9yS2V5cyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICByZXR1cm4gdGVzdE5hbWVzLnJlZHVjZShmdW5jdGlvbiAodmVjdG9yS2V5cywga2V5KSB7XG4gICAgICAgICAgICBpZiAoaXNWZWN0b3JQcm9wKHByb3BzW2tleV0sIGtleSkpIHZlY3RvcktleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIHZlY3RvcktleXM7XG4gICAgICAgIH0sIFtdKTtcbiAgICB9O1xuICAgIHZhciB0ZXN0VmVjdG9yUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzICYmIHRlc3ROYW1lcy5zb21lKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBpc1ZlY3RvclByb3AocHJvcHNba2V5XSwga2V5KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4geyBnZXRWZWN0b3JLZXlzOiBnZXRWZWN0b3JLZXlzLCB0ZXN0VmVjdG9yUHJvcHM6IHRlc3RWZWN0b3JQcm9wcyB9O1xufTtcbnZhciB1bml0VHlwZXMgPSBbcHgsIHBlcmNlbnQsIGRlZ3JlZXMsIHZoLCB2d107XG52YXIgZmluZFVuaXRUeXBlID0gZnVuY3Rpb24gKHByb3ApIHtcbiAgICByZXR1cm4gdW5pdFR5cGVzLmZpbmQoZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGUudGVzdChwcm9wKTtcbiAgICB9KTtcbn07XG52YXIgaXNVbml0UHJvcCA9IGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4oZmluZFVuaXRUeXBlKHByb3ApKTtcbn07XG52YXIgY3JlYXRlQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbiwgcHJvcHMpIHtcbiAgICByZXR1cm4gYWN0aW9uKHByb3BzKTtcbn07XG52YXIgcmVkdWNlQXJyYXlWYWx1ZSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwcm9wcywga2V5KSB7XG4gICAgICAgIHByb3BzW2tleV0gPSBwcm9wc1trZXldW2ldO1xuICAgICAgICByZXR1cm4gcHJvcHM7XG4gICAgfTtcbn07XG52YXIgY3JlYXRlQXJyYXlBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uLCBwcm9wcywgdmVjdG9yS2V5cykge1xuICAgIHZhciBmaXJzdFZlY3RvcktleSA9IHZlY3RvcktleXNbMF07XG4gICAgdmFyIGFjdGlvbkxpc3QgPSBwcm9wc1tmaXJzdFZlY3RvcktleV0ubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICAgIHZhciBjaGlsZEFjdGlvblByb3BzID0gdmVjdG9yS2V5cy5yZWR1Y2UocmVkdWNlQXJyYXlWYWx1ZShpKSwgX19hc3NpZ24oe30sIHByb3BzKSk7XG4gICAgICAgIHJldHVybiBnZXRBY3Rpb25DcmVhdG9yKHYpKGFjdGlvbiwgY2hpbGRBY3Rpb25Qcm9wcyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHBhcmFsbGVsJDEuYXBwbHkodm9pZCAwLCBhY3Rpb25MaXN0KTtcbn07XG52YXIgcmVkdWNlT2JqZWN0VmFsdWUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwcm9wcywgcHJvcEtleSkge1xuICAgICAgICBwcm9wc1twcm9wS2V5XSA9IHByb3BzW3Byb3BLZXldW2tleV07XG4gICAgICAgIHJldHVybiBwcm9wcztcbiAgICB9O1xufTtcbnZhciBjcmVhdGVPYmplY3RBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uLCBwcm9wcywgdmVjdG9yS2V5cykge1xuICAgIHZhciBmaXJzdFZlY3RvcktleSA9IHZlY3RvcktleXNbMF07XG4gICAgdmFyIGFjdGlvbk1hcCA9IE9iamVjdC5rZXlzKHByb3BzW2ZpcnN0VmVjdG9yS2V5XSkucmVkdWNlKGZ1bmN0aW9uIChtYXAsIGtleSkge1xuICAgICAgICB2YXIgY2hpbGRBY3Rpb25Qcm9wcyA9IHZlY3RvcktleXMucmVkdWNlKHJlZHVjZU9iamVjdFZhbHVlKGtleSksIF9fYXNzaWduKHt9LCBwcm9wcykpO1xuICAgICAgICBtYXBba2V5XSA9IGdldEFjdGlvbkNyZWF0b3IocHJvcHNbZmlyc3RWZWN0b3JLZXldW2tleV0pKGFjdGlvbiwgY2hpbGRBY3Rpb25Qcm9wcyk7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfSwge30pO1xuICAgIHJldHVybiBjb21wb3NpdGUoYWN0aW9uTWFwKTtcbn07XG52YXIgY3JlYXRlVW5pdEFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24sIF9hKSB7XG4gICAgdmFyIGZyb20gPSBfYS5mcm9tLFxuICAgICAgICB0byA9IF9hLnRvLFxuICAgICAgICBwcm9wcyA9IF9fcmVzdChfYSwgW1wiZnJvbVwiLCBcInRvXCJdKTtcbiAgICB2YXIgdW5pdFR5cGUgPSBmaW5kVW5pdFR5cGUoZnJvbSkgfHwgZmluZFVuaXRUeXBlKHRvKTtcbiAgICB2YXIgdHJhbnNmb3JtID0gdW5pdFR5cGUudHJhbnNmb3JtLFxuICAgICAgICBwYXJzZSA9IHVuaXRUeXBlLnBhcnNlO1xuICAgIHJldHVybiBhY3Rpb24oX19hc3NpZ24oX19hc3NpZ24oe30sIHByb3BzKSwgeyBmcm9tOiB0eXBlb2YgZnJvbSA9PT0gJ3N0cmluZycgPyBwYXJzZShmcm9tKSA6IGZyb20sIHRvOiB0eXBlb2YgdG8gPT09ICdzdHJpbmcnID8gcGFyc2UodG8pIDogdG8gfSkpLnBpcGUodHJhbnNmb3JtKTtcbn07XG52YXIgY3JlYXRlTWl4ZXJBY3Rpb24gPSBmdW5jdGlvbiAobWl4ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbiwgX2EpIHtcbiAgICAgICAgdmFyIGZyb20gPSBfYS5mcm9tLFxuICAgICAgICAgICAgdG8gPSBfYS50byxcbiAgICAgICAgICAgIHByb3BzID0gX19yZXN0KF9hLCBbXCJmcm9tXCIsIFwidG9cIl0pO1xuICAgICAgICByZXR1cm4gYWN0aW9uKF9fYXNzaWduKF9fYXNzaWduKHt9LCBwcm9wcyksIHsgZnJvbTogMCwgdG86IDEgfSkpLnBpcGUobWl4ZXIoZnJvbSwgdG8pKTtcbiAgICB9O1xufTtcbnZhciBjcmVhdGVDb2xvckFjdGlvbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVNaXhlckFjdGlvbihtaXhDb2xvcik7XG52YXIgY3JlYXRlQ29tcGxleEFjdGlvbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVNaXhlckFjdGlvbihtaXhDb21wbGV4KTtcbnZhciBjcmVhdGVWZWN0b3JBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uLCB0eXBlVGVzdHMpIHtcbiAgICB2YXIgX2EgPSBjcmVhdGVWZWN0b3JUZXN0cyh0eXBlVGVzdHMpLFxuICAgICAgICB0ZXN0VmVjdG9yUHJvcHMgPSBfYS50ZXN0VmVjdG9yUHJvcHMsXG4gICAgICAgIGdldFZlY3RvcktleXMgPSBfYS5nZXRWZWN0b3JLZXlzO1xuICAgIHZhciB2ZWN0b3JBY3Rpb24gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgdmFyIGlzVmVjdG9yID0gdGVzdFZlY3RvclByb3BzKHByb3BzKTtcbiAgICAgICAgaWYgKCFpc1ZlY3RvcikgcmV0dXJuIGFjdGlvbihwcm9wcyk7XG4gICAgICAgIHZhciB2ZWN0b3JLZXlzID0gZ2V0VmVjdG9yS2V5cyhwcm9wcyk7XG4gICAgICAgIHZhciB0ZXN0S2V5ID0gdmVjdG9yS2V5c1swXTtcbiAgICAgICAgdmFyIHRlc3RQcm9wID0gcHJvcHNbdGVzdEtleV07XG4gICAgICAgIHJldHVybiBnZXRBY3Rpb25DcmVhdG9yKHRlc3RQcm9wKShhY3Rpb24sIHByb3BzLCB2ZWN0b3JLZXlzKTtcbiAgICB9O1xuICAgIHJldHVybiB2ZWN0b3JBY3Rpb247XG59O1xudmFyIGdldEFjdGlvbkNyZWF0b3IgPSBmdW5jdGlvbiAocHJvcCkge1xuICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUFjdGlvbjtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocHJvcCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUFycmF5QWN0aW9uO1xuICAgIH0gZWxzZSBpZiAoaXNVbml0UHJvcChwcm9wKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlVW5pdEFjdGlvbjtcbiAgICB9IGVsc2UgaWYgKGNvbG9yLnRlc3QocHJvcCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUNvbG9yQWN0aW9uO1xuICAgIH0gZWxzZSBpZiAoY29tcGxleC50ZXN0KHByb3ApKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVDb21wbGV4QWN0aW9uO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb3AgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVPYmplY3RBY3Rpb247XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUFjdGlvbjtcbiAgICB9XG59O1xuXG52YXIgZGVjYXkgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgICBwcm9wcyA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gYWN0aW9uKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgY29tcGxldGUgPSBfYS5jb21wbGV0ZSxcbiAgICAgICAgICAgIHVwZGF0ZSA9IF9hLnVwZGF0ZTtcbiAgICAgICAgdmFyIF9iID0gcHJvcHMudmVsb2NpdHksXG4gICAgICAgICAgICB2ZWxvY2l0eSA9IF9iID09PSB2b2lkIDAgPyAwIDogX2IsXG4gICAgICAgICAgICBfYyA9IHByb3BzLmZyb20sXG4gICAgICAgICAgICBmcm9tID0gX2MgPT09IHZvaWQgMCA/IDAgOiBfYyxcbiAgICAgICAgICAgIF9kID0gcHJvcHMucG93ZXIsXG4gICAgICAgICAgICBwb3dlciA9IF9kID09PSB2b2lkIDAgPyAwLjggOiBfZCxcbiAgICAgICAgICAgIF9lID0gcHJvcHMudGltZUNvbnN0YW50LFxuICAgICAgICAgICAgdGltZUNvbnN0YW50ID0gX2UgPT09IHZvaWQgMCA/IDM1MCA6IF9lLFxuICAgICAgICAgICAgX2YgPSBwcm9wcy5yZXN0RGVsdGEsXG4gICAgICAgICAgICByZXN0RGVsdGEgPSBfZiA9PT0gdm9pZCAwID8gMC41IDogX2YsXG4gICAgICAgICAgICBtb2RpZnlUYXJnZXQgPSBwcm9wcy5tb2RpZnlUYXJnZXQ7XG4gICAgICAgIHZhciBlbGFwc2VkID0gMDtcbiAgICAgICAgdmFyIGFtcGxpdHVkZSA9IHBvd2VyICogdmVsb2NpdHk7XG4gICAgICAgIHZhciBpZGVhbFRhcmdldCA9IGZyb20gKyBhbXBsaXR1ZGU7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0eXBlb2YgbW9kaWZ5VGFyZ2V0ID09PSAndW5kZWZpbmVkJyA/IGlkZWFsVGFyZ2V0IDogbW9kaWZ5VGFyZ2V0KGlkZWFsVGFyZ2V0KTtcbiAgICAgICAgaWYgKHRhcmdldCAhPT0gaWRlYWxUYXJnZXQpIGFtcGxpdHVkZSA9IHRhcmdldCAtIGZyb207XG4gICAgICAgIHZhciBwcm9jZXNzID0gc3luYy51cGRhdGUoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgZnJhbWVEZWx0YSA9IF9hLmRlbHRhO1xuICAgICAgICAgICAgZWxhcHNlZCArPSBmcmFtZURlbHRhO1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gLWFtcGxpdHVkZSAqIE1hdGguZXhwKC1lbGFwc2VkIC8gdGltZUNvbnN0YW50KTtcbiAgICAgICAgICAgIHZhciBpc01vdmluZyA9IGRlbHRhID4gcmVzdERlbHRhIHx8IGRlbHRhIDwgLXJlc3REZWx0YTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gaXNNb3ZpbmcgPyB0YXJnZXQgKyBkZWx0YSA6IHRhcmdldDtcbiAgICAgICAgICAgIHVwZGF0ZShjdXJyZW50KTtcbiAgICAgICAgICAgIGlmICghaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxTeW5jLnVwZGF0ZShwcm9jZXNzKTtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FuY2VsU3luYy51cGRhdGUocHJvY2Vzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG59O1xudmFyIHZlY3RvckRlY2F5ID0gLyojX19QVVJFX18qL2NyZWF0ZVZlY3RvckFjdGlvbihkZWNheSwge1xuICAgIGZyb206IG51bWJlci50ZXN0LFxuICAgIG1vZGlmeVRhcmdldDogZnVuY3Rpb24gKGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nO1xuICAgIH0sXG4gICAgdmVsb2NpdHk6IG51bWJlci50ZXN0XG59KTtcblxudmFyIHNwcmluZyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHByb3BzID0ge307XG4gICAgfVxuICAgIHJldHVybiBhY3Rpb24oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB1cGRhdGUgPSBfYS51cGRhdGUsXG4gICAgICAgICAgICBjb21wbGV0ZSA9IF9hLmNvbXBsZXRlO1xuICAgICAgICB2YXIgX2IgPSBwcm9wcy52ZWxvY2l0eSxcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gX2IgPT09IHZvaWQgMCA/IDAuMCA6IF9iO1xuICAgICAgICB2YXIgX2MgPSBwcm9wcy5mcm9tLFxuICAgICAgICAgICAgZnJvbSA9IF9jID09PSB2b2lkIDAgPyAwLjAgOiBfYyxcbiAgICAgICAgICAgIF9kID0gcHJvcHMudG8sXG4gICAgICAgICAgICB0byA9IF9kID09PSB2b2lkIDAgPyAwLjAgOiBfZCxcbiAgICAgICAgICAgIF9lID0gcHJvcHMuc3RpZmZuZXNzLFxuICAgICAgICAgICAgc3RpZmZuZXNzID0gX2UgPT09IHZvaWQgMCA/IDEwMCA6IF9lLFxuICAgICAgICAgICAgX2YgPSBwcm9wcy5kYW1waW5nLFxuICAgICAgICAgICAgZGFtcGluZyA9IF9mID09PSB2b2lkIDAgPyAxMCA6IF9mLFxuICAgICAgICAgICAgX2cgPSBwcm9wcy5tYXNzLFxuICAgICAgICAgICAgbWFzcyA9IF9nID09PSB2b2lkIDAgPyAxLjAgOiBfZyxcbiAgICAgICAgICAgIF9oID0gcHJvcHMucmVzdFNwZWVkLFxuICAgICAgICAgICAgcmVzdFNwZWVkID0gX2ggPT09IHZvaWQgMCA/IDAuMDEgOiBfaCxcbiAgICAgICAgICAgIF9qID0gcHJvcHMucmVzdERlbHRhLFxuICAgICAgICAgICAgcmVzdERlbHRhID0gX2ogPT09IHZvaWQgMCA/IDAuMDEgOiBfajtcbiAgICAgICAgdmFyIGluaXRpYWxWZWxvY2l0eSA9IHZlbG9jaXR5ID8gLSh2ZWxvY2l0eSAvIDEwMDApIDogMC4wO1xuICAgICAgICB2YXIgdCA9IDA7XG4gICAgICAgIHZhciBkZWx0YSA9IHRvIC0gZnJvbTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gZnJvbTtcbiAgICAgICAgdmFyIHByZXZQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB2YXIgcHJvY2VzcyA9IHN5bmMudXBkYXRlKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIHRpbWVEZWx0YSA9IF9hLmRlbHRhO1xuICAgICAgICAgICAgdCArPSB0aW1lRGVsdGE7XG4gICAgICAgICAgICB2YXIgZGFtcGluZ1JhdGlvID0gZGFtcGluZyAvICgyICogTWF0aC5zcXJ0KHN0aWZmbmVzcyAqIG1hc3MpKTtcbiAgICAgICAgICAgIHZhciBhbmd1bGFyRnJlcSA9IE1hdGguc3FydChzdGlmZm5lc3MgLyBtYXNzKSAvIDEwMDA7XG4gICAgICAgICAgICBwcmV2UG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgICAgIGlmIChkYW1waW5nUmF0aW8gPCAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVudmVsb3BlID0gTWF0aC5leHAoLWRhbXBpbmdSYXRpbyAqIGFuZ3VsYXJGcmVxICogdCk7XG4gICAgICAgICAgICAgICAgdmFyIGV4cG9EZWNheSA9IGFuZ3VsYXJGcmVxICogTWF0aC5zcXJ0KDEuMCAtIGRhbXBpbmdSYXRpbyAqIGRhbXBpbmdSYXRpbyk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0byAtIGVudmVsb3BlICogKChpbml0aWFsVmVsb2NpdHkgKyBkYW1waW5nUmF0aW8gKiBhbmd1bGFyRnJlcSAqIGRlbHRhKSAvIGV4cG9EZWNheSAqIE1hdGguc2luKGV4cG9EZWNheSAqIHQpICsgZGVsdGEgKiBNYXRoLmNvcyhleHBvRGVjYXkgKiB0KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBlbnZlbG9wZSA9IE1hdGguZXhwKC1hbmd1bGFyRnJlcSAqIHQpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdG8gLSBlbnZlbG9wZSAqIChkZWx0YSArIChpbml0aWFsVmVsb2NpdHkgKyBhbmd1bGFyRnJlcSAqIGRlbHRhKSAqIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmVsb2NpdHkgPSB2ZWxvY2l0eVBlclNlY29uZChwb3NpdGlvbiAtIHByZXZQb3NpdGlvbiwgdGltZURlbHRhKTtcbiAgICAgICAgICAgIHZhciBpc0JlbG93VmVsb2NpdHlUaHJlc2hvbGQgPSBNYXRoLmFicyh2ZWxvY2l0eSkgPD0gcmVzdFNwZWVkO1xuICAgICAgICAgICAgdmFyIGlzQmVsb3dEaXNwbGFjZW1lbnRUaHJlc2hvbGQgPSBNYXRoLmFicyh0byAtIHBvc2l0aW9uKSA8PSByZXN0RGVsdGE7XG4gICAgICAgICAgICBpZiAoaXNCZWxvd1ZlbG9jaXR5VGhyZXNob2xkICYmIGlzQmVsb3dEaXNwbGFjZW1lbnRUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRvO1xuICAgICAgICAgICAgICAgIHVwZGF0ZShwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgY2FuY2VsU3luYy51cGRhdGUocHJvY2Vzcyk7XG4gICAgICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbmNlbFN5bmMudXBkYXRlKHByb2Nlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xufTtcbnZhciB2ZWN0b3JTcHJpbmcgPSAvKiNfX1BVUkVfXyovY3JlYXRlVmVjdG9yQWN0aW9uKHNwcmluZywge1xuICAgIGZyb206IG51bWJlci50ZXN0LFxuICAgIHRvOiBudW1iZXIudGVzdCxcbiAgICBzdGlmZm5lc3M6IG51bWJlci50ZXN0LFxuICAgIGRhbXBpbmc6IG51bWJlci50ZXN0LFxuICAgIG1hc3M6IG51bWJlci50ZXN0LFxuICAgIHZlbG9jaXR5OiBudW1iZXIudGVzdFxufSk7XG5cbnZhciBpbmVydGlhID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIF9iID0gX2EuZnJvbSxcbiAgICAgICAgZnJvbSA9IF9iID09PSB2b2lkIDAgPyAwIDogX2IsXG4gICAgICAgIF9jID0gX2EudmVsb2NpdHksXG4gICAgICAgIHZlbG9jaXR5ID0gX2MgPT09IHZvaWQgMCA/IDAgOiBfYyxcbiAgICAgICAgbWluID0gX2EubWluLFxuICAgICAgICBtYXggPSBfYS5tYXgsXG4gICAgICAgIF9kID0gX2EucG93ZXIsXG4gICAgICAgIHBvd2VyID0gX2QgPT09IHZvaWQgMCA/IDAuOCA6IF9kLFxuICAgICAgICBfZSA9IF9hLnRpbWVDb25zdGFudCxcbiAgICAgICAgdGltZUNvbnN0YW50ID0gX2UgPT09IHZvaWQgMCA/IDcwMCA6IF9lLFxuICAgICAgICBfZiA9IF9hLmJvdW5jZVN0aWZmbmVzcyxcbiAgICAgICAgYm91bmNlU3RpZmZuZXNzID0gX2YgPT09IHZvaWQgMCA/IDUwMCA6IF9mLFxuICAgICAgICBfZyA9IF9hLmJvdW5jZURhbXBpbmcsXG4gICAgICAgIGJvdW5jZURhbXBpbmcgPSBfZyA9PT0gdm9pZCAwID8gMTAgOiBfZyxcbiAgICAgICAgX2ggPSBfYS5yZXN0RGVsdGEsXG4gICAgICAgIHJlc3REZWx0YSA9IF9oID09PSB2b2lkIDAgPyAxIDogX2gsXG4gICAgICAgIG1vZGlmeVRhcmdldCA9IF9hLm1vZGlmeVRhcmdldDtcbiAgICByZXR1cm4gYWN0aW9uKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgdXBkYXRlID0gX2EudXBkYXRlLFxuICAgICAgICAgICAgY29tcGxldGUgPSBfYS5jb21wbGV0ZTtcbiAgICAgICAgdmFyIHByZXYgPSBmcm9tO1xuICAgICAgICB2YXIgY3VycmVudCA9IGZyb207XG4gICAgICAgIHZhciBhY3RpdmVBbmltYXRpb247XG4gICAgICAgIHZhciBpc091dE9mQm91bmRzID0gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHJldHVybiBtaW4gIT09IHVuZGVmaW5lZCAmJiB2IDwgbWluIHx8IG1heCAhPT0gdW5kZWZpbmVkICYmIHYgPiBtYXg7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBib3VuZGFyeU5lYXJlc3QgPSBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKG1pbiAtIHYpIDwgTWF0aC5hYnMobWF4IC0gdikgPyBtaW4gOiBtYXg7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzdGFydEFuaW1hdGlvbiA9IGZ1bmN0aW9uIChhbmltYXRpb24sIG5leHQpIHtcbiAgICAgICAgICAgIGFjdGl2ZUFuaW1hdGlvbiAmJiBhY3RpdmVBbmltYXRpb24uc3RvcCgpO1xuICAgICAgICAgICAgYWN0aXZlQW5pbWF0aW9uID0gYW5pbWF0aW9uLnN0YXJ0KHtcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHVwZGF0ZSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzdGFydFNwcmluZyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgc3RhcnRBbmltYXRpb24oc3ByaW5nKF9fYXNzaWduKF9fYXNzaWduKHt9LCBwcm9wcyksIHsgc3RpZmZuZXNzOiBib3VuY2VTdGlmZm5lc3MsIGRhbXBpbmc6IGJvdW5jZURhbXBpbmcsIHJlc3REZWx0YTogcmVzdERlbHRhIH0pKSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChpc091dE9mQm91bmRzKGZyb20pKSB7XG4gICAgICAgICAgICBzdGFydFNwcmluZyh7IGZyb206IGZyb20sIHZlbG9jaXR5OiB2ZWxvY2l0eSwgdG86IGJvdW5kYXJ5TmVhcmVzdChmcm9tKSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0byA9IHBvd2VyICogdmVsb2NpdHkgKyBmcm9tO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2RpZnlUYXJnZXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdG8gPSBtb2RpZnlUYXJnZXQodG8pO1xuICAgICAgICAgICAgICAgIG1vZGlmeVRhcmdldCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eSA9ICh0byAtIGZyb20pIC8gcG93ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gZGVjYXkoe1xuICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgdmVsb2NpdHk6IHZlbG9jaXR5LFxuICAgICAgICAgICAgICAgIHRpbWVDb25zdGFudDogdGltZUNvbnN0YW50LFxuICAgICAgICAgICAgICAgIHBvd2VyOiBwb3dlcixcbiAgICAgICAgICAgICAgICByZXN0RGVsdGE6IHJlc3REZWx0YSxcbiAgICAgICAgICAgICAgICBtb2RpZnlUYXJnZXQ6IG1vZGlmeVRhcmdldFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbmV4dCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChpc091dE9mQm91bmRzKHRvKSkge1xuICAgICAgICAgICAgICAgIHZhciBib3VuZGFyeV8xID0gYm91bmRhcnlOZWFyZXN0KHRvKTtcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGluZ18xID0gYm91bmRhcnlfMSA9PSBtaW4gPyAtMSA6IDE7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uID0gYW5pbWF0aW9uLndoaWxlKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXYgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eSA9IHZlbG9jaXR5UGVyU2Vjb25kKHYgLSBwcmV2LCBnZXRGcmFtZURhdGEoKS5kZWx0YSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRhcnlfMSAtIHYgKiBoZWFkaW5nXzEgPiAwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGFydFNwcmluZyh7IGZyb206IGN1cnJlbnQsIHRvOiBib3VuZGFyeV8xLCB2ZWxvY2l0eTogdmVsb2NpdHkgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXJ0QW5pbWF0aW9uKGFuaW1hdGlvbiwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlQW5pbWF0aW9uICYmIGFjdGl2ZUFuaW1hdGlvbi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG59O1xudmFyIGluZGV4ID0gLyojX19QVVJFX18qL2NyZWF0ZVZlY3RvckFjdGlvbihpbmVydGlhLCB7XG4gICAgZnJvbTogbnVtYmVyLnRlc3QsXG4gICAgdmVsb2NpdHk6IG51bWJlci50ZXN0LFxuICAgIG1pbjogbnVtYmVyLnRlc3QsXG4gICAgbWF4OiBudW1iZXIudGVzdCxcbiAgICBkYW1waW5nOiBudW1iZXIudGVzdCxcbiAgICBzdGlmZm5lc3M6IG51bWJlci50ZXN0LFxuICAgIG1vZGlmeVRhcmdldDogZnVuY3Rpb24gKGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nO1xuICAgIH1cbn0pO1xuXG52YXIgZnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFjdGlvbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHVwZGF0ZSA9IF9hLnVwZGF0ZTtcbiAgICAgICAgdmFyIGluaXRpYWxUaW1lID0gMDtcbiAgICAgICAgdmFyIHByb2Nlc3MgPSBzeW5jLnVwZGF0ZShmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciB0aW1lc3RhbXAgPSBfYS50aW1lc3RhbXA7XG4gICAgICAgICAgICBpZiAoIWluaXRpYWxUaW1lKSBpbml0aWFsVGltZSA9IHRpbWVzdGFtcDtcbiAgICAgICAgICAgIHVwZGF0ZSh0aW1lc3RhbXAgLSBpbml0aWFsVGltZSk7XG4gICAgICAgIH0sIHRydWUsIHRydWUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYW5jZWxTeW5jLnVwZGF0ZShwcm9jZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbn07XG5cbnZhciBzY3J1YmJlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBfYiA9IF9hLmZyb20sXG4gICAgICAgIGZyb20gPSBfYiA9PT0gdm9pZCAwID8gMCA6IF9iLFxuICAgICAgICBfYyA9IF9hLnRvLFxuICAgICAgICB0byA9IF9jID09PSB2b2lkIDAgPyAxIDogX2MsXG4gICAgICAgIF9kID0gX2EuZWFzZSxcbiAgICAgICAgZWFzZSA9IF9kID09PSB2b2lkIDAgPyBsaW5lYXIgOiBfZCxcbiAgICAgICAgX2UgPSBfYS5yZXZlcnNlRWFzZSxcbiAgICAgICAgcmV2ZXJzZUVhc2UgPSBfZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfZTtcbiAgICBpZiAocmV2ZXJzZUVhc2UpIHtcbiAgICAgICAgZWFzZSA9IGNyZWF0ZVJldmVyc2VkRWFzaW5nKGVhc2UpO1xuICAgIH1cbiAgICByZXR1cm4gYWN0aW9uKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgdXBkYXRlID0gX2EudXBkYXRlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2VlazogZnVuY3Rpb24gKHByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZShwcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSkucGlwZShlYXNlLCBmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gbWl4KGZyb20sIHRvLCB2KTtcbiAgICB9KTtcbn07XG52YXIgdmVjdG9yU2NydWJiZXIgPSAvKiNfX1BVUkVfXyovY3JlYXRlVmVjdG9yQWN0aW9uKHNjcnViYmVyLCB7XG4gICAgZWFzZTogZnVuY3Rpb24gKGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nO1xuICAgIH0sXG4gICAgZnJvbTogbnVtYmVyLnRlc3QsXG4gICAgdG86IG51bWJlci50ZXN0XG59KTtcblxudmFyIGNsYW1wUHJvZ3Jlc3MgPSAvKiNfX1BVUkVfXyovY2xhbXAoMCwgMSk7XG52YXIgdHdlZW4gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgICBwcm9wcyA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gYWN0aW9uKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgdXBkYXRlID0gX2EudXBkYXRlLFxuICAgICAgICAgICAgY29tcGxldGUgPSBfYS5jb21wbGV0ZTtcbiAgICAgICAgdmFyIF9iID0gcHJvcHMuZHVyYXRpb24sXG4gICAgICAgICAgICBkdXJhdGlvbiA9IF9iID09PSB2b2lkIDAgPyAzMDAgOiBfYixcbiAgICAgICAgICAgIF9jID0gcHJvcHMuZWFzZSxcbiAgICAgICAgICAgIGVhc2UgPSBfYyA9PT0gdm9pZCAwID8gZWFzZU91dCA6IF9jLFxuICAgICAgICAgICAgX2QgPSBwcm9wcy5mbGlwLFxuICAgICAgICAgICAgZmxpcCA9IF9kID09PSB2b2lkIDAgPyAwIDogX2QsXG4gICAgICAgICAgICBfZSA9IHByb3BzLmxvb3AsXG4gICAgICAgICAgICBsb29wID0gX2UgPT09IHZvaWQgMCA/IDAgOiBfZSxcbiAgICAgICAgICAgIF9mID0gcHJvcHMueW95byxcbiAgICAgICAgICAgIHlveW8gPSBfZiA9PT0gdm9pZCAwID8gMCA6IF9mLFxuICAgICAgICAgICAgX2cgPSBwcm9wcy5yZXBlYXREZWxheSxcbiAgICAgICAgICAgIHJlcGVhdERlbGF5ID0gX2cgPT09IHZvaWQgMCA/IDAgOiBfZztcbiAgICAgICAgdmFyIF9oID0gcHJvcHMuZnJvbSxcbiAgICAgICAgICAgIGZyb20gPSBfaCA9PT0gdm9pZCAwID8gMCA6IF9oLFxuICAgICAgICAgICAgX2ogPSBwcm9wcy50byxcbiAgICAgICAgICAgIHRvID0gX2ogPT09IHZvaWQgMCA/IDEgOiBfaixcbiAgICAgICAgICAgIF9rID0gcHJvcHMuZWxhcHNlZCxcbiAgICAgICAgICAgIGVsYXBzZWQgPSBfayA9PT0gdm9pZCAwID8gMCA6IF9rLFxuICAgICAgICAgICAgX2wgPSBwcm9wcy5mbGlwQ291bnQsXG4gICAgICAgICAgICBmbGlwQ291bnQgPSBfbCA9PT0gdm9pZCAwID8gMCA6IF9sLFxuICAgICAgICAgICAgX20gPSBwcm9wcy55b3lvQ291bnQsXG4gICAgICAgICAgICB5b3lvQ291bnQgPSBfbSA9PT0gdm9pZCAwID8gMCA6IF9tLFxuICAgICAgICAgICAgX28gPSBwcm9wcy5sb29wQ291bnQsXG4gICAgICAgICAgICBsb29wQ291bnQgPSBfbyA9PT0gdm9pZCAwID8gMCA6IF9vO1xuICAgICAgICB2YXIgcGxheWhlYWQgPSB2ZWN0b3JTY3J1YmJlcih7IGZyb206IGZyb20sIHRvOiB0bywgZWFzZTogZWFzZSB9KS5zdGFydCh1cGRhdGUpO1xuICAgICAgICB2YXIgY3VycmVudFByb2dyZXNzID0gMDtcbiAgICAgICAgdmFyIHByb2Nlc3M7XG4gICAgICAgIHZhciBpc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgcmV2ZXJzZUFuaW1hdGlvbiA9IGZ1bmN0aW9uIChyZXZlcnNlRWFzZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKHJldmVyc2VFYXNlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXZlcnNlRWFzZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2EgPSBbdG8sIGZyb21dLCBmcm9tID0gX2FbMF0sIHRvID0gX2FbMV07XG4gICAgICAgICAgICBwbGF5aGVhZCA9IHZlY3RvclNjcnViYmVyKHsgZnJvbTogZnJvbSwgdG86IHRvLCBlYXNlOiBlYXNlLCByZXZlcnNlRWFzZTogcmV2ZXJzZUVhc2UgfSkuc3RhcnQodXBkYXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGlzVHdlZW5Db21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpc0NvbXBsZXRlID0gaXNBY3RpdmUgJiYgZWxhcHNlZCA+IGR1cmF0aW9uICsgcmVwZWF0RGVsYXk7XG4gICAgICAgICAgICBpZiAoIWlzQ29tcGxldGUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpc0NvbXBsZXRlICYmICFsb29wICYmICFmbGlwICYmICF5b3lvKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGVsYXBzZWQgPSBkdXJhdGlvbiAtIChlbGFwc2VkIC0gcmVwZWF0RGVsYXkpO1xuICAgICAgICAgICAgaWYgKGxvb3AgJiYgbG9vcENvdW50IDwgbG9vcCkge1xuICAgICAgICAgICAgICAgIGxvb3BDb3VudCsrO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxpcCAmJiBmbGlwQ291bnQgPCBmbGlwKSB7XG4gICAgICAgICAgICAgICAgZmxpcENvdW50Kys7XG4gICAgICAgICAgICAgICAgcmV2ZXJzZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeW95byAmJiB5b3lvQ291bnQgPCB5b3lvKSB7XG4gICAgICAgICAgICAgICAgeW95b0NvdW50Kys7XG4gICAgICAgICAgICAgICAgcmV2ZXJzZUFuaW1hdGlvbih5b3lvQ291bnQgJSAyICE9PSAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHVwZGF0ZVR3ZWVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3VycmVudFByb2dyZXNzID0gY2xhbXBQcm9ncmVzcyhwcm9ncmVzcygwLCBkdXJhdGlvbiwgZWxhcHNlZCkpO1xuICAgICAgICAgICAgcGxheWhlYWQuc2VlayhjdXJyZW50UHJvZ3Jlc3MpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc3RhcnRUaW1lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHByb2Nlc3MgPSBzeW5jLnVwZGF0ZShmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBfYS5kZWx0YTtcbiAgICAgICAgICAgICAgICBlbGFwc2VkICs9IGRlbHRhO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVR3ZWVuKCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVHdlZW5Db21wbGV0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbFN5bmMudXBkYXRlKHByb2Nlc3MpO1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSAmJiBzeW5jLnVwZGF0ZShjb21wbGV0ZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc3RvcFRpbWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzKSBjYW5jZWxTeW5jLnVwZGF0ZShwcm9jZXNzKTtcbiAgICAgICAgfTtcbiAgICAgICAgc3RhcnRUaW1lcigpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNBY3RpdmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNBY3RpdmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0RWxhcHNlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjbGFtcCgwLCBkdXJhdGlvbiwgZWxhcHNlZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0UHJvZ3Jlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFByb2dyZXNzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzdG9wVGltZXIoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXVzZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHN0b3BUaW1lcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc3VtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghaXNBY3RpdmUpIHN0YXJ0VGltZXIoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWVrOiBmdW5jdGlvbiAobmV3UHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBlbGFwc2VkID0gbWl4KDAsIGR1cmF0aW9uLCBuZXdQcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgc3luYy51cGRhdGUodXBkYXRlVHdlZW4sIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXZlcnNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV2ZXJzZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xufTtcblxudmFyIGNsYW1wUHJvZ3Jlc3MkMSA9IC8qI19fUFVSRV9fKi9jbGFtcCgwLCAxKTtcbnZhciBkZWZhdWx0RWFzaW5ncyA9IGZ1bmN0aW9uICh2YWx1ZXMsIGVhc2luZykge1xuICAgIHJldHVybiB2YWx1ZXMubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGVhc2luZyB8fCBlYXNlT3V0O1xuICAgIH0pLnNwbGljZSgwLCB2YWx1ZXMubGVuZ3RoIC0gMSk7XG59O1xudmFyIGRlZmF1bHRUaW1pbmdzID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgIHZhciBudW1WYWx1ZXMgPSB2YWx1ZXMubGVuZ3RoO1xuICAgIHJldHVybiB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuICAgICAgICByZXR1cm4gaSAhPT0gMCA/IGkgLyAobnVtVmFsdWVzIC0gMSkgOiAwO1xuICAgIH0pO1xufTtcbnZhciBpbnRlcnBvbGF0ZVNjcnViYmVycyA9IGZ1bmN0aW9uIChpbnB1dCwgc2NydWJiZXJzLCB1cGRhdGUpIHtcbiAgICB2YXIgcmFuZ2VMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgdmFyIGZpbmFsSW5wdXRJbmRleCA9IHJhbmdlTGVuZ3RoIC0gMTtcbiAgICB2YXIgZmluYWxTY3J1YmJlckluZGV4ID0gZmluYWxJbnB1dEluZGV4IC0gMTtcbiAgICB2YXIgc3VicyA9IHNjcnViYmVycy5tYXAoZnVuY3Rpb24gKHNjcnViKSB7XG4gICAgICAgIHJldHVybiBzY3J1Yi5zdGFydCh1cGRhdGUpO1xuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAodikge1xuICAgICAgICBpZiAodiA8PSBpbnB1dFswXSkge1xuICAgICAgICAgICAgc3Vic1swXS5zZWVrKDApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2ID49IGlucHV0W2ZpbmFsSW5wdXRJbmRleF0pIHtcbiAgICAgICAgICAgIHN1YnNbZmluYWxTY3J1YmJlckluZGV4XS5zZWVrKDEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpID0gMTtcbiAgICAgICAgZm9yICg7IGkgPCByYW5nZUxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXRbaV0gPiB2IHx8IGkgPT09IGZpbmFsSW5wdXRJbmRleCkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb2dyZXNzSW5SYW5nZSA9IHByb2dyZXNzKGlucHV0W2kgLSAxXSwgaW5wdXRbaV0sIHYpO1xuICAgICAgICBzdWJzW2kgLSAxXS5zZWVrKGNsYW1wUHJvZ3Jlc3MkMShwcm9ncmVzc0luUmFuZ2UpKTtcbiAgICB9O1xufTtcbnZhciBrZXlmcmFtZXMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgZWFzaW5ncyA9IF9hLmVhc2luZ3MsXG4gICAgICAgIF9iID0gX2EuZWFzZSxcbiAgICAgICAgZWFzZSA9IF9iID09PSB2b2lkIDAgPyBsaW5lYXIgOiBfYixcbiAgICAgICAgdGltZXMgPSBfYS50aW1lcyxcbiAgICAgICAgdmFsdWVzID0gX2EudmFsdWVzLFxuICAgICAgICB0d2VlblByb3BzID0gX19yZXN0KF9hLCBbXCJlYXNpbmdzXCIsIFwiZWFzZVwiLCBcInRpbWVzXCIsIFwidmFsdWVzXCJdKTtcbiAgICBlYXNpbmdzID0gQXJyYXkuaXNBcnJheShlYXNpbmdzKSA/IGVhc2luZ3MgOiBkZWZhdWx0RWFzaW5ncyh2YWx1ZXMsIGVhc2luZ3MpO1xuICAgIHRpbWVzID0gdGltZXMgfHwgZGVmYXVsdFRpbWluZ3ModmFsdWVzKTtcbiAgICB2YXIgc2NydWJiZXJzID0gZWFzaW5ncy5tYXAoZnVuY3Rpb24gKGVhc2luZywgaSkge1xuICAgICAgICByZXR1cm4gdmVjdG9yU2NydWJiZXIoe1xuICAgICAgICAgICAgZnJvbTogdmFsdWVzW2ldLFxuICAgICAgICAgICAgdG86IHZhbHVlc1tpICsgMV0sXG4gICAgICAgICAgICBlYXNlOiBlYXNpbmdcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHR3ZWVuKF9fYXNzaWduKF9fYXNzaWduKHt9LCB0d2VlblByb3BzKSwgeyBlYXNlOiBlYXNlIH0pKS5hcHBseU1pZGRsZXdhcmUoZnVuY3Rpb24gKHVwZGF0ZSkge1xuICAgICAgICByZXR1cm4gaW50ZXJwb2xhdGVTY3J1YmJlcnModGltZXMsIHNjcnViYmVycywgdXBkYXRlKTtcbiAgICB9KTtcbn07XG5cbnZhciBwaHlzaWNzID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGFjdGlvbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGNvbXBsZXRlID0gX2EuY29tcGxldGUsXG4gICAgICAgICAgICB1cGRhdGUgPSBfYS51cGRhdGU7XG4gICAgICAgIHZhciBfYiA9IHByb3BzLmFjY2VsZXJhdGlvbixcbiAgICAgICAgICAgIGFjY2VsZXJhdGlvbiA9IF9iID09PSB2b2lkIDAgPyAwIDogX2IsXG4gICAgICAgICAgICBfYyA9IHByb3BzLmZyaWN0aW9uLFxuICAgICAgICAgICAgZnJpY3Rpb24gPSBfYyA9PT0gdm9pZCAwID8gMCA6IF9jLFxuICAgICAgICAgICAgX2QgPSBwcm9wcy52ZWxvY2l0eSxcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gX2QgPT09IHZvaWQgMCA/IDAgOiBfZCxcbiAgICAgICAgICAgIHNwcmluZ1N0cmVuZ3RoID0gcHJvcHMuc3ByaW5nU3RyZW5ndGgsXG4gICAgICAgICAgICB0byA9IHByb3BzLnRvO1xuICAgICAgICB2YXIgX2UgPSBwcm9wcy5yZXN0U3BlZWQsXG4gICAgICAgICAgICByZXN0U3BlZWQgPSBfZSA9PT0gdm9pZCAwID8gMC4wMDEgOiBfZSxcbiAgICAgICAgICAgIF9mID0gcHJvcHMuZnJvbSxcbiAgICAgICAgICAgIGZyb20gPSBfZiA9PT0gdm9pZCAwID8gMCA6IF9mO1xuICAgICAgICB2YXIgY3VycmVudCA9IGZyb207XG4gICAgICAgIHZhciBwcm9jZXNzID0gc3luYy51cGRhdGUoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBfYS5kZWx0YTtcbiAgICAgICAgICAgIHZhciBlbGFwc2VkID0gTWF0aC5tYXgoZGVsdGEsIDE2KTtcbiAgICAgICAgICAgIGlmIChhY2NlbGVyYXRpb24pIHZlbG9jaXR5ICs9IHZlbG9jaXR5UGVyRnJhbWUoYWNjZWxlcmF0aW9uLCBlbGFwc2VkKTtcbiAgICAgICAgICAgIGlmIChmcmljdGlvbikgdmVsb2NpdHkgKj0gTWF0aC5wb3coMSAtIGZyaWN0aW9uLCBlbGFwc2VkIC8gMTAwKTtcbiAgICAgICAgICAgIGlmIChzcHJpbmdTdHJlbmd0aCAhPT0gdW5kZWZpbmVkICYmIHRvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2VUb1RhcmdldCA9IHRvIC0gY3VycmVudDtcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eSArPSBkaXN0YW5jZVRvVGFyZ2V0ICogdmVsb2NpdHlQZXJGcmFtZShzcHJpbmdTdHJlbmd0aCwgZWxhcHNlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ICs9IHZlbG9jaXR5UGVyRnJhbWUodmVsb2NpdHksIGVsYXBzZWQpO1xuICAgICAgICAgICAgdXBkYXRlKGN1cnJlbnQpO1xuICAgICAgICAgICAgdmFyIGlzQ29tcGxldGUgPSByZXN0U3BlZWQgIT09IGZhbHNlICYmICghdmVsb2NpdHkgfHwgTWF0aC5hYnModmVsb2NpdHkpIDw9IHJlc3RTcGVlZCk7XG4gICAgICAgICAgICBpZiAoaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIGNhbmNlbFN5bmMudXBkYXRlKHByb2Nlc3MpO1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldEFjY2VsZXJhdGlvbjogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICBhY2NlbGVyYXRpb24gPSB2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldEZyaWN0aW9uOiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIGZyaWN0aW9uID0gdjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRTcHJpbmdTdHJlbmd0aDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICBzcHJpbmdTdHJlbmd0aCA9IHY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0U3ByaW5nVGFyZ2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHRvID0gdjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRWZWxvY2l0eTogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eSA9IHY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYW5jZWxTeW5jLnVwZGF0ZShwcm9jZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbn07XG52YXIgdmVjdG9yUGh5c2ljcyA9IC8qI19fUFVSRV9fKi9jcmVhdGVWZWN0b3JBY3Rpb24ocGh5c2ljcywge1xuICAgIGFjY2VsZXJhdGlvbjogbnVtYmVyLnRlc3QsXG4gICAgZnJpY3Rpb246IG51bWJlci50ZXN0LFxuICAgIHZlbG9jaXR5OiBudW1iZXIudGVzdCxcbiAgICBmcm9tOiBudW1iZXIudGVzdCxcbiAgICB0bzogbnVtYmVyLnRlc3QsXG4gICAgc3ByaW5nU3RyZW5ndGg6IG51bWJlci50ZXN0XG59KTtcblxudmFyIERFRkFVTFRfRFVSQVRJT04gPSAzMDA7XG52YXIgZmxhdHRlblRpbWluZ3MgPSBmdW5jdGlvbiAoaW5zdHJ1Y3Rpb25zKSB7XG4gICAgdmFyIGZsYXRJbnN0cnVjdGlvbnMgPSBbXTtcbiAgICB2YXIgbGFzdEFyZyA9IGluc3RydWN0aW9uc1tpbnN0cnVjdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgdmFyIGlzU3RhZ2dlcmVkID0gdHlwZW9mIGxhc3RBcmcgPT09ICdudW1iZXInO1xuICAgIHZhciBzdGFnZ2VyRGVsYXkgPSBpc1N0YWdnZXJlZCA/IGxhc3RBcmcgOiAwO1xuICAgIHZhciBzZWdtZW50cyA9IGlzU3RhZ2dlcmVkID8gaW5zdHJ1Y3Rpb25zLnNsaWNlKDAsIC0xKSA6IGluc3RydWN0aW9ucztcbiAgICB2YXIgbnVtU2VnbWVudHMgPSBzZWdtZW50cy5sZW5ndGg7XG4gICAgdmFyIG9mZnNldCA9IDA7XG4gICAgc2VnbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICBmbGF0SW5zdHJ1Y3Rpb25zLnB1c2goaXRlbSk7XG4gICAgICAgIGlmIChpICE9PSBudW1TZWdtZW50cyAtIDEpIHtcbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IGl0ZW0uZHVyYXRpb24gfHwgREVGQVVMVF9EVVJBVElPTjtcbiAgICAgICAgICAgIG9mZnNldCA9IHN0YWdnZXJEZWxheTtcbiAgICAgICAgICAgIGZsYXRJbnN0cnVjdGlvbnMucHVzaChcIlwiICsgKG9mZnNldCAtIGR1cmF0aW9uKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZmxhdEluc3RydWN0aW9ucztcbn07XG52YXIgZmxhdHRlbkFycmF5SW5zdHJ1Y3Rpb25zID0gZnVuY3Rpb24gKGluc3RydWN0aW9ucywgaW5zdHJ1Y3Rpb24pIHtcbiAgICBBcnJheS5pc0FycmF5KGluc3RydWN0aW9uKSA/IGluc3RydWN0aW9ucy5wdXNoLmFwcGx5KGluc3RydWN0aW9ucywgZmxhdHRlblRpbWluZ3MoaW5zdHJ1Y3Rpb24pKSA6IGluc3RydWN0aW9ucy5wdXNoKGluc3RydWN0aW9uKTtcbiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25zO1xufTtcbnZhciBjb252ZXJ0RGVmVG9Qcm9wcyA9IGZ1bmN0aW9uIChwcm9wcywgZGVmLCBpKSB7XG4gICAgdmFyIGR1cmF0aW9uID0gcHJvcHMuZHVyYXRpb24sXG4gICAgICAgIGVhc2luZ3MgPSBwcm9wcy5lYXNpbmdzLFxuICAgICAgICB0aW1lcyA9IHByb3BzLnRpbWVzLFxuICAgICAgICB2YWx1ZXMgPSBwcm9wcy52YWx1ZXM7XG4gICAgdmFyIG51bVZhbHVlcyA9IHZhbHVlcy5sZW5ndGg7XG4gICAgdmFyIHByZXZUaW1lVG8gPSB0aW1lc1tudW1WYWx1ZXMgLSAxXTtcbiAgICB2YXIgdGltZUZyb20gPSBkZWYuYXQgPT09IDAgPyAwIDogZGVmLmF0IC8gZHVyYXRpb247XG4gICAgdmFyIHRpbWVUbyA9IChkZWYuYXQgKyBkZWYuZHVyYXRpb24pIC8gZHVyYXRpb247XG4gICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgdmFsdWVzLnB1c2goZGVmLmZyb20pO1xuICAgICAgICB0aW1lcy5wdXNoKHRpbWVGcm9tKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJldlRpbWVUbyAhPT0gdGltZUZyb20pIHtcbiAgICAgICAgICAgIGlmIChkZWYuZnJvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2godmFsdWVzW251bVZhbHVlcyAtIDFdKTtcbiAgICAgICAgICAgICAgICB0aW1lcy5wdXNoKHRpbWVGcm9tKTtcbiAgICAgICAgICAgICAgICBlYXNpbmdzLnB1c2gobGluZWFyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmcm9tID0gZGVmLmZyb20gIT09IHVuZGVmaW5lZCA/IGRlZi5mcm9tIDogdmFsdWVzW251bVZhbHVlcyAtIDFdO1xuICAgICAgICAgICAgdmFsdWVzLnB1c2goZnJvbSk7XG4gICAgICAgICAgICB0aW1lcy5wdXNoKHRpbWVGcm9tKTtcbiAgICAgICAgICAgIGVhc2luZ3MucHVzaChsaW5lYXIpO1xuICAgICAgICB9IGVsc2UgaWYgKGRlZi5mcm9tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKGRlZi5mcm9tKTtcbiAgICAgICAgICAgIHRpbWVzLnB1c2godGltZUZyb20pO1xuICAgICAgICAgICAgZWFzaW5ncy5wdXNoKGxpbmVhcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFsdWVzLnB1c2goZGVmLnRvKTtcbiAgICB0aW1lcy5wdXNoKHRpbWVUbyk7XG4gICAgZWFzaW5ncy5wdXNoKGRlZi5lYXNlIHx8IGVhc2VJbk91dCk7XG4gICAgcmV0dXJuIHByb3BzO1xufTtcbnZhciB0aW1lbGluZSA9IGZ1bmN0aW9uIChpbnN0cnVjdGlvbnMsIF9hKSB7XG4gICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsXG4gICAgICAgIGR1cmF0aW9uID0gX2IuZHVyYXRpb24sXG4gICAgICAgIGVsYXBzZWQgPSBfYi5lbGFwc2VkLFxuICAgICAgICBlYXNlID0gX2IuZWFzZSxcbiAgICAgICAgbG9vcCA9IF9iLmxvb3AsXG4gICAgICAgIGZsaXAgPSBfYi5mbGlwLFxuICAgICAgICB5b3lvID0gX2IueW95bztcbiAgICB2YXIgcGxheWhlYWQgPSAwO1xuICAgIHZhciBjYWxjdWxhdGVkRHVyYXRpb24gPSAwO1xuICAgIHZhciBmbGF0SW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zLnJlZHVjZShmbGF0dGVuQXJyYXlJbnN0cnVjdGlvbnMsIFtdKTtcbiAgICB2YXIgYW5pbWF0aW9uRGVmcyA9IFtdO1xuICAgIGZsYXRJbnN0cnVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoaW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0cnVjdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHBsYXloZWFkICs9IHBhcnNlRmxvYXQoaW5zdHJ1Y3Rpb24pO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnN0cnVjdGlvbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHBsYXloZWFkID0gaW5zdHJ1Y3Rpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGVmID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGluc3RydWN0aW9uKSwgeyBhdDogcGxheWhlYWQgfSk7XG4gICAgICAgICAgICBkZWYuZHVyYXRpb24gPSBkZWYuZHVyYXRpb24gPT09IHVuZGVmaW5lZCA/IERFRkFVTFRfRFVSQVRJT04gOiBkZWYuZHVyYXRpb247XG4gICAgICAgICAgICBhbmltYXRpb25EZWZzLnB1c2goZGVmKTtcbiAgICAgICAgICAgIHBsYXloZWFkICs9IGRlZi5kdXJhdGlvbjtcbiAgICAgICAgICAgIGNhbGN1bGF0ZWREdXJhdGlvbiA9IE1hdGgubWF4KGNhbGN1bGF0ZWREdXJhdGlvbiwgZGVmLmF0ICsgZGVmLmR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciB0cmFja3MgPSB7fTtcbiAgICB2YXIgbnVtRGVmcyA9IGFuaW1hdGlvbkRlZnMubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtRGVmczsgaSsrKSB7XG4gICAgICAgIHZhciBkZWYgPSBhbmltYXRpb25EZWZzW2ldO1xuICAgICAgICB2YXIgdHJhY2sgPSBkZWYudHJhY2s7XG4gICAgICAgIGlmICh0cmFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHRyYWNrIGRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRyYWNrcy5oYXNPd25Qcm9wZXJ0eSh0cmFjaykpIHRyYWNrc1t0cmFja10gPSBbXTtcbiAgICAgICAgdHJhY2tzW3RyYWNrXS5wdXNoKGRlZik7XG4gICAgfVxuICAgIHZhciB0cmFja0tleWZyYW1lcyA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiB0cmFja3MpIHtcbiAgICAgICAgaWYgKHRyYWNrcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICB2YXIga2V5ZnJhbWVQcm9wcyA9IHRyYWNrc1trZXldLnJlZHVjZShjb252ZXJ0RGVmVG9Qcm9wcywge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBjYWxjdWxhdGVkRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZWFzaW5nczogW10sXG4gICAgICAgICAgICAgICAgdGltZXM6IFtdLFxuICAgICAgICAgICAgICAgIHZhbHVlczogW11cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhY2tLZXlmcmFtZXNba2V5XSA9IGtleWZyYW1lcyhfX2Fzc2lnbihfX2Fzc2lnbih7fSwga2V5ZnJhbWVQcm9wcyksIHsgZHVyYXRpb246IGR1cmF0aW9uIHx8IGNhbGN1bGF0ZWREdXJhdGlvbiwgZWFzZTogZWFzZSxcbiAgICAgICAgICAgICAgICBlbGFwc2VkOiBlbGFwc2VkLFxuICAgICAgICAgICAgICAgIGxvb3A6IGxvb3AsXG4gICAgICAgICAgICAgICAgeW95bzogeW95byxcbiAgICAgICAgICAgICAgICBmbGlwOiBmbGlwIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29tcG9zaXRlKHRyYWNrS2V5ZnJhbWVzKTtcbn07XG5cbnZhciBsaXN0ZW4gPSBmdW5jdGlvbiAoZWxlbWVudCwgZXZlbnRzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGFjdGlvbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHVwZGF0ZSA9IF9hLnVwZGF0ZTtcbiAgICAgICAgdmFyIGV2ZW50TmFtZXMgPSBldmVudHMuc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdXBkYXRlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiBldmVudE5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudE5hbWVzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdXBkYXRlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbn07XG5cbnZhciBkZWZhdWx0UG9pbnRlclBvcyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjbGllbnRYOiAwLFxuICAgICAgICBjbGllbnRZOiAwLFxuICAgICAgICBwYWdlWDogMCxcbiAgICAgICAgcGFnZVk6IDAsXG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICB9O1xufTtcbnZhciBldmVudFRvUG9pbnQgPSBmdW5jdGlvbiAoZSwgcG9pbnQpIHtcbiAgICBpZiAocG9pbnQgPT09IHZvaWQgMCkge1xuICAgICAgICBwb2ludCA9IGRlZmF1bHRQb2ludGVyUG9zKCk7XG4gICAgfVxuICAgIHBvaW50LmNsaWVudFggPSBwb2ludC54ID0gZS5jbGllbnRYO1xuICAgIHBvaW50LmNsaWVudFkgPSBwb2ludC55ID0gZS5jbGllbnRZO1xuICAgIHBvaW50LnBhZ2VYID0gZS5wYWdlWDtcbiAgICBwb2ludC5wYWdlWSA9IGUucGFnZVk7XG4gICAgcmV0dXJuIHBvaW50O1xufTtcblxudmFyIHBvaW50cyA9IFsvKiNfX1BVUkVfXyovZGVmYXVsdFBvaW50ZXJQb3MoKV07XG52YXIgaXNUb3VjaERldmljZSA9IGZhbHNlO1xuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgdXBkYXRlUG9pbnRzTG9jYXRpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHRvdWNoZXMgPSBfYS50b3VjaGVzO1xuICAgICAgICBpc1RvdWNoRGV2aWNlID0gdHJ1ZTtcbiAgICAgICAgdmFyIG51bVRvdWNoZXMgPSB0b3VjaGVzLmxlbmd0aDtcbiAgICAgICAgcG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtVG91Y2hlczsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGhpc1RvdWNoID0gdG91Y2hlc1tpXTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKGV2ZW50VG9Qb2ludCh0aGlzVG91Y2gpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgbGlzdGVuKGRvY3VtZW50LCAndG91Y2hzdGFydCB0b3VjaG1vdmUnLCB7XG4gICAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICB9KS5zdGFydCh1cGRhdGVQb2ludHNMb2NhdGlvbik7XG59XG52YXIgbXVsdGl0b3VjaCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLFxuICAgICAgICBfYyA9IF9iLnByZXZlbnREZWZhdWx0LFxuICAgICAgICBwcmV2ZW50RGVmYXVsdCA9IF9jID09PSB2b2lkIDAgPyB0cnVlIDogX2MsXG4gICAgICAgIF9kID0gX2Iuc2NhbGUsXG4gICAgICAgIHNjYWxlID0gX2QgPT09IHZvaWQgMCA/IDEuMCA6IF9kLFxuICAgICAgICBfZSA9IF9iLnJvdGF0ZSxcbiAgICAgICAgcm90YXRlID0gX2UgPT09IHZvaWQgMCA/IDAuMCA6IF9lO1xuICAgIHJldHVybiBhY3Rpb24oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB1cGRhdGUgPSBfYS51cGRhdGU7XG4gICAgICAgIHZhciBvdXRwdXQgPSB7XG4gICAgICAgICAgICB0b3VjaGVzOiBwb2ludHMsXG4gICAgICAgICAgICBzY2FsZTogc2NhbGUsXG4gICAgICAgICAgICByb3RhdGU6IHJvdGF0ZVxuICAgICAgICB9O1xuICAgICAgICB2YXIgaW5pdGlhbERpc3RhbmNlID0gMC4wO1xuICAgICAgICB2YXIgaW5pdGlhbFJvdGF0aW9uID0gMC4wO1xuICAgICAgICB2YXIgaXNHZXN0dXJlID0gcG9pbnRzLmxlbmd0aCA+IDE7XG4gICAgICAgIGlmIChpc0dlc3R1cmUpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdFRvdWNoID0gcG9pbnRzWzBdLFxuICAgICAgICAgICAgICAgIHNlY29uZFRvdWNoID0gcG9pbnRzWzFdO1xuICAgICAgICAgICAgaW5pdGlhbERpc3RhbmNlID0gZGlzdGFuY2UoZmlyc3RUb3VjaCwgc2Vjb25kVG91Y2gpO1xuICAgICAgICAgICAgaW5pdGlhbFJvdGF0aW9uID0gYW5nbGUoZmlyc3RUb3VjaCwgc2Vjb25kVG91Y2gpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cGRhdGVQb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpc0dlc3R1cmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlyc3RUb3VjaCA9IHBvaW50c1swXSxcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kVG91Y2ggPSBwb2ludHNbMV07XG4gICAgICAgICAgICAgICAgdmFyIG5ld0Rpc3RhbmNlID0gZGlzdGFuY2UoZmlyc3RUb3VjaCwgc2Vjb25kVG91Y2gpO1xuICAgICAgICAgICAgICAgIHZhciBuZXdSb3RhdGlvbiA9IGFuZ2xlKGZpcnN0VG91Y2gsIHNlY29uZFRvdWNoKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQuc2NhbGUgPSBzY2FsZSAqIChuZXdEaXN0YW5jZSAvIGluaXRpYWxEaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnJvdGF0ZSA9IHJvdGF0ZSArIChuZXdSb3RhdGlvbiAtIGluaXRpYWxSb3RhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGUob3V0cHV0KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uTW92ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAocHJldmVudERlZmF1bHQgfHwgZS50b3VjaGVzLmxlbmd0aCA+IDEpIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHN5bmMudXBkYXRlKHVwZGF0ZVBvaW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHVwZGF0ZU9uTW92ZSA9IGxpc3Rlbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHtcbiAgICAgICAgICAgIHBhc3NpdmU6ICFwcmV2ZW50RGVmYXVsdFxuICAgICAgICB9KS5zdGFydChvbk1vdmUpO1xuICAgICAgICBpZiAoaXNUb3VjaERldmljZSkgc3luYy51cGRhdGUodXBkYXRlUG9pbnQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbFN5bmMudXBkYXRlKHVwZGF0ZVBvaW50KTtcbiAgICAgICAgICAgICAgICB1cGRhdGVPbk1vdmUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xufTtcbnZhciBnZXRJc1RvdWNoRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBpc1RvdWNoRGV2aWNlO1xufTtcblxudmFyIHBvaW50ID0gLyojX19QVVJFX18qL2RlZmF1bHRQb2ludGVyUG9zKCk7XG52YXIgaXNNb3VzZURldmljZSA9IGZhbHNlO1xuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgdXBkYXRlUG9pbnRMb2NhdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlzTW91c2VEZXZpY2UgPSB0cnVlO1xuICAgICAgICBldmVudFRvUG9pbnQoZSwgcG9pbnQpO1xuICAgIH07XG4gICAgbGlzdGVuKGRvY3VtZW50LCAnbW91c2Vkb3duIG1vdXNlbW92ZScsIHRydWUpLnN0YXJ0KHVwZGF0ZVBvaW50TG9jYXRpb24pO1xufVxudmFyIG1vdXNlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIF9iID0gKF9hID09PSB2b2lkIDAgPyB7fSA6IF9hKS5wcmV2ZW50RGVmYXVsdCxcbiAgICAgICAgcHJldmVudERlZmF1bHQgPSBfYiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9iO1xuICAgIHJldHVybiBhY3Rpb24oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB1cGRhdGUgPSBfYS51cGRhdGU7XG4gICAgICAgIHZhciB1cGRhdGVQb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGUocG9pbnQpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgb25Nb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChwcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc3luYy51cGRhdGUodXBkYXRlUG9pbnQpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdXBkYXRlT25Nb3ZlID0gbGlzdGVuKGRvY3VtZW50LCAnbW91c2Vtb3ZlJykuc3RhcnQob25Nb3ZlKTtcbiAgICAgICAgaWYgKGlzTW91c2VEZXZpY2UpIHN5bmMudXBkYXRlKHVwZGF0ZVBvaW50KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxTeW5jLnVwZGF0ZSh1cGRhdGVQb2ludCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlT25Nb3ZlLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbn07XG5cbnZhciBnZXRGaXJzdFRvdWNoID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGZpcnN0VG91Y2ggPSBfYVswXTtcbiAgICByZXR1cm4gZmlyc3RUb3VjaDtcbn07XG52YXIgcG9pbnRlciA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHByb3BzID0ge307XG4gICAgfVxuICAgIHJldHVybiBnZXRJc1RvdWNoRGV2aWNlKCkgPyBtdWx0aXRvdWNoKHByb3BzKS5waXBlKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgdG91Y2hlcyA9IF9hLnRvdWNoZXM7XG4gICAgICAgIHJldHVybiB0b3VjaGVzO1xuICAgIH0sIGdldEZpcnN0VG91Y2gpIDogbW91c2UocHJvcHMpO1xufTtcbnZhciBpbmRleCQxID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgaWYgKF9hID09PSB2b2lkIDApIHtcbiAgICAgICAgX2EgPSB7fTtcbiAgICB9XG4gICAgdmFyIHggPSBfYS54LFxuICAgICAgICB5ID0gX2EueSxcbiAgICAgICAgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcInhcIiwgXCJ5XCJdKTtcbiAgICBpZiAoeCAhPT0gdW5kZWZpbmVkIHx8IHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgYXBwbHlYT2Zmc2V0XzEgPSBhcHBseU9mZnNldCh4IHx8IDApO1xuICAgICAgICB2YXIgYXBwbHlZT2Zmc2V0XzEgPSBhcHBseU9mZnNldCh5IHx8IDApO1xuICAgICAgICB2YXIgZGVsdGFfMSA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICByZXR1cm4gcG9pbnRlcihwcm9wcykucGlwZShmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgIGRlbHRhXzEueCA9IGFwcGx5WE9mZnNldF8xKHBvaW50LngpO1xuICAgICAgICAgICAgZGVsdGFfMS55ID0gYXBwbHlZT2Zmc2V0XzEocG9pbnQueSk7XG4gICAgICAgICAgICByZXR1cm4gZGVsdGFfMTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHBvaW50ZXIocHJvcHMpO1xuICAgIH1cbn07XG5cbnZhciBjaGFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFjdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGFjdGlvbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHVwZGF0ZSA9IF9hLnVwZGF0ZSxcbiAgICAgICAgICAgIGNvbXBsZXRlID0gX2EuY29tcGxldGU7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnQ7XG4gICAgICAgIHZhciBwbGF5Q3VycmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBhY3Rpb25zW2ldLnN0YXJ0KHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIGkgPj0gYWN0aW9ucy5sZW5ndGggPyBjb21wbGV0ZSgpIDogcGxheUN1cnJlbnQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZTogdXBkYXRlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcGxheUN1cnJlbnQoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudCAmJiBjdXJyZW50LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbn07XG5cbnZhciBjcm9zc2ZhZGUgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhY3Rpb24oZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBiYWxhbmNlID0gMDtcbiAgICAgICAgdmFyIGZhZGFibGUgPSBwYXJhbGxlbCQxKGEsIGIpLnN0YXJ0KF9fYXNzaWduKF9fYXNzaWduKHt9LCBvYnNlcnZlciksIHsgdXBkYXRlOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmEgPSBfYVswXSxcbiAgICAgICAgICAgICAgICAgICAgdmIgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci51cGRhdGUobWl4KHZhLCB2YiwgYmFsYW5jZSkpO1xuICAgICAgICAgICAgfSB9KSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZXRCYWxhbmNlOiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHJldHVybiBiYWxhbmNlID0gdjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhZGFibGUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xufTtcblxudmFyIGRlbGF5ID0gZnVuY3Rpb24gKHRpbWVUb0RlbGF5KSB7XG4gICAgcmV0dXJuIGFjdGlvbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGNvbXBsZXRlID0gX2EuY29tcGxldGU7XG4gICAgICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjb21wbGV0ZSwgdGltZVRvRGVsYXkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG59O1xuXG52YXIgbWVyZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhY3Rpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBhY3Rpb24oZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBzdWJzID0gYWN0aW9ucy5tYXAoZnVuY3Rpb24gKHRoaXNBY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzQWN0aW9uLnN0YXJ0KG9ic2VydmVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnMuZm9yRWFjaChmdW5jdGlvbiAoc3ViKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWIuc3RvcCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xufTtcblxudmFyIHNjaGVkdWxlID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgc2NoZWR1bGVlKSB7XG4gICAgcmV0dXJuIGFjdGlvbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHVwZGF0ZSA9IF9hLnVwZGF0ZSxcbiAgICAgICAgICAgIGNvbXBsZXRlID0gX2EuY29tcGxldGU7XG4gICAgICAgIHZhciBsYXRlc3Q7XG4gICAgICAgIHZhciBzY2hlZHVsZXJTdWIgPSBzY2hlZHVsZXIuc3RhcnQoe1xuICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhdGVzdCAhPT0gdW5kZWZpbmVkICYmIHVwZGF0ZShsYXRlc3QpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHNjaGVkdWxlZVN1YiA9IHNjaGVkdWxlZS5zdGFydCh7XG4gICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhdGVzdCA9IHY7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGU6IGNvbXBsZXRlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlclN1Yi5zdG9wKCk7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVlU3ViLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbn07XG5cbnZhciBzdGFnZ2VyID0gZnVuY3Rpb24gKGFjdGlvbnMsIGludGVydmFsKSB7XG4gICAgdmFyIGludGVydmFsSXNOdW1iZXIgPSB0eXBlb2YgaW50ZXJ2YWwgPT09ICdudW1iZXInO1xuICAgIHZhciBhY3Rpb25zV2l0aERlbGF5ID0gYWN0aW9ucy5tYXAoZnVuY3Rpb24gKGEsIGkpIHtcbiAgICAgICAgdmFyIHRpbWVUb0RlbGF5ID0gaW50ZXJ2YWxJc051bWJlciA/IGludGVydmFsICogaSA6IGludGVydmFsKGkpO1xuICAgICAgICByZXR1cm4gY2hhaW4oZGVsYXkodGltZVRvRGVsYXkpLCBhKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGFyYWxsZWwkMS5hcHBseSh2b2lkIDAsIGFjdGlvbnNXaXRoRGVsYXkpO1xufTtcblxudmFyIGFwcGVuZFVuaXQgPSBmdW5jdGlvbiAodW5pdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gXCJcIiArIHYgKyB1bml0O1xuICAgIH07XG59O1xudmFyIHN0ZXBzID0gZnVuY3Rpb24gKHN0LCBtaW4sIG1heCkge1xuICAgIGlmIChtaW4gPT09IHZvaWQgMCkge1xuICAgICAgICBtaW4gPSAwO1xuICAgIH1cbiAgICBpZiAobWF4ID09PSB2b2lkIDApIHtcbiAgICAgICAgbWF4ID0gMTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHZhciBjdXJyZW50ID0gcHJvZ3Jlc3MobWluLCBtYXgsIHYpO1xuICAgICAgICByZXR1cm4gbWl4KG1pbiwgbWF4LCBzdGVwUHJvZ3Jlc3Moc3QsIGN1cnJlbnQpKTtcbiAgICB9O1xufTtcbnZhciB0cmFuc2Zvcm1NYXAgPSBmdW5jdGlvbiAoY2hpbGRUcmFuc2Zvcm1lcnMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IF9fYXNzaWduKHt9LCB2KTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGNoaWxkVHJhbnNmb3JtZXJzKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGRUcmFuc2Zvcm1lcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZFRyYW5zZm9ybWVyID0gY2hpbGRUcmFuc2Zvcm1lcnNba2V5XTtcbiAgICAgICAgICAgICAgICBvdXRwdXRba2V5XSA9IGNoaWxkVHJhbnNmb3JtZXIodltrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59O1xuXG52YXIgdHJhbnNmb3JtZXJzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICBhcHBseU9mZnNldDogYXBwbHlPZmZzZXQsXG4gICAgY2xhbXA6IGNsYW1wLFxuICAgIGNvbmRpdGlvbmFsOiBjb25kaXRpb25hbCxcbiAgICBpbnRlcnBvbGF0ZTogaW50ZXJwb2xhdGUsXG4gICAgYmxlbmRBcnJheTogbWl4QXJyYXksXG4gICAgYmxlbmRDb2xvcjogbWl4Q29sb3IsXG4gICAgcGlwZTogcGlwZSxcbiAgICBzbW9vdGg6IHNtb290aCxcbiAgICBzbmFwOiBzbmFwLFxuICAgIGdlbmVyYXRlU3RhdGljU3ByaW5nOiBzcHJpbmdGb3JjZSxcbiAgICBub25saW5lYXJTcHJpbmc6IHNwcmluZ0ZvcmNlRXhwbyxcbiAgICBsaW5lYXJTcHJpbmc6IHNwcmluZ0ZvcmNlTGluZWFyLFxuICAgIHdyYXA6IHdyYXAsXG4gICAgYXBwZW5kVW5pdDogYXBwZW5kVW5pdCxcbiAgICBzdGVwczogc3RlcHMsXG4gICAgdHJhbnNmb3JtTWFwOiB0cmFuc2Zvcm1NYXBcbn0pO1xuXG52YXIgY3NzID0gZnVuY3Rpb24gKGVsZW1lbnQsIHByb3BzKSB7XG4gICAgd2FybmluZyhmYWxzZSwgJ2NzcygpIGlzIGRlcHJlY2F0ZWQsIHVzZSBzdHlsZXIgaW5zdGVhZCcpO1xuICAgIHJldHVybiBzdHlsZXIoZWxlbWVudCwgcHJvcHMpO1xufTtcbnZhciBzdmcgPSBmdW5jdGlvbiAoZWxlbWVudCwgcHJvcHMpIHtcbiAgICB3YXJuaW5nKGZhbHNlLCAnc3ZnKCkgaXMgZGVwcmVjYXRlZCwgdXNlIHN0eWxlciBpbnN0ZWFkJyk7XG4gICAgcmV0dXJuIHN0eWxlcihlbGVtZW50LCBwcm9wcyk7XG59O1xuXG5leHBvcnQgeyBBY3Rpb24sIFZhbHVlUmVhY3Rpb24sIGFjdGlvbiwgY2FsYywgY2hhaW4sIGNvbXBvc2l0ZSwgY3Jvc3NmYWRlLCBjc3MsIHZlY3RvckRlY2F5IGFzIGRlY2F5LCBkZWxheSwgZnJhbWUgYXMgZXZlcnlGcmFtZSwgaW5kZXggYXMgaW5lcnRpYSwga2V5ZnJhbWVzLCBsaXN0ZW4sIG1lcmdlLCBtb3VzZSwgbXVsdGljYXN0LCBtdWx0aXRvdWNoLCBwYXJhbGxlbCQxIGFzIHBhcmFsbGVsLCB2ZWN0b3JQaHlzaWNzIGFzIHBoeXNpY3MsIGluZGV4JDEgYXMgcG9pbnRlciwgc2NoZWR1bGUsIHZlY3RvclNwcmluZyBhcyBzcHJpbmcsIHN0YWdnZXIsIHN2ZywgdGltZWxpbmUsIHRyYW5zZm9ybWVycyBhcyB0cmFuc2Zvcm0sIHR3ZWVuLCB2YWx1ZSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../node_modules/popmotion/dist/popmotion.es.js\n");

/***/ }),

/***/ "../../../node_modules/pose-core/dist/pose-core.es.js":
/*!************************************************************!*\
  !*** ../../../node_modules/pose-core/dist/pose-core.es.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ \"../../../node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var hey_listen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hey-listen */ \"../../../node_modules/hey-listen/dist/hey-listen.es.js\");\n\n\n\nvar getPoseValues = function (_a) {\n    var transition = _a.transition,\n        flip = _a.flip,\n        delay = _a.delay,\n        delayChildren = _a.delayChildren,\n        staggerChildren = _a.staggerChildren,\n        staggerDirection = _a.staggerDirection,\n        afterChildren = _a.afterChildren,\n        beforeChildren = _a.beforeChildren,\n        preTransition = _a.preTransition,\n        applyAtStart = _a.applyAtStart,\n        applyAtEnd = _a.applyAtEnd,\n        props = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__rest)(_a, [\"transition\", \"flip\", \"delay\", \"delayChildren\", \"staggerChildren\", \"staggerDirection\", \"afterChildren\", \"beforeChildren\", \"preTransition\", \"applyAtStart\", \"applyAtEnd\"]);\n    return props;\n};\nvar selectPoses = function (_a) {\n    var label = _a.label,\n        props = _a.props,\n        values = _a.values,\n        parentValues = _a.parentValues,\n        ancestorValues = _a.ancestorValues,\n        onChange = _a.onChange,\n        passive = _a.passive,\n        initialPose = _a.initialPose,\n        poses = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__rest)(_a, [\"label\", \"props\", \"values\", \"parentValues\", \"ancestorValues\", \"onChange\", \"passive\", \"initialPose\"]);\n    return poses;\n};\nvar selectAllValues = function (values, selectValue) {\n    var allValues = {};\n    values.forEach(function (value, key) {\n        return allValues[key] = selectValue(value);\n    });\n    return allValues;\n};\n\nvar resolveProp = function (target, props) {\n    return typeof target === 'function' ? target(props) : target;\n};\nvar poseDefault = function (pose, prop, defaultValue, resolveProps) {\n    return pose && pose[prop] !== undefined ? resolveProp(pose[prop], resolveProps) : defaultValue;\n};\nvar startChildAnimations = function (children, next, pose, props) {\n    var animations = [];\n    var delay = poseDefault(pose, 'delayChildren', 0, props);\n    var stagger = poseDefault(pose, 'staggerChildren', 0, props);\n    var staggerDirection = poseDefault(pose, 'staggerDirection', 1, props);\n    var maxStaggerDuration = (children.size - 1) * stagger;\n    var generateStaggerDuration = staggerDirection === 1 ? function (i) {\n        return i * stagger;\n    } : function (i) {\n        return maxStaggerDuration - i * stagger;\n    };\n    Array.from(children).forEach(function (child, i) {\n        animations.push(child.set(next, {\n            delay: delay + generateStaggerDuration(i)\n        }));\n    });\n    return animations;\n};\nvar resolveTransition = function (transition, key, value, props, convertTransitionDefinition, getInstantTransition) {\n    var resolvedTransition;\n    if (typeof transition === 'function') {\n        var resolvedTransitionMap = transition(props);\n        resolvedTransition = resolveTransition(resolvedTransitionMap, key, value, props, convertTransitionDefinition, getInstantTransition);\n    } else if (transition[key] || transition.default) {\n        var keyTransition = transition[key] || transition.default;\n        if (typeof keyTransition === 'function') {\n            resolvedTransition = keyTransition(props);\n        } else {\n            resolvedTransition = keyTransition;\n        }\n    } else {\n        resolvedTransition = transition;\n    }\n    return resolvedTransition === false ? getInstantTransition(value, props) : convertTransitionDefinition(value, resolvedTransition, props);\n};\nvar findInsertionIndex = function (poseList, priorityList, priorityIndex) {\n    var insertionIndex = 0;\n    for (var i = priorityIndex - 1; i >= 0; i--) {\n        var nextHighestPriorityIndex = poseList.indexOf(priorityList[i]);\n        if (nextHighestPriorityIndex !== -1) {\n            insertionIndex = nextHighestPriorityIndex + 1;\n            break;\n        }\n    }\n    return insertionIndex;\n};\nvar applyValues = function (toApply, values, props, setValue, setValueNative) {\n    (0,hey_listen__WEBPACK_IMPORTED_MODULE_0__.invariant)(typeof toApply === 'object', 'applyAtStart and applyAtEnd must be of type object');\n    return Object.keys(toApply).forEach(function (key) {\n        var valueToSet = resolveProp(toApply[key], props);\n        values.has(key) ? setValue(values.get(key), valueToSet) : setValueNative(key, valueToSet, props);\n    });\n};\nvar createPoseSetter = function (setterProps) {\n    var state = setterProps.state,\n        poses = setterProps.poses,\n        startAction = setterProps.startAction,\n        stopAction = setterProps.stopAction,\n        getInstantTransition = setterProps.getInstantTransition,\n        addActionDelay = setterProps.addActionDelay,\n        getTransitionProps = setterProps.getTransitionProps,\n        resolveTarget = setterProps.resolveTarget,\n        transformPose = setterProps.transformPose,\n        posePriority = setterProps.posePriority,\n        convertTransitionDefinition = setterProps.convertTransitionDefinition,\n        setValue = setterProps.setValue,\n        setValueNative = setterProps.setValueNative,\n        forceRender = setterProps.forceRender;\n    return function (next, nextProps, propagate) {\n        if (nextProps === void 0) {\n            nextProps = {};\n        }\n        if (propagate === void 0) {\n            propagate = true;\n        }\n        var children = state.children,\n            values = state.values,\n            props = state.props,\n            activeActions = state.activeActions,\n            activePoses = state.activePoses;\n        var _a = nextProps.delay,\n            delay = _a === void 0 ? 0 : _a;\n        var hasChildren = children.size;\n        var baseTransitionProps = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, props), nextProps);\n        var nextPose = poses[next];\n        var getChildAnimations = function () {\n            return hasChildren && propagate ? startChildAnimations(children, next, nextPose, baseTransitionProps) : [];\n        };\n        var getParentAnimations = function () {\n            if (!nextPose) return [];\n            var applyAtStart = nextPose.applyAtStart;\n            if (applyAtStart) {\n                applyValues(applyAtStart, values, baseTransitionProps, setValue, setValueNative);\n                if (forceRender) forceRender(baseTransitionProps);\n            }\n            if (transformPose) nextPose = transformPose(nextPose, next, state);\n            var preTransition = nextPose.preTransition,\n                getTransition = nextPose.transition,\n                applyAtEnd = nextPose.applyAtEnd;\n            if (preTransition) preTransition(baseTransitionProps);\n            var animations = Object.keys(getPoseValues(nextPose)).map(function (key) {\n                var valuePoses = activePoses.has(key) ? activePoses.get(key) : (activePoses.set(key, []), activePoses.get(key));\n                var existingIndex = valuePoses.indexOf(next);\n                if (existingIndex !== -1) valuePoses.splice(existingIndex, 1);\n                var priority = posePriority ? posePriority.indexOf(next) : 0;\n                var insertionIndex = priority <= 0 ? 0 : findInsertionIndex(valuePoses, posePriority, priority);\n                valuePoses.splice(insertionIndex, 0, next);\n                return insertionIndex === 0 ? new Promise(function (complete) {\n                    var value = values.get(key);\n                    var transitionProps = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, baseTransitionProps), { key: key,\n                        value: value });\n                    var target = resolveTarget(value, resolveProp(nextPose[key], transitionProps));\n                    if (activeActions.has(key)) stopAction(activeActions.get(key));\n                    var resolveTransitionProps = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({ to: target }, transitionProps), getTransitionProps(value, target, transitionProps));\n                    var transition = resolveTransition(getTransition, key, value, resolveTransitionProps, convertTransitionDefinition, getInstantTransition);\n                    var poseDelay = delay || resolveProp(nextPose.delay, transitionProps);\n                    if (poseDelay) {\n                        transition = addActionDelay(poseDelay, transition);\n                    }\n                    activeActions.set(key, startAction(value, transition, complete));\n                }) : Promise.resolve();\n            });\n            return applyAtEnd ? [Promise.all(animations).then(function () {\n                applyValues(applyAtEnd, values, baseTransitionProps, setValue, setValueNative);\n            })] : animations;\n        };\n        if (nextPose && hasChildren) {\n            if (resolveProp(nextPose.beforeChildren, baseTransitionProps)) {\n                return Promise.all(getParentAnimations()).then(function () {\n                    return Promise.all(getChildAnimations());\n                });\n            } else if (resolveProp(nextPose.afterChildren, baseTransitionProps)) {\n                return Promise.all(getChildAnimations()).then(function () {\n                    return Promise.all(getParentAnimations());\n                });\n            }\n        }\n        return Promise.all((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__spreadArrays)(getParentAnimations(), getChildAnimations()));\n    };\n};\n\nvar DEFAULT_INITIAL_POSE = 'init';\nvar isScale = function (key) {\n    return key.includes('scale');\n};\nvar defaultReadValueFromSource = function (key) {\n    return isScale(key) ? 1 : 0;\n};\nvar readValueFromPose = function (pose, key, props) {\n    var valueToResolve = pose.applyAtEnd && pose.applyAtEnd[key] !== undefined ? pose.applyAtEnd[key] : pose[key] !== undefined ? pose[key] : pose.applyAtStart && pose.applyAtStart[key] !== undefined ? pose.applyAtStart[key] : 0;\n    return resolveProp(valueToResolve, props);\n};\nvar getPosesToSearch = function (pose) {\n    var posesToSearch = Array.isArray(pose) ? pose : [pose];\n    posesToSearch.push(DEFAULT_INITIAL_POSE);\n    return posesToSearch;\n};\nvar getInitialValue = function (poses, key, initialPose, props, readValueFromSource, activePoses) {\n    if (readValueFromSource === void 0) {\n        readValueFromSource = defaultReadValueFromSource;\n    }\n    var posesToSearch = getPosesToSearch(initialPose);\n    var pose = posesToSearch.filter(Boolean).find(function (name) {\n        var thisPose = poses[name];\n        return thisPose && (thisPose[key] !== undefined || thisPose.applyAtStart && thisPose.applyAtStart[key] !== undefined || thisPose.applyAtEnd && thisPose.applyAtEnd[key] !== undefined);\n    });\n    activePoses.set(key, [pose || DEFAULT_INITIAL_POSE]);\n    return pose ? readValueFromPose(poses[pose], key, props) : readValueFromSource(key, props);\n};\nvar createValues = function (values, _a) {\n    var userSetValues = _a.userSetValues,\n        createValue = _a.createValue,\n        convertValue = _a.convertValue,\n        readValueFromSource = _a.readValueFromSource,\n        initialPose = _a.initialPose,\n        poses = _a.poses,\n        activePoses = _a.activePoses,\n        props = _a.props;\n    return function (key) {\n        if (values.has(key)) return;\n        var value;\n        if (userSetValues && userSetValues[key] !== undefined) {\n            value = convertValue(userSetValues[key], key, props);\n        } else {\n            var initValue = getInitialValue(poses, key, initialPose, props, readValueFromSource, activePoses);\n            value = createValue(initValue, key, props);\n        }\n        values.set(key, value);\n    };\n};\nvar scrapeValuesFromPose = function (values, props) {\n    return function (key) {\n        var pose = props.poses[key];\n        Object.keys(getPoseValues(pose)).forEach(createValues(values, props));\n    };\n};\nvar getAncestorValue = function (key, fromParent, ancestors) {\n    if (fromParent === true) {\n        return ancestors[0] && ancestors[0].values.get(key);\n    } else {\n        var foundAncestor = ancestors.find(function (_a) {\n            var label = _a.label;\n            return label === fromParent;\n        });\n        return foundAncestor && foundAncestor.values.get(key);\n    }\n};\nvar bindPassiveValues = function (values, _a) {\n    var passive = _a.passive,\n        ancestorValues = _a.ancestorValues,\n        createValue = _a.createValue,\n        readValue = _a.readValue,\n        props = _a.props;\n    return function (key) {\n        var _a = passive[key],\n            valueKey = _a[0],\n            passiveProps = _a[1],\n            fromParent = _a[2];\n        var valueToBind = fromParent && ancestorValues.length ? getAncestorValue(valueKey, fromParent, ancestorValues) : values.has(valueKey) ? values.get(valueKey) : false;\n        if (!valueToBind) return;\n        var newValue = createValue(readValue(valueToBind), key, props, {\n            passiveParentKey: valueKey,\n            passiveParent: valueToBind,\n            passiveProps: passiveProps\n        });\n        values.set(key, newValue);\n    };\n};\nvar setNativeValues = function (_a) {\n    var setValueNative = _a.setValueNative,\n        initialPose = _a.initialPose,\n        props = _a.props,\n        poses = _a.poses;\n    var valuesHaveSet = new Set();\n    var setValues = function (pose, propKey) {\n        if (pose[propKey]) {\n            for (var key in pose[propKey]) {\n                if (!valuesHaveSet.has(key)) {\n                    valuesHaveSet.add(key);\n                    setValueNative(key, resolveProp(pose[propKey][key], props), props);\n                }\n            }\n        }\n    };\n    getPosesToSearch(initialPose).forEach(function (poseKey) {\n        var pose = poses[poseKey];\n        if (pose) {\n            setValues(pose, 'applyAtEnd');\n            setValues(pose, 'applyAtStart');\n        }\n    });\n};\nvar createValueMap = function (props) {\n    var poses = props.poses,\n        passive = props.passive;\n    var values = new Map();\n    Object.keys(poses).forEach(scrapeValuesFromPose(values, props));\n    setNativeValues(props);\n    if (passive) Object.keys(passive).forEach(bindPassiveValues(values, props));\n    return values;\n};\n\nvar applyDefaultTransition = function (pose, key, defaultTransitions) {\n    return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, pose), { transition: defaultTransitions.has(key) ? defaultTransitions.get(key) : defaultTransitions.get('default') });\n};\nvar generateTransitions = function (poses, defaultTransitions) {\n    Object.keys(poses).forEach(function (key) {\n        var pose = poses[key];\n        (0,hey_listen__WEBPACK_IMPORTED_MODULE_0__.invariant)(typeof pose === 'object', \"Pose '\" + key + \"' is of invalid type. All poses should be objects.\");\n        poses[key] = pose.transition !== undefined ? pose : applyDefaultTransition(pose, key, defaultTransitions);\n    });\n    return poses;\n};\n\nvar sortByReversePriority = function (priorityOrder) {\n    return function (a, b) {\n        var aP = priorityOrder.indexOf(a);\n        var bP = priorityOrder.indexOf(b);\n        if (aP === -1 && bP !== -1) return -1;\n        if (aP !== -1 && bP === -1) return 1;\n        return aP - bP;\n    };\n};\n\nvar poseFactory = function (_a) {\n    var getDefaultProps = _a.getDefaultProps,\n        defaultTransitions = _a.defaultTransitions,\n        bindOnChange = _a.bindOnChange,\n        startAction = _a.startAction,\n        stopAction = _a.stopAction,\n        readValue = _a.readValue,\n        readValueFromSource = _a.readValueFromSource,\n        resolveTarget = _a.resolveTarget,\n        setValue = _a.setValue,\n        setValueNative = _a.setValueNative,\n        createValue = _a.createValue,\n        convertValue = _a.convertValue,\n        getInstantTransition = _a.getInstantTransition,\n        getTransitionProps = _a.getTransitionProps,\n        addActionDelay = _a.addActionDelay,\n        selectValueToRead = _a.selectValueToRead,\n        convertTransitionDefinition = _a.convertTransitionDefinition,\n        transformPose = _a.transformPose,\n        posePriority = _a.posePriority,\n        forceRender = _a.forceRender,\n        extendAPI = _a.extendAPI;\n    return function (config) {\n        var parentValues = config.parentValues,\n            _a = config.ancestorValues,\n            ancestorValues = _a === void 0 ? [] : _a;\n        if (parentValues) ancestorValues.unshift({ values: parentValues });\n        var activeActions = new Map();\n        var activePoses = new Map();\n        var children = new Set();\n        var poses = generateTransitions(selectPoses(config), defaultTransitions);\n        var _b = config.props,\n            props = _b === void 0 ? {} : _b;\n        if (getDefaultProps) props = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, getDefaultProps(config)), props);\n        var passive = config.passive,\n            userSetValues = config.values,\n            _c = config.initialPose,\n            initialPose = _c === void 0 ? DEFAULT_INITIAL_POSE : _c;\n        var values = createValueMap({\n            poses: poses,\n            passive: passive,\n            ancestorValues: ancestorValues,\n            readValue: readValue,\n            setValueNative: setValueNative,\n            createValue: createValue,\n            convertValue: convertValue,\n            readValueFromSource: readValueFromSource,\n            userSetValues: userSetValues,\n            initialPose: initialPose,\n            activePoses: activePoses,\n            props: props\n        });\n        var state = {\n            activeActions: activeActions,\n            activePoses: activePoses,\n            children: children,\n            props: props,\n            values: values\n        };\n        var onChange = config.onChange;\n        if (onChange) Object.keys(onChange).forEach(bindOnChange(values, onChange));\n        var set = createPoseSetter({\n            state: state,\n            poses: poses,\n            getInstantTransition: getInstantTransition,\n            getTransitionProps: getTransitionProps,\n            convertTransitionDefinition: convertTransitionDefinition,\n            setValue: setValue,\n            setValueNative: setValueNative,\n            startAction: startAction,\n            stopAction: stopAction,\n            resolveTarget: resolveTarget,\n            addActionDelay: addActionDelay,\n            transformPose: transformPose,\n            posePriority: posePriority,\n            forceRender: forceRender\n        });\n        var has = function (poseName) {\n            return !!poses[poseName];\n        };\n        var api = {\n            set: set,\n            unset: function (poseName, poseProps) {\n                var posesToSet = [];\n                activePoses.forEach(function (valuePoses) {\n                    var poseIndex = valuePoses.indexOf(poseName);\n                    if (poseIndex === -1) return;\n                    var currentPose = valuePoses[0];\n                    valuePoses.splice(poseIndex, 1);\n                    var nextPose = valuePoses[0];\n                    if (nextPose === currentPose) return;\n                    if (posesToSet.indexOf(nextPose) === -1) {\n                        posesToSet.push(nextPose);\n                    }\n                });\n                var animationsToResolve = posesToSet.sort(sortByReversePriority(posePriority)).map(function (poseToSet) {\n                    return set(poseToSet, poseProps, false);\n                });\n                children.forEach(function (child) {\n                    return animationsToResolve.push(child.unset(poseName));\n                });\n                return Promise.all(animationsToResolve);\n            },\n            get: function (valueName) {\n                return valueName ? selectValueToRead(values.get(valueName)) : selectAllValues(values, selectValueToRead);\n            },\n            has: has,\n            setProps: function (newProps) {\n                return state.props = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, state.props), newProps);\n            },\n            _addChild: function (childConfig, factory) {\n                var child = factory((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({ initialPose: initialPose }, childConfig), { ancestorValues: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__spreadArrays)([{ label: config.label, values: values }], ancestorValues) }));\n                children.add(child);\n                return child;\n            },\n            removeChild: function (child) {\n                return children.delete(child);\n            },\n            clearChildren: function () {\n                children.forEach(function (child) {\n                    return child.destroy();\n                });\n                children.clear();\n            },\n            destroy: function () {\n                activeActions.forEach(stopAction);\n                children.forEach(function (child) {\n                    return child.destroy();\n                });\n            }\n        };\n        return extendAPI(api, state, config);\n    };\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (poseFactory);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc2UtY29yZS9kaXN0L3Bvc2UtY29yZS5lcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3NlLWNvcmUvZGlzdC9wb3NlLWNvcmUuZXMuanM/MzVhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX3Jlc3QsIF9fYXNzaWduLCBfX3NwcmVhZEFycmF5cyB9IGZyb20gJ3RzbGliJztcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJ2hleS1saXN0ZW4nO1xuXG52YXIgZ2V0UG9zZVZhbHVlcyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciB0cmFuc2l0aW9uID0gX2EudHJhbnNpdGlvbixcbiAgICAgICAgZmxpcCA9IF9hLmZsaXAsXG4gICAgICAgIGRlbGF5ID0gX2EuZGVsYXksXG4gICAgICAgIGRlbGF5Q2hpbGRyZW4gPSBfYS5kZWxheUNoaWxkcmVuLFxuICAgICAgICBzdGFnZ2VyQ2hpbGRyZW4gPSBfYS5zdGFnZ2VyQ2hpbGRyZW4sXG4gICAgICAgIHN0YWdnZXJEaXJlY3Rpb24gPSBfYS5zdGFnZ2VyRGlyZWN0aW9uLFxuICAgICAgICBhZnRlckNoaWxkcmVuID0gX2EuYWZ0ZXJDaGlsZHJlbixcbiAgICAgICAgYmVmb3JlQ2hpbGRyZW4gPSBfYS5iZWZvcmVDaGlsZHJlbixcbiAgICAgICAgcHJlVHJhbnNpdGlvbiA9IF9hLnByZVRyYW5zaXRpb24sXG4gICAgICAgIGFwcGx5QXRTdGFydCA9IF9hLmFwcGx5QXRTdGFydCxcbiAgICAgICAgYXBwbHlBdEVuZCA9IF9hLmFwcGx5QXRFbmQsXG4gICAgICAgIHByb3BzID0gX19yZXN0KF9hLCBbXCJ0cmFuc2l0aW9uXCIsIFwiZmxpcFwiLCBcImRlbGF5XCIsIFwiZGVsYXlDaGlsZHJlblwiLCBcInN0YWdnZXJDaGlsZHJlblwiLCBcInN0YWdnZXJEaXJlY3Rpb25cIiwgXCJhZnRlckNoaWxkcmVuXCIsIFwiYmVmb3JlQ2hpbGRyZW5cIiwgXCJwcmVUcmFuc2l0aW9uXCIsIFwiYXBwbHlBdFN0YXJ0XCIsIFwiYXBwbHlBdEVuZFwiXSk7XG4gICAgcmV0dXJuIHByb3BzO1xufTtcbnZhciBzZWxlY3RQb3NlcyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBsYWJlbCA9IF9hLmxhYmVsLFxuICAgICAgICBwcm9wcyA9IF9hLnByb3BzLFxuICAgICAgICB2YWx1ZXMgPSBfYS52YWx1ZXMsXG4gICAgICAgIHBhcmVudFZhbHVlcyA9IF9hLnBhcmVudFZhbHVlcyxcbiAgICAgICAgYW5jZXN0b3JWYWx1ZXMgPSBfYS5hbmNlc3RvclZhbHVlcyxcbiAgICAgICAgb25DaGFuZ2UgPSBfYS5vbkNoYW5nZSxcbiAgICAgICAgcGFzc2l2ZSA9IF9hLnBhc3NpdmUsXG4gICAgICAgIGluaXRpYWxQb3NlID0gX2EuaW5pdGlhbFBvc2UsXG4gICAgICAgIHBvc2VzID0gX19yZXN0KF9hLCBbXCJsYWJlbFwiLCBcInByb3BzXCIsIFwidmFsdWVzXCIsIFwicGFyZW50VmFsdWVzXCIsIFwiYW5jZXN0b3JWYWx1ZXNcIiwgXCJvbkNoYW5nZVwiLCBcInBhc3NpdmVcIiwgXCJpbml0aWFsUG9zZVwiXSk7XG4gICAgcmV0dXJuIHBvc2VzO1xufTtcbnZhciBzZWxlY3RBbGxWYWx1ZXMgPSBmdW5jdGlvbiAodmFsdWVzLCBzZWxlY3RWYWx1ZSkge1xuICAgIHZhciBhbGxWYWx1ZXMgPSB7fTtcbiAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICByZXR1cm4gYWxsVmFsdWVzW2tleV0gPSBzZWxlY3RWYWx1ZSh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFsbFZhbHVlcztcbn07XG5cbnZhciByZXNvbHZlUHJvcCA9IGZ1bmN0aW9uICh0YXJnZXQsIHByb3BzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicgPyB0YXJnZXQocHJvcHMpIDogdGFyZ2V0O1xufTtcbnZhciBwb3NlRGVmYXVsdCA9IGZ1bmN0aW9uIChwb3NlLCBwcm9wLCBkZWZhdWx0VmFsdWUsIHJlc29sdmVQcm9wcykge1xuICAgIHJldHVybiBwb3NlICYmIHBvc2VbcHJvcF0gIT09IHVuZGVmaW5lZCA/IHJlc29sdmVQcm9wKHBvc2VbcHJvcF0sIHJlc29sdmVQcm9wcykgOiBkZWZhdWx0VmFsdWU7XG59O1xudmFyIHN0YXJ0Q2hpbGRBbmltYXRpb25zID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBuZXh0LCBwb3NlLCBwcm9wcykge1xuICAgIHZhciBhbmltYXRpb25zID0gW107XG4gICAgdmFyIGRlbGF5ID0gcG9zZURlZmF1bHQocG9zZSwgJ2RlbGF5Q2hpbGRyZW4nLCAwLCBwcm9wcyk7XG4gICAgdmFyIHN0YWdnZXIgPSBwb3NlRGVmYXVsdChwb3NlLCAnc3RhZ2dlckNoaWxkcmVuJywgMCwgcHJvcHMpO1xuICAgIHZhciBzdGFnZ2VyRGlyZWN0aW9uID0gcG9zZURlZmF1bHQocG9zZSwgJ3N0YWdnZXJEaXJlY3Rpb24nLCAxLCBwcm9wcyk7XG4gICAgdmFyIG1heFN0YWdnZXJEdXJhdGlvbiA9IChjaGlsZHJlbi5zaXplIC0gMSkgKiBzdGFnZ2VyO1xuICAgIHZhciBnZW5lcmF0ZVN0YWdnZXJEdXJhdGlvbiA9IHN0YWdnZXJEaXJlY3Rpb24gPT09IDEgPyBmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gaSAqIHN0YWdnZXI7XG4gICAgfSA6IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHJldHVybiBtYXhTdGFnZ2VyRHVyYXRpb24gLSBpICogc3RhZ2dlcjtcbiAgICB9O1xuICAgIEFycmF5LmZyb20oY2hpbGRyZW4pLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkLCBpKSB7XG4gICAgICAgIGFuaW1hdGlvbnMucHVzaChjaGlsZC5zZXQobmV4dCwge1xuICAgICAgICAgICAgZGVsYXk6IGRlbGF5ICsgZ2VuZXJhdGVTdGFnZ2VyRHVyYXRpb24oaSlcbiAgICAgICAgfSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBhbmltYXRpb25zO1xufTtcbnZhciByZXNvbHZlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uLCBrZXksIHZhbHVlLCBwcm9wcywgY29udmVydFRyYW5zaXRpb25EZWZpbml0aW9uLCBnZXRJbnN0YW50VHJhbnNpdGlvbikge1xuICAgIHZhciByZXNvbHZlZFRyYW5zaXRpb247XG4gICAgaWYgKHR5cGVvZiB0cmFuc2l0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciByZXNvbHZlZFRyYW5zaXRpb25NYXAgPSB0cmFuc2l0aW9uKHByb3BzKTtcbiAgICAgICAgcmVzb2x2ZWRUcmFuc2l0aW9uID0gcmVzb2x2ZVRyYW5zaXRpb24ocmVzb2x2ZWRUcmFuc2l0aW9uTWFwLCBrZXksIHZhbHVlLCBwcm9wcywgY29udmVydFRyYW5zaXRpb25EZWZpbml0aW9uLCBnZXRJbnN0YW50VHJhbnNpdGlvbik7XG4gICAgfSBlbHNlIGlmICh0cmFuc2l0aW9uW2tleV0gfHwgdHJhbnNpdGlvbi5kZWZhdWx0KSB7XG4gICAgICAgIHZhciBrZXlUcmFuc2l0aW9uID0gdHJhbnNpdGlvbltrZXldIHx8IHRyYW5zaXRpb24uZGVmYXVsdDtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXlUcmFuc2l0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXNvbHZlZFRyYW5zaXRpb24gPSBrZXlUcmFuc2l0aW9uKHByb3BzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmVkVHJhbnNpdGlvbiA9IGtleVRyYW5zaXRpb247XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlZFRyYW5zaXRpb24gPSB0cmFuc2l0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb2x2ZWRUcmFuc2l0aW9uID09PSBmYWxzZSA/IGdldEluc3RhbnRUcmFuc2l0aW9uKHZhbHVlLCBwcm9wcykgOiBjb252ZXJ0VHJhbnNpdGlvbkRlZmluaXRpb24odmFsdWUsIHJlc29sdmVkVHJhbnNpdGlvbiwgcHJvcHMpO1xufTtcbnZhciBmaW5kSW5zZXJ0aW9uSW5kZXggPSBmdW5jdGlvbiAocG9zZUxpc3QsIHByaW9yaXR5TGlzdCwgcHJpb3JpdHlJbmRleCkge1xuICAgIHZhciBpbnNlcnRpb25JbmRleCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHByaW9yaXR5SW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgbmV4dEhpZ2hlc3RQcmlvcml0eUluZGV4ID0gcG9zZUxpc3QuaW5kZXhPZihwcmlvcml0eUxpc3RbaV0pO1xuICAgICAgICBpZiAobmV4dEhpZ2hlc3RQcmlvcml0eUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgaW5zZXJ0aW9uSW5kZXggPSBuZXh0SGlnaGVzdFByaW9yaXR5SW5kZXggKyAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc2VydGlvbkluZGV4O1xufTtcbnZhciBhcHBseVZhbHVlcyA9IGZ1bmN0aW9uICh0b0FwcGx5LCB2YWx1ZXMsIHByb3BzLCBzZXRWYWx1ZSwgc2V0VmFsdWVOYXRpdmUpIHtcbiAgICBpbnZhcmlhbnQodHlwZW9mIHRvQXBwbHkgPT09ICdvYmplY3QnLCAnYXBwbHlBdFN0YXJ0IGFuZCBhcHBseUF0RW5kIG11c3QgYmUgb2YgdHlwZSBvYmplY3QnKTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModG9BcHBseSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZVRvU2V0ID0gcmVzb2x2ZVByb3AodG9BcHBseVtrZXldLCBwcm9wcyk7XG4gICAgICAgIHZhbHVlcy5oYXMoa2V5KSA/IHNldFZhbHVlKHZhbHVlcy5nZXQoa2V5KSwgdmFsdWVUb1NldCkgOiBzZXRWYWx1ZU5hdGl2ZShrZXksIHZhbHVlVG9TZXQsIHByb3BzKTtcbiAgICB9KTtcbn07XG52YXIgY3JlYXRlUG9zZVNldHRlciA9IGZ1bmN0aW9uIChzZXR0ZXJQcm9wcykge1xuICAgIHZhciBzdGF0ZSA9IHNldHRlclByb3BzLnN0YXRlLFxuICAgICAgICBwb3NlcyA9IHNldHRlclByb3BzLnBvc2VzLFxuICAgICAgICBzdGFydEFjdGlvbiA9IHNldHRlclByb3BzLnN0YXJ0QWN0aW9uLFxuICAgICAgICBzdG9wQWN0aW9uID0gc2V0dGVyUHJvcHMuc3RvcEFjdGlvbixcbiAgICAgICAgZ2V0SW5zdGFudFRyYW5zaXRpb24gPSBzZXR0ZXJQcm9wcy5nZXRJbnN0YW50VHJhbnNpdGlvbixcbiAgICAgICAgYWRkQWN0aW9uRGVsYXkgPSBzZXR0ZXJQcm9wcy5hZGRBY3Rpb25EZWxheSxcbiAgICAgICAgZ2V0VHJhbnNpdGlvblByb3BzID0gc2V0dGVyUHJvcHMuZ2V0VHJhbnNpdGlvblByb3BzLFxuICAgICAgICByZXNvbHZlVGFyZ2V0ID0gc2V0dGVyUHJvcHMucmVzb2x2ZVRhcmdldCxcbiAgICAgICAgdHJhbnNmb3JtUG9zZSA9IHNldHRlclByb3BzLnRyYW5zZm9ybVBvc2UsXG4gICAgICAgIHBvc2VQcmlvcml0eSA9IHNldHRlclByb3BzLnBvc2VQcmlvcml0eSxcbiAgICAgICAgY29udmVydFRyYW5zaXRpb25EZWZpbml0aW9uID0gc2V0dGVyUHJvcHMuY29udmVydFRyYW5zaXRpb25EZWZpbml0aW9uLFxuICAgICAgICBzZXRWYWx1ZSA9IHNldHRlclByb3BzLnNldFZhbHVlLFxuICAgICAgICBzZXRWYWx1ZU5hdGl2ZSA9IHNldHRlclByb3BzLnNldFZhbHVlTmF0aXZlLFxuICAgICAgICBmb3JjZVJlbmRlciA9IHNldHRlclByb3BzLmZvcmNlUmVuZGVyO1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCwgbmV4dFByb3BzLCBwcm9wYWdhdGUpIHtcbiAgICAgICAgaWYgKG5leHRQcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBuZXh0UHJvcHMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcGFnYXRlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHByb3BhZ2F0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoaWxkcmVuID0gc3RhdGUuY2hpbGRyZW4sXG4gICAgICAgICAgICB2YWx1ZXMgPSBzdGF0ZS52YWx1ZXMsXG4gICAgICAgICAgICBwcm9wcyA9IHN0YXRlLnByb3BzLFxuICAgICAgICAgICAgYWN0aXZlQWN0aW9ucyA9IHN0YXRlLmFjdGl2ZUFjdGlvbnMsXG4gICAgICAgICAgICBhY3RpdmVQb3NlcyA9IHN0YXRlLmFjdGl2ZVBvc2VzO1xuICAgICAgICB2YXIgX2EgPSBuZXh0UHJvcHMuZGVsYXksXG4gICAgICAgICAgICBkZWxheSA9IF9hID09PSB2b2lkIDAgPyAwIDogX2E7XG4gICAgICAgIHZhciBoYXNDaGlsZHJlbiA9IGNoaWxkcmVuLnNpemU7XG4gICAgICAgIHZhciBiYXNlVHJhbnNpdGlvblByb3BzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHByb3BzKSwgbmV4dFByb3BzKTtcbiAgICAgICAgdmFyIG5leHRQb3NlID0gcG9zZXNbbmV4dF07XG4gICAgICAgIHZhciBnZXRDaGlsZEFuaW1hdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFzQ2hpbGRyZW4gJiYgcHJvcGFnYXRlID8gc3RhcnRDaGlsZEFuaW1hdGlvbnMoY2hpbGRyZW4sIG5leHQsIG5leHRQb3NlLCBiYXNlVHJhbnNpdGlvblByb3BzKSA6IFtdO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2V0UGFyZW50QW5pbWF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghbmV4dFBvc2UpIHJldHVybiBbXTtcbiAgICAgICAgICAgIHZhciBhcHBseUF0U3RhcnQgPSBuZXh0UG9zZS5hcHBseUF0U3RhcnQ7XG4gICAgICAgICAgICBpZiAoYXBwbHlBdFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgYXBwbHlWYWx1ZXMoYXBwbHlBdFN0YXJ0LCB2YWx1ZXMsIGJhc2VUcmFuc2l0aW9uUHJvcHMsIHNldFZhbHVlLCBzZXRWYWx1ZU5hdGl2ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGZvcmNlUmVuZGVyKSBmb3JjZVJlbmRlcihiYXNlVHJhbnNpdGlvblByb3BzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm1Qb3NlKSBuZXh0UG9zZSA9IHRyYW5zZm9ybVBvc2UobmV4dFBvc2UsIG5leHQsIHN0YXRlKTtcbiAgICAgICAgICAgIHZhciBwcmVUcmFuc2l0aW9uID0gbmV4dFBvc2UucHJlVHJhbnNpdGlvbixcbiAgICAgICAgICAgICAgICBnZXRUcmFuc2l0aW9uID0gbmV4dFBvc2UudHJhbnNpdGlvbixcbiAgICAgICAgICAgICAgICBhcHBseUF0RW5kID0gbmV4dFBvc2UuYXBwbHlBdEVuZDtcbiAgICAgICAgICAgIGlmIChwcmVUcmFuc2l0aW9uKSBwcmVUcmFuc2l0aW9uKGJhc2VUcmFuc2l0aW9uUHJvcHMpO1xuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbnMgPSBPYmplY3Qua2V5cyhnZXRQb3NlVmFsdWVzKG5leHRQb3NlKSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVQb3NlcyA9IGFjdGl2ZVBvc2VzLmhhcyhrZXkpID8gYWN0aXZlUG9zZXMuZ2V0KGtleSkgOiAoYWN0aXZlUG9zZXMuc2V0KGtleSwgW10pLCBhY3RpdmVQb3Nlcy5nZXQoa2V5KSk7XG4gICAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nSW5kZXggPSB2YWx1ZVBvc2VzLmluZGV4T2YobmV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nSW5kZXggIT09IC0xKSB2YWx1ZVBvc2VzLnNwbGljZShleGlzdGluZ0luZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB2YXIgcHJpb3JpdHkgPSBwb3NlUHJpb3JpdHkgPyBwb3NlUHJpb3JpdHkuaW5kZXhPZihuZXh0KSA6IDA7XG4gICAgICAgICAgICAgICAgdmFyIGluc2VydGlvbkluZGV4ID0gcHJpb3JpdHkgPD0gMCA/IDAgOiBmaW5kSW5zZXJ0aW9uSW5kZXgodmFsdWVQb3NlcywgcG9zZVByaW9yaXR5LCBwcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgdmFsdWVQb3Nlcy5zcGxpY2UoaW5zZXJ0aW9uSW5kZXgsIDAsIG5leHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnNlcnRpb25JbmRleCA9PT0gMCA/IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChjb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXMuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uUHJvcHMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgYmFzZVRyYW5zaXRpb25Qcm9wcyksIHsga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSByZXNvbHZlVGFyZ2V0KHZhbHVlLCByZXNvbHZlUHJvcChuZXh0UG9zZVtrZXldLCB0cmFuc2l0aW9uUHJvcHMpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUFjdGlvbnMuaGFzKGtleSkpIHN0b3BBY3Rpb24oYWN0aXZlQWN0aW9ucy5nZXQoa2V5KSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNvbHZlVHJhbnNpdGlvblByb3BzID0gX19hc3NpZ24oX19hc3NpZ24oeyB0bzogdGFyZ2V0IH0sIHRyYW5zaXRpb25Qcm9wcyksIGdldFRyYW5zaXRpb25Qcm9wcyh2YWx1ZSwgdGFyZ2V0LCB0cmFuc2l0aW9uUHJvcHMpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb24gPSByZXNvbHZlVHJhbnNpdGlvbihnZXRUcmFuc2l0aW9uLCBrZXksIHZhbHVlLCByZXNvbHZlVHJhbnNpdGlvblByb3BzLCBjb252ZXJ0VHJhbnNpdGlvbkRlZmluaXRpb24sIGdldEluc3RhbnRUcmFuc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvc2VEZWxheSA9IGRlbGF5IHx8IHJlc29sdmVQcm9wKG5leHRQb3NlLmRlbGF5LCB0cmFuc2l0aW9uUHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zZURlbGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uID0gYWRkQWN0aW9uRGVsYXkocG9zZURlbGF5LCB0cmFuc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb25zLnNldChrZXksIHN0YXJ0QWN0aW9uKHZhbHVlLCB0cmFuc2l0aW9uLCBjb21wbGV0ZSkpO1xuICAgICAgICAgICAgICAgIH0pIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBhcHBseUF0RW5kID8gW1Byb21pc2UuYWxsKGFuaW1hdGlvbnMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFwcGx5VmFsdWVzKGFwcGx5QXRFbmQsIHZhbHVlcywgYmFzZVRyYW5zaXRpb25Qcm9wcywgc2V0VmFsdWUsIHNldFZhbHVlTmF0aXZlKTtcbiAgICAgICAgICAgIH0pXSA6IGFuaW1hdGlvbnM7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChuZXh0UG9zZSAmJiBoYXNDaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKHJlc29sdmVQcm9wKG5leHRQb3NlLmJlZm9yZUNoaWxkcmVuLCBiYXNlVHJhbnNpdGlvblByb3BzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChnZXRQYXJlbnRBbmltYXRpb25zKCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZ2V0Q2hpbGRBbmltYXRpb25zKCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNvbHZlUHJvcChuZXh0UG9zZS5hZnRlckNoaWxkcmVuLCBiYXNlVHJhbnNpdGlvblByb3BzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChnZXRDaGlsZEFuaW1hdGlvbnMoKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChnZXRQYXJlbnRBbmltYXRpb25zKCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChfX3NwcmVhZEFycmF5cyhnZXRQYXJlbnRBbmltYXRpb25zKCksIGdldENoaWxkQW5pbWF0aW9ucygpKSk7XG4gICAgfTtcbn07XG5cbnZhciBERUZBVUxUX0lOSVRJQUxfUE9TRSA9ICdpbml0JztcbnZhciBpc1NjYWxlID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBrZXkuaW5jbHVkZXMoJ3NjYWxlJyk7XG59O1xudmFyIGRlZmF1bHRSZWFkVmFsdWVGcm9tU291cmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBpc1NjYWxlKGtleSkgPyAxIDogMDtcbn07XG52YXIgcmVhZFZhbHVlRnJvbVBvc2UgPSBmdW5jdGlvbiAocG9zZSwga2V5LCBwcm9wcykge1xuICAgIHZhciB2YWx1ZVRvUmVzb2x2ZSA9IHBvc2UuYXBwbHlBdEVuZCAmJiBwb3NlLmFwcGx5QXRFbmRba2V5XSAhPT0gdW5kZWZpbmVkID8gcG9zZS5hcHBseUF0RW5kW2tleV0gOiBwb3NlW2tleV0gIT09IHVuZGVmaW5lZCA/IHBvc2Vba2V5XSA6IHBvc2UuYXBwbHlBdFN0YXJ0ICYmIHBvc2UuYXBwbHlBdFN0YXJ0W2tleV0gIT09IHVuZGVmaW5lZCA/IHBvc2UuYXBwbHlBdFN0YXJ0W2tleV0gOiAwO1xuICAgIHJldHVybiByZXNvbHZlUHJvcCh2YWx1ZVRvUmVzb2x2ZSwgcHJvcHMpO1xufTtcbnZhciBnZXRQb3Nlc1RvU2VhcmNoID0gZnVuY3Rpb24gKHBvc2UpIHtcbiAgICB2YXIgcG9zZXNUb1NlYXJjaCA9IEFycmF5LmlzQXJyYXkocG9zZSkgPyBwb3NlIDogW3Bvc2VdO1xuICAgIHBvc2VzVG9TZWFyY2gucHVzaChERUZBVUxUX0lOSVRJQUxfUE9TRSk7XG4gICAgcmV0dXJuIHBvc2VzVG9TZWFyY2g7XG59O1xudmFyIGdldEluaXRpYWxWYWx1ZSA9IGZ1bmN0aW9uIChwb3Nlcywga2V5LCBpbml0aWFsUG9zZSwgcHJvcHMsIHJlYWRWYWx1ZUZyb21Tb3VyY2UsIGFjdGl2ZVBvc2VzKSB7XG4gICAgaWYgKHJlYWRWYWx1ZUZyb21Tb3VyY2UgPT09IHZvaWQgMCkge1xuICAgICAgICByZWFkVmFsdWVGcm9tU291cmNlID0gZGVmYXVsdFJlYWRWYWx1ZUZyb21Tb3VyY2U7XG4gICAgfVxuICAgIHZhciBwb3Nlc1RvU2VhcmNoID0gZ2V0UG9zZXNUb1NlYXJjaChpbml0aWFsUG9zZSk7XG4gICAgdmFyIHBvc2UgPSBwb3Nlc1RvU2VhcmNoLmZpbHRlcihCb29sZWFuKS5maW5kKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciB0aGlzUG9zZSA9IHBvc2VzW25hbWVdO1xuICAgICAgICByZXR1cm4gdGhpc1Bvc2UgJiYgKHRoaXNQb3NlW2tleV0gIT09IHVuZGVmaW5lZCB8fCB0aGlzUG9zZS5hcHBseUF0U3RhcnQgJiYgdGhpc1Bvc2UuYXBwbHlBdFN0YXJ0W2tleV0gIT09IHVuZGVmaW5lZCB8fCB0aGlzUG9zZS5hcHBseUF0RW5kICYmIHRoaXNQb3NlLmFwcGx5QXRFbmRba2V5XSAhPT0gdW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgICBhY3RpdmVQb3Nlcy5zZXQoa2V5LCBbcG9zZSB8fCBERUZBVUxUX0lOSVRJQUxfUE9TRV0pO1xuICAgIHJldHVybiBwb3NlID8gcmVhZFZhbHVlRnJvbVBvc2UocG9zZXNbcG9zZV0sIGtleSwgcHJvcHMpIDogcmVhZFZhbHVlRnJvbVNvdXJjZShrZXksIHByb3BzKTtcbn07XG52YXIgY3JlYXRlVmFsdWVzID0gZnVuY3Rpb24gKHZhbHVlcywgX2EpIHtcbiAgICB2YXIgdXNlclNldFZhbHVlcyA9IF9hLnVzZXJTZXRWYWx1ZXMsXG4gICAgICAgIGNyZWF0ZVZhbHVlID0gX2EuY3JlYXRlVmFsdWUsXG4gICAgICAgIGNvbnZlcnRWYWx1ZSA9IF9hLmNvbnZlcnRWYWx1ZSxcbiAgICAgICAgcmVhZFZhbHVlRnJvbVNvdXJjZSA9IF9hLnJlYWRWYWx1ZUZyb21Tb3VyY2UsXG4gICAgICAgIGluaXRpYWxQb3NlID0gX2EuaW5pdGlhbFBvc2UsXG4gICAgICAgIHBvc2VzID0gX2EucG9zZXMsXG4gICAgICAgIGFjdGl2ZVBvc2VzID0gX2EuYWN0aXZlUG9zZXMsXG4gICAgICAgIHByb3BzID0gX2EucHJvcHM7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKHZhbHVlcy5oYXMoa2V5KSkgcmV0dXJuO1xuICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgIGlmICh1c2VyU2V0VmFsdWVzICYmIHVzZXJTZXRWYWx1ZXNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbnZlcnRWYWx1ZSh1c2VyU2V0VmFsdWVzW2tleV0sIGtleSwgcHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluaXRWYWx1ZSA9IGdldEluaXRpYWxWYWx1ZShwb3Nlcywga2V5LCBpbml0aWFsUG9zZSwgcHJvcHMsIHJlYWRWYWx1ZUZyb21Tb3VyY2UsIGFjdGl2ZVBvc2VzKTtcbiAgICAgICAgICAgIHZhbHVlID0gY3JlYXRlVmFsdWUoaW5pdFZhbHVlLCBrZXksIHByb3BzKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXMuc2V0KGtleSwgdmFsdWUpO1xuICAgIH07XG59O1xudmFyIHNjcmFwZVZhbHVlc0Zyb21Qb3NlID0gZnVuY3Rpb24gKHZhbHVlcywgcHJvcHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgcG9zZSA9IHByb3BzLnBvc2VzW2tleV07XG4gICAgICAgIE9iamVjdC5rZXlzKGdldFBvc2VWYWx1ZXMocG9zZSkpLmZvckVhY2goY3JlYXRlVmFsdWVzKHZhbHVlcywgcHJvcHMpKTtcbiAgICB9O1xufTtcbnZhciBnZXRBbmNlc3RvclZhbHVlID0gZnVuY3Rpb24gKGtleSwgZnJvbVBhcmVudCwgYW5jZXN0b3JzKSB7XG4gICAgaWYgKGZyb21QYXJlbnQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9yc1swXSAmJiBhbmNlc3RvcnNbMF0udmFsdWVzLmdldChrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBmb3VuZEFuY2VzdG9yID0gYW5jZXN0b3JzLmZpbmQoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBfYS5sYWJlbDtcbiAgICAgICAgICAgIHJldHVybiBsYWJlbCA9PT0gZnJvbVBhcmVudDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmb3VuZEFuY2VzdG9yICYmIGZvdW5kQW5jZXN0b3IudmFsdWVzLmdldChrZXkpO1xuICAgIH1cbn07XG52YXIgYmluZFBhc3NpdmVWYWx1ZXMgPSBmdW5jdGlvbiAodmFsdWVzLCBfYSkge1xuICAgIHZhciBwYXNzaXZlID0gX2EucGFzc2l2ZSxcbiAgICAgICAgYW5jZXN0b3JWYWx1ZXMgPSBfYS5hbmNlc3RvclZhbHVlcyxcbiAgICAgICAgY3JlYXRlVmFsdWUgPSBfYS5jcmVhdGVWYWx1ZSxcbiAgICAgICAgcmVhZFZhbHVlID0gX2EucmVhZFZhbHVlLFxuICAgICAgICBwcm9wcyA9IF9hLnByb3BzO1xuICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBfYSA9IHBhc3NpdmVba2V5XSxcbiAgICAgICAgICAgIHZhbHVlS2V5ID0gX2FbMF0sXG4gICAgICAgICAgICBwYXNzaXZlUHJvcHMgPSBfYVsxXSxcbiAgICAgICAgICAgIGZyb21QYXJlbnQgPSBfYVsyXTtcbiAgICAgICAgdmFyIHZhbHVlVG9CaW5kID0gZnJvbVBhcmVudCAmJiBhbmNlc3RvclZhbHVlcy5sZW5ndGggPyBnZXRBbmNlc3RvclZhbHVlKHZhbHVlS2V5LCBmcm9tUGFyZW50LCBhbmNlc3RvclZhbHVlcykgOiB2YWx1ZXMuaGFzKHZhbHVlS2V5KSA/IHZhbHVlcy5nZXQodmFsdWVLZXkpIDogZmFsc2U7XG4gICAgICAgIGlmICghdmFsdWVUb0JpbmQpIHJldHVybjtcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3JlYXRlVmFsdWUocmVhZFZhbHVlKHZhbHVlVG9CaW5kKSwga2V5LCBwcm9wcywge1xuICAgICAgICAgICAgcGFzc2l2ZVBhcmVudEtleTogdmFsdWVLZXksXG4gICAgICAgICAgICBwYXNzaXZlUGFyZW50OiB2YWx1ZVRvQmluZCxcbiAgICAgICAgICAgIHBhc3NpdmVQcm9wczogcGFzc2l2ZVByb3BzXG4gICAgICAgIH0pO1xuICAgICAgICB2YWx1ZXMuc2V0KGtleSwgbmV3VmFsdWUpO1xuICAgIH07XG59O1xudmFyIHNldE5hdGl2ZVZhbHVlcyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBzZXRWYWx1ZU5hdGl2ZSA9IF9hLnNldFZhbHVlTmF0aXZlLFxuICAgICAgICBpbml0aWFsUG9zZSA9IF9hLmluaXRpYWxQb3NlLFxuICAgICAgICBwcm9wcyA9IF9hLnByb3BzLFxuICAgICAgICBwb3NlcyA9IF9hLnBvc2VzO1xuICAgIHZhciB2YWx1ZXNIYXZlU2V0ID0gbmV3IFNldCgpO1xuICAgIHZhciBzZXRWYWx1ZXMgPSBmdW5jdGlvbiAocG9zZSwgcHJvcEtleSkge1xuICAgICAgICBpZiAocG9zZVtwcm9wS2V5XSkge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHBvc2VbcHJvcEtleV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlc0hhdmVTZXQuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzSGF2ZVNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWVOYXRpdmUoa2V5LCByZXNvbHZlUHJvcChwb3NlW3Byb3BLZXldW2tleV0sIHByb3BzKSwgcHJvcHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgZ2V0UG9zZXNUb1NlYXJjaChpbml0aWFsUG9zZSkuZm9yRWFjaChmdW5jdGlvbiAocG9zZUtleSkge1xuICAgICAgICB2YXIgcG9zZSA9IHBvc2VzW3Bvc2VLZXldO1xuICAgICAgICBpZiAocG9zZSkge1xuICAgICAgICAgICAgc2V0VmFsdWVzKHBvc2UsICdhcHBseUF0RW5kJyk7XG4gICAgICAgICAgICBzZXRWYWx1ZXMocG9zZSwgJ2FwcGx5QXRTdGFydCcpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xudmFyIGNyZWF0ZVZhbHVlTWFwID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIHBvc2VzID0gcHJvcHMucG9zZXMsXG4gICAgICAgIHBhc3NpdmUgPSBwcm9wcy5wYXNzaXZlO1xuICAgIHZhciB2YWx1ZXMgPSBuZXcgTWFwKCk7XG4gICAgT2JqZWN0LmtleXMocG9zZXMpLmZvckVhY2goc2NyYXBlVmFsdWVzRnJvbVBvc2UodmFsdWVzLCBwcm9wcykpO1xuICAgIHNldE5hdGl2ZVZhbHVlcyhwcm9wcyk7XG4gICAgaWYgKHBhc3NpdmUpIE9iamVjdC5rZXlzKHBhc3NpdmUpLmZvckVhY2goYmluZFBhc3NpdmVWYWx1ZXModmFsdWVzLCBwcm9wcykpO1xuICAgIHJldHVybiB2YWx1ZXM7XG59O1xuXG52YXIgYXBwbHlEZWZhdWx0VHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChwb3NlLCBrZXksIGRlZmF1bHRUcmFuc2l0aW9ucykge1xuICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcG9zZSksIHsgdHJhbnNpdGlvbjogZGVmYXVsdFRyYW5zaXRpb25zLmhhcyhrZXkpID8gZGVmYXVsdFRyYW5zaXRpb25zLmdldChrZXkpIDogZGVmYXVsdFRyYW5zaXRpb25zLmdldCgnZGVmYXVsdCcpIH0pO1xufTtcbnZhciBnZW5lcmF0ZVRyYW5zaXRpb25zID0gZnVuY3Rpb24gKHBvc2VzLCBkZWZhdWx0VHJhbnNpdGlvbnMpIHtcbiAgICBPYmplY3Qua2V5cyhwb3NlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBwb3NlID0gcG9zZXNba2V5XTtcbiAgICAgICAgaW52YXJpYW50KHR5cGVvZiBwb3NlID09PSAnb2JqZWN0JywgXCJQb3NlICdcIiArIGtleSArIFwiJyBpcyBvZiBpbnZhbGlkIHR5cGUuIEFsbCBwb3NlcyBzaG91bGQgYmUgb2JqZWN0cy5cIik7XG4gICAgICAgIHBvc2VzW2tleV0gPSBwb3NlLnRyYW5zaXRpb24gIT09IHVuZGVmaW5lZCA/IHBvc2UgOiBhcHBseURlZmF1bHRUcmFuc2l0aW9uKHBvc2UsIGtleSwgZGVmYXVsdFRyYW5zaXRpb25zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcG9zZXM7XG59O1xuXG52YXIgc29ydEJ5UmV2ZXJzZVByaW9yaXR5ID0gZnVuY3Rpb24gKHByaW9yaXR5T3JkZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgdmFyIGFQID0gcHJpb3JpdHlPcmRlci5pbmRleE9mKGEpO1xuICAgICAgICB2YXIgYlAgPSBwcmlvcml0eU9yZGVyLmluZGV4T2YoYik7XG4gICAgICAgIGlmIChhUCA9PT0gLTEgJiYgYlAgIT09IC0xKSByZXR1cm4gLTE7XG4gICAgICAgIGlmIChhUCAhPT0gLTEgJiYgYlAgPT09IC0xKSByZXR1cm4gMTtcbiAgICAgICAgcmV0dXJuIGFQIC0gYlA7XG4gICAgfTtcbn07XG5cbnZhciBwb3NlRmFjdG9yeSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBnZXREZWZhdWx0UHJvcHMgPSBfYS5nZXREZWZhdWx0UHJvcHMsXG4gICAgICAgIGRlZmF1bHRUcmFuc2l0aW9ucyA9IF9hLmRlZmF1bHRUcmFuc2l0aW9ucyxcbiAgICAgICAgYmluZE9uQ2hhbmdlID0gX2EuYmluZE9uQ2hhbmdlLFxuICAgICAgICBzdGFydEFjdGlvbiA9IF9hLnN0YXJ0QWN0aW9uLFxuICAgICAgICBzdG9wQWN0aW9uID0gX2Euc3RvcEFjdGlvbixcbiAgICAgICAgcmVhZFZhbHVlID0gX2EucmVhZFZhbHVlLFxuICAgICAgICByZWFkVmFsdWVGcm9tU291cmNlID0gX2EucmVhZFZhbHVlRnJvbVNvdXJjZSxcbiAgICAgICAgcmVzb2x2ZVRhcmdldCA9IF9hLnJlc29sdmVUYXJnZXQsXG4gICAgICAgIHNldFZhbHVlID0gX2Euc2V0VmFsdWUsXG4gICAgICAgIHNldFZhbHVlTmF0aXZlID0gX2Euc2V0VmFsdWVOYXRpdmUsXG4gICAgICAgIGNyZWF0ZVZhbHVlID0gX2EuY3JlYXRlVmFsdWUsXG4gICAgICAgIGNvbnZlcnRWYWx1ZSA9IF9hLmNvbnZlcnRWYWx1ZSxcbiAgICAgICAgZ2V0SW5zdGFudFRyYW5zaXRpb24gPSBfYS5nZXRJbnN0YW50VHJhbnNpdGlvbixcbiAgICAgICAgZ2V0VHJhbnNpdGlvblByb3BzID0gX2EuZ2V0VHJhbnNpdGlvblByb3BzLFxuICAgICAgICBhZGRBY3Rpb25EZWxheSA9IF9hLmFkZEFjdGlvbkRlbGF5LFxuICAgICAgICBzZWxlY3RWYWx1ZVRvUmVhZCA9IF9hLnNlbGVjdFZhbHVlVG9SZWFkLFxuICAgICAgICBjb252ZXJ0VHJhbnNpdGlvbkRlZmluaXRpb24gPSBfYS5jb252ZXJ0VHJhbnNpdGlvbkRlZmluaXRpb24sXG4gICAgICAgIHRyYW5zZm9ybVBvc2UgPSBfYS50cmFuc2Zvcm1Qb3NlLFxuICAgICAgICBwb3NlUHJpb3JpdHkgPSBfYS5wb3NlUHJpb3JpdHksXG4gICAgICAgIGZvcmNlUmVuZGVyID0gX2EuZm9yY2VSZW5kZXIsXG4gICAgICAgIGV4dGVuZEFQSSA9IF9hLmV4dGVuZEFQSTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICB2YXIgcGFyZW50VmFsdWVzID0gY29uZmlnLnBhcmVudFZhbHVlcyxcbiAgICAgICAgICAgIF9hID0gY29uZmlnLmFuY2VzdG9yVmFsdWVzLFxuICAgICAgICAgICAgYW5jZXN0b3JWYWx1ZXMgPSBfYSA9PT0gdm9pZCAwID8gW10gOiBfYTtcbiAgICAgICAgaWYgKHBhcmVudFZhbHVlcykgYW5jZXN0b3JWYWx1ZXMudW5zaGlmdCh7IHZhbHVlczogcGFyZW50VmFsdWVzIH0pO1xuICAgICAgICB2YXIgYWN0aXZlQWN0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdmFyIGFjdGl2ZVBvc2VzID0gbmV3IE1hcCgpO1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBuZXcgU2V0KCk7XG4gICAgICAgIHZhciBwb3NlcyA9IGdlbmVyYXRlVHJhbnNpdGlvbnMoc2VsZWN0UG9zZXMoY29uZmlnKSwgZGVmYXVsdFRyYW5zaXRpb25zKTtcbiAgICAgICAgdmFyIF9iID0gY29uZmlnLnByb3BzLFxuICAgICAgICAgICAgcHJvcHMgPSBfYiA9PT0gdm9pZCAwID8ge30gOiBfYjtcbiAgICAgICAgaWYgKGdldERlZmF1bHRQcm9wcykgcHJvcHMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZ2V0RGVmYXVsdFByb3BzKGNvbmZpZykpLCBwcm9wcyk7XG4gICAgICAgIHZhciBwYXNzaXZlID0gY29uZmlnLnBhc3NpdmUsXG4gICAgICAgICAgICB1c2VyU2V0VmFsdWVzID0gY29uZmlnLnZhbHVlcyxcbiAgICAgICAgICAgIF9jID0gY29uZmlnLmluaXRpYWxQb3NlLFxuICAgICAgICAgICAgaW5pdGlhbFBvc2UgPSBfYyA9PT0gdm9pZCAwID8gREVGQVVMVF9JTklUSUFMX1BPU0UgOiBfYztcbiAgICAgICAgdmFyIHZhbHVlcyA9IGNyZWF0ZVZhbHVlTWFwKHtcbiAgICAgICAgICAgIHBvc2VzOiBwb3NlcyxcbiAgICAgICAgICAgIHBhc3NpdmU6IHBhc3NpdmUsXG4gICAgICAgICAgICBhbmNlc3RvclZhbHVlczogYW5jZXN0b3JWYWx1ZXMsXG4gICAgICAgICAgICByZWFkVmFsdWU6IHJlYWRWYWx1ZSxcbiAgICAgICAgICAgIHNldFZhbHVlTmF0aXZlOiBzZXRWYWx1ZU5hdGl2ZSxcbiAgICAgICAgICAgIGNyZWF0ZVZhbHVlOiBjcmVhdGVWYWx1ZSxcbiAgICAgICAgICAgIGNvbnZlcnRWYWx1ZTogY29udmVydFZhbHVlLFxuICAgICAgICAgICAgcmVhZFZhbHVlRnJvbVNvdXJjZTogcmVhZFZhbHVlRnJvbVNvdXJjZSxcbiAgICAgICAgICAgIHVzZXJTZXRWYWx1ZXM6IHVzZXJTZXRWYWx1ZXMsXG4gICAgICAgICAgICBpbml0aWFsUG9zZTogaW5pdGlhbFBvc2UsXG4gICAgICAgICAgICBhY3RpdmVQb3NlczogYWN0aXZlUG9zZXMsXG4gICAgICAgICAgICBwcm9wczogcHJvcHNcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgICAgIGFjdGl2ZUFjdGlvbnM6IGFjdGl2ZUFjdGlvbnMsXG4gICAgICAgICAgICBhY3RpdmVQb3NlczogYWN0aXZlUG9zZXMsXG4gICAgICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgICB2YWx1ZXM6IHZhbHVlc1xuICAgICAgICB9O1xuICAgICAgICB2YXIgb25DaGFuZ2UgPSBjb25maWcub25DaGFuZ2U7XG4gICAgICAgIGlmIChvbkNoYW5nZSkgT2JqZWN0LmtleXMob25DaGFuZ2UpLmZvckVhY2goYmluZE9uQ2hhbmdlKHZhbHVlcywgb25DaGFuZ2UpKTtcbiAgICAgICAgdmFyIHNldCA9IGNyZWF0ZVBvc2VTZXR0ZXIoe1xuICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgICAgICAgcG9zZXM6IHBvc2VzLFxuICAgICAgICAgICAgZ2V0SW5zdGFudFRyYW5zaXRpb246IGdldEluc3RhbnRUcmFuc2l0aW9uLFxuICAgICAgICAgICAgZ2V0VHJhbnNpdGlvblByb3BzOiBnZXRUcmFuc2l0aW9uUHJvcHMsXG4gICAgICAgICAgICBjb252ZXJ0VHJhbnNpdGlvbkRlZmluaXRpb246IGNvbnZlcnRUcmFuc2l0aW9uRGVmaW5pdGlvbixcbiAgICAgICAgICAgIHNldFZhbHVlOiBzZXRWYWx1ZSxcbiAgICAgICAgICAgIHNldFZhbHVlTmF0aXZlOiBzZXRWYWx1ZU5hdGl2ZSxcbiAgICAgICAgICAgIHN0YXJ0QWN0aW9uOiBzdGFydEFjdGlvbixcbiAgICAgICAgICAgIHN0b3BBY3Rpb246IHN0b3BBY3Rpb24sXG4gICAgICAgICAgICByZXNvbHZlVGFyZ2V0OiByZXNvbHZlVGFyZ2V0LFxuICAgICAgICAgICAgYWRkQWN0aW9uRGVsYXk6IGFkZEFjdGlvbkRlbGF5LFxuICAgICAgICAgICAgdHJhbnNmb3JtUG9zZTogdHJhbnNmb3JtUG9zZSxcbiAgICAgICAgICAgIHBvc2VQcmlvcml0eTogcG9zZVByaW9yaXR5LFxuICAgICAgICAgICAgZm9yY2VSZW5kZXI6IGZvcmNlUmVuZGVyXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgaGFzID0gZnVuY3Rpb24gKHBvc2VOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gISFwb3Nlc1twb3NlTmFtZV07XG4gICAgICAgIH07XG4gICAgICAgIHZhciBhcGkgPSB7XG4gICAgICAgICAgICBzZXQ6IHNldCxcbiAgICAgICAgICAgIHVuc2V0OiBmdW5jdGlvbiAocG9zZU5hbWUsIHBvc2VQcm9wcykge1xuICAgICAgICAgICAgICAgIHZhciBwb3Nlc1RvU2V0ID0gW107XG4gICAgICAgICAgICAgICAgYWN0aXZlUG9zZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWVQb3Nlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zZUluZGV4ID0gdmFsdWVQb3Nlcy5pbmRleE9mKHBvc2VOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2VJbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQb3NlID0gdmFsdWVQb3Nlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVQb3Nlcy5zcGxpY2UocG9zZUluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRQb3NlID0gdmFsdWVQb3Nlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRQb3NlID09PSBjdXJyZW50UG9zZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zZXNUb1NldC5pbmRleE9mKG5leHRQb3NlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2VzVG9TZXQucHVzaChuZXh0UG9zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uc1RvUmVzb2x2ZSA9IHBvc2VzVG9TZXQuc29ydChzb3J0QnlSZXZlcnNlUHJpb3JpdHkocG9zZVByaW9yaXR5KSkubWFwKGZ1bmN0aW9uIChwb3NlVG9TZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldChwb3NlVG9TZXQsIHBvc2VQcm9wcywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmltYXRpb25zVG9SZXNvbHZlLnB1c2goY2hpbGQudW5zZXQocG9zZU5hbWUpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYW5pbWF0aW9uc1RvUmVzb2x2ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAodmFsdWVOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlTmFtZSA/IHNlbGVjdFZhbHVlVG9SZWFkKHZhbHVlcy5nZXQodmFsdWVOYW1lKSkgOiBzZWxlY3RBbGxWYWx1ZXModmFsdWVzLCBzZWxlY3RWYWx1ZVRvUmVhZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFzOiBoYXMsXG4gICAgICAgICAgICBzZXRQcm9wczogZnVuY3Rpb24gKG5ld1Byb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnByb3BzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YXRlLnByb3BzKSwgbmV3UHJvcHMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hZGRDaGlsZDogZnVuY3Rpb24gKGNoaWxkQ29uZmlnLCBmYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gZmFjdG9yeShfX2Fzc2lnbihfX2Fzc2lnbih7IGluaXRpYWxQb3NlOiBpbml0aWFsUG9zZSB9LCBjaGlsZENvbmZpZyksIHsgYW5jZXN0b3JWYWx1ZXM6IF9fc3ByZWFkQXJyYXlzKFt7IGxhYmVsOiBjb25maWcubGFiZWwsIHZhbHVlczogdmFsdWVzIH1dLCBhbmNlc3RvclZhbHVlcykgfSkpO1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuLmFkZChjaGlsZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUNoaWxkOiBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRyZW4uZGVsZXRlKGNoaWxkKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGVhckNoaWxkcmVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5jbGVhcigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb25zLmZvckVhY2goc3RvcEFjdGlvbik7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZEFQSShhcGksIHN0YXRlLCBjb25maWcpO1xuICAgIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwb3NlRmFjdG9yeTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../node_modules/pose-core/dist/pose-core.es.js\n");

/***/ })

}]);