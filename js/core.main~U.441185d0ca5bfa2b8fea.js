/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["main~U"],{

/***/ "../../account/dist/account/css/account-limits.css":
/*!*********************************************************!*\
  !*** ../../account/dist/account/css/account-limits.css ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vYWNjb3VudC9kaXN0L2FjY291bnQvY3NzL2FjY291bnQtbGltaXRzLmNzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vYWNjb3VudC9kaXN0L2FjY291bnQvY3NzL2FjY291bnQtbGltaXRzLmNzcz9lMmVhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../account/dist/account/css/account-limits.css\n");

/***/ }),

/***/ "../../account/dist/account/css/api-token.css":
/*!****************************************************!*\
  !*** ../../account/dist/account/css/api-token.css ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vYWNjb3VudC9kaXN0L2FjY291bnQvY3NzL2FwaS10b2tlbi5jc3MuanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL2FjY291bnQvZGlzdC9hY2NvdW50L2Nzcy9hcGktdG9rZW4uY3NzP2UyZmIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../account/dist/account/css/api-token.css\n");

/***/ }),

/***/ "../../account/dist/account/css/self-exclusion.css":
/*!*********************************************************!*\
  !*** ../../account/dist/account/css/self-exclusion.css ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vYWNjb3VudC9kaXN0L2FjY291bnQvY3NzL3NlbGYtZXhjbHVzaW9uLmNzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vYWNjb3VudC9kaXN0L2FjY291bnQvY3NzL3NlbGYtZXhjbHVzaW9uLmNzcz83NmJjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../account/dist/account/css/self-exclusion.css\n");

/***/ }),

/***/ "../../account/dist/account/css/terms-of-use.css":
/*!*******************************************************!*\
  !*** ../../account/dist/account/css/terms-of-use.css ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vYWNjb3VudC9kaXN0L2FjY291bnQvY3NzL3Rlcm1zLW9mLXVzZS5jc3MuanMiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uL2FjY291bnQvZGlzdC9hY2NvdW50L2Nzcy90ZXJtcy1vZi11c2UuY3NzPzY1NTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../account/dist/account/css/terms-of-use.css\n");

/***/ }),

/***/ "./Utils/Language/index.js":
/*!*********************************!*\
  !*** ./Utils/Language/index.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "changeLanguage": () => (/* reexport safe */ _language__WEBPACK_IMPORTED_MODULE_0__.changeLanguage),
/* harmony export */   "currentLanguage": () => (/* reexport safe */ _language__WEBPACK_IMPORTED_MODULE_0__.currentLanguage),
/* harmony export */   "getURL": () => (/* reexport safe */ _language__WEBPACK_IMPORTED_MODULE_0__.getURL)
/* harmony export */ });
/* harmony import */ var _language__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./language */ "./Utils/Language/language.js");


/***/ }),

/***/ "./Utils/Language/language.js":
/*!************************************!*\
  !*** ./Utils/Language/language.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"currentLanguage\": () => (/* binding */ currentLanguage),\n/* harmony export */   \"getURL\": () => (/* binding */ getURL),\n/* harmony export */   \"changeLanguage\": () => (/* binding */ changeLanguage)\n/* harmony export */ });\n/* harmony import */ var Services_ws_methods__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! Services/ws-methods */ \"./Services/ws-methods.js\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\n/* harmony import */ var _common_base_socket_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! _common/base/socket_cache */ \"./_common/base/socket_cache.js\");\n/* harmony import */ var _common_base_socket_cache__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_common_base_socket_cache__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _common_base_socket_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! _common/base/socket_base */ \"./_common/base/socket_base.js\");\n/* harmony import */ var _common_base_socket_base__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_common_base_socket_base__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nvar currentLanguage = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.getLanguage)();\nvar getURL = function getURL(lang) {\n  return (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.urlForLanguage)(lang);\n};\nvar changeLanguage = function changeLanguage(key, changeCurrentLanguage) {\n  var request = {\n    set_settings: 1,\n    preferred_language: key\n  };\n  _common_base_socket_cache__WEBPACK_IMPORTED_MODULE_3__.clear();\n\n  if (key === 'EN') {\n    window.localStorage.setItem('i18n_language', key);\n  }\n\n  Services_ws_methods__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setSettings(request).then(function () {\n    var new_url = new URL(window.location.href);\n\n    if (key === 'EN') {\n      new_url.searchParams[\"delete\"]('lang');\n    } else {\n      new_url.searchParams.set('lang', key);\n    }\n\n    window.history.pushState({\n      path: new_url.toString()\n    }, '', new_url.toString());\n    (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.changeLanguage)(key, function () {\n      changeCurrentLanguage(key);\n      _common_base_socket_base__WEBPACK_IMPORTED_MODULE_4___default().closeAndOpenNewConnection(key);\n    });\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9VdGlscy9MYW5ndWFnZS9sYW5ndWFnZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBOztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vVXRpbHMvTGFuZ3VhZ2UvbGFuZ3VhZ2UuanM/Zjk2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV1MgZnJvbSAnU2VydmljZXMvd3MtbWV0aG9kcyc7XG5pbXBvcnQgeyB1cmxGb3JMYW5ndWFnZSB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuXG5pbXBvcnQgeyBnZXRMYW5ndWFnZSwgY2hhbmdlTGFuZ3VhZ2UgYXMgY2hhbmdlTGFuZ3VhZ2VUcmFuc2xhdGlvbiB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0ICogYXMgU29ja2V0Q2FjaGUgZnJvbSAnX2NvbW1vbi9iYXNlL3NvY2tldF9jYWNoZSc7XG5pbXBvcnQgQmluYXJ5U29ja2V0IGZyb20gJ19jb21tb24vYmFzZS9zb2NrZXRfYmFzZSc7XG5cbmV4cG9ydCBjb25zdCBjdXJyZW50TGFuZ3VhZ2UgPSBnZXRMYW5ndWFnZSgpO1xuXG5leHBvcnQgY29uc3QgZ2V0VVJMID0gbGFuZyA9PiB1cmxGb3JMYW5ndWFnZShsYW5nKTtcblxuZXhwb3J0IGNvbnN0IGNoYW5nZUxhbmd1YWdlID0gKGtleSwgY2hhbmdlQ3VycmVudExhbmd1YWdlKSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgc2V0X3NldHRpbmdzOiAxLFxuICAgICAgICBwcmVmZXJyZWRfbGFuZ3VhZ2U6IGtleSxcbiAgICB9O1xuICAgIFNvY2tldENhY2hlLmNsZWFyKCk7XG4gICAgaWYgKGtleSA9PT0gJ0VOJykge1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2kxOG5fbGFuZ3VhZ2UnLCBrZXkpO1xuICAgIH1cblxuICAgIFdTLnNldFNldHRpbmdzKHJlcXVlc3QpLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdfdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgICAgIGlmIChrZXkgPT09ICdFTicpIHtcbiAgICAgICAgICAgIG5ld191cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZSgnbGFuZycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3X3VybC5zZWFyY2hQYXJhbXMuc2V0KCdsYW5nJywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoeyBwYXRoOiBuZXdfdXJsLnRvU3RyaW5nKCkgfSwgJycsIG5ld191cmwudG9TdHJpbmcoKSk7XG4gICAgICAgIGNoYW5nZUxhbmd1YWdlVHJhbnNsYXRpb24oa2V5LCAoKSA9PiB7XG4gICAgICAgICAgICBjaGFuZ2VDdXJyZW50TGFuZ3VhZ2Uoa2V5KTtcbiAgICAgICAgICAgIEJpbmFyeVNvY2tldC5jbG9zZUFuZE9wZW5OZXdDb25uZWN0aW9uKGtleSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Utils/Language/language.js\n");

/***/ }),

/***/ "./Utils/Validator/errors.js":
/*!***********************************!*\
  !*** ./Utils/Validator/errors.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar Errors = /*#__PURE__*/function () {\n  function Errors() {\n    _classCallCheck(this, Errors);\n\n    this.errors = {};\n  }\n\n  _createClass(Errors, [{\n    key: \"add\",\n    value: function add(attribute, message) {\n      if (!this.has(attribute)) {\n        this.errors[attribute] = [];\n      }\n\n      if (this.errors[attribute].indexOf(message) === -1) {\n        this.errors[attribute].push(message);\n      }\n    }\n  }, {\n    key: \"all\",\n    value: function all() {\n      return this.errors;\n    }\n  }, {\n    key: \"first\",\n    value: function first(attribute) {\n      if (this.has(attribute)) {\n        return this.errors[attribute][0];\n      }\n\n      return null;\n    }\n  }, {\n    key: \"get\",\n    value: function get(attribute) {\n      if (this.has(attribute)) {\n        return this.errors[attribute];\n      }\n\n      return [];\n    }\n  }, {\n    key: \"has\",\n    value: function has(attribute) {\n      return Object.prototype.hasOwnProperty.call(this.errors, attribute);\n    }\n  }]);\n\n  return Errors;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Errors);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9VdGlscy9WYWxpZGF0b3IvZXJyb3JzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7O0FBQ0E7QUFDQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7Ozs7O0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9VdGlscy9WYWxpZGF0b3IvZXJyb3JzLmpzP2ZjNGYiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRXJyb3JzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSB7fTtcbiAgICB9XG5cbiAgICBhZGQoYXR0cmlidXRlLCBtZXNzYWdlKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXMoYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgdGhpcy5lcnJvcnNbYXR0cmlidXRlXSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZXJyb3JzW2F0dHJpYnV0ZV0uaW5kZXhPZihtZXNzYWdlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JzW2F0dHJpYnV0ZV0ucHVzaChtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzO1xuICAgIH1cblxuICAgIGZpcnN0KGF0dHJpYnV0ZSkge1xuICAgICAgICBpZiAodGhpcy5oYXMoYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzW2F0dHJpYnV0ZV1bMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZ2V0KGF0dHJpYnV0ZSkge1xuICAgICAgICBpZiAodGhpcy5oYXMoYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzW2F0dHJpYnV0ZV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgaGFzKGF0dHJpYnV0ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZXJyb3JzLCBhdHRyaWJ1dGUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXJyb3JzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Utils/Validator/errors.js\n");

/***/ }),

/***/ "./Utils/Validator/index.js":
/*!**********************************!*\
  !*** ./Utils/Validator/index.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport safe */ _validator__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _validator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validator */ \"./Utils/Validator/validator.js\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9VdGlscy9WYWxpZGF0b3IvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1V0aWxzL1ZhbGlkYXRvci9pbmRleC5qcz85N2M4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZyb20gJy4vdmFsaWRhdG9yJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Utils/Validator/index.js\n");

/***/ }),

/***/ "./Utils/Validator/validator.js":
/*!**************************************!*\
  !*** ./Utils/Validator/validator.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _common_utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! _common/utility */ \"./_common/utility.js\");\n/* harmony import */ var _common_utility__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_common_utility__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errors */ \"./Utils/Validator/errors.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n\n\n\n\nvar Validator = /*#__PURE__*/function () {\n  function Validator(input, rules) {\n    var store = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    _classCallCheck(this, Validator);\n\n    this.input = input;\n    this.rules = rules;\n    this.store = store;\n    this.errors = new _errors__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this.error_count = 0;\n  }\n  /**\n   * Add failure and error message for given rule\n   *\n   * @param {string} attribute\n   * @param {object} rule\n   */\n\n\n  _createClass(Validator, [{\n    key: \"addFailure\",\n    value: function addFailure(attribute, rule) {\n      var message = rule.options.message || (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getPreBuildDVRs)()[rule.name].message();\n\n      if (rule.name === 'length') {\n        message = (0,_common_utility__WEBPACK_IMPORTED_MODULE_1__.template)(message, [rule.options.min === rule.options.max ? rule.options.min : \"\".concat(rule.options.min, \"-\").concat(rule.options.max)]);\n      } else if (rule.name === 'min') {\n        message = (0,_common_utility__WEBPACK_IMPORTED_MODULE_1__.template)(message, [rule.options.min]);\n      } else if (rule.name === 'not_equal') {\n        message = (0,_common_utility__WEBPACK_IMPORTED_MODULE_1__.template)(message, [rule.options.name1, rule.options.name2]);\n      }\n\n      this.errors.add(attribute, message);\n      this.error_count++;\n    }\n    /**\n     * Runs validator\n     *\n     * @return {boolean} Whether it passes; true = passes, false = fails\n     */\n\n  }, {\n    key: \"check\",\n    value: function check() {\n      var _this = this;\n\n      Object.keys(this.input).forEach(function (attribute) {\n        if (!Object.prototype.hasOwnProperty.call(_this.rules, attribute)) {\n          return;\n        }\n\n        _this.rules[attribute].forEach(function (rule) {\n          var ruleObject = Validator.getRuleObject(rule);\n\n          if (!ruleObject.validator && typeof ruleObject.validator !== 'function') {\n            return;\n          }\n\n          if (ruleObject.options.condition && !ruleObject.options.condition(_this.store)) {\n            return;\n          }\n\n          if (_this.input[attribute] === '' && ruleObject.name !== 'req') {\n            return;\n          }\n\n          var is_valid = ruleObject.validator(_this.input[attribute], ruleObject.options, _this.store, _this.input);\n\n          if (!is_valid) {\n            _this.addFailure(attribute, ruleObject);\n          }\n        });\n      });\n      return !this.error_count;\n    }\n    /**\n     * Determine if validation passes\n     *\n     * @return {boolean}\n     */\n\n  }, {\n    key: \"isPassed\",\n    value: function isPassed() {\n      return this.check();\n    }\n    /**\n     * Converts the rule array to an object\n     *\n     * @param {array} rule\n     * @return {object}\n     */\n\n  }], [{\n    key: \"getRuleObject\",\n    value: function getRuleObject(rule) {\n      var is_rule_string = typeof rule === 'string';\n      var rule_object = {\n        name: is_rule_string ? rule : rule[0],\n        options: is_rule_string ? {} : rule[1] || {}\n      };\n      rule_object.validator = rule_object.name === 'custom' ? rule[1].func : (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getPreBuildDVRs)()[rule_object.name].func;\n      return rule_object;\n    }\n  }]);\n\n  return Validator;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Validator);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9VdGlscy9WYWxpZGF0b3IvdmFsaWRhdG9yLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTs7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBRUE7QUFDQTs7Ozs7O0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9VdGlscy9WYWxpZGF0b3IvdmFsaWRhdG9yLmpzP2U3ZmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0UHJlQnVpbGREVlJzIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgeyB0ZW1wbGF0ZSB9IGZyb20gJ19jb21tb24vdXRpbGl0eSc7XG5pbXBvcnQgRXJyb3IgZnJvbSAnLi9lcnJvcnMnO1xuXG5jbGFzcyBWYWxpZGF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGlucHV0LCBydWxlcywgc3RvcmUgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5ydWxlcyA9IHJ1bGVzO1xuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gbmV3IEVycm9yKCk7XG5cbiAgICAgICAgdGhpcy5lcnJvcl9jb3VudCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGZhaWx1cmUgYW5kIGVycm9yIG1lc3NhZ2UgZm9yIGdpdmVuIHJ1bGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcnVsZVxuICAgICAqL1xuICAgIGFkZEZhaWx1cmUoYXR0cmlidXRlLCBydWxlKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gcnVsZS5vcHRpb25zLm1lc3NhZ2UgfHwgZ2V0UHJlQnVpbGREVlJzKClbcnVsZS5uYW1lXS5tZXNzYWdlKCk7XG4gICAgICAgIGlmIChydWxlLm5hbWUgPT09ICdsZW5ndGgnKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGVtcGxhdGUobWVzc2FnZSwgW1xuICAgICAgICAgICAgICAgIHJ1bGUub3B0aW9ucy5taW4gPT09IHJ1bGUub3B0aW9ucy5tYXggPyBydWxlLm9wdGlvbnMubWluIDogYCR7cnVsZS5vcHRpb25zLm1pbn0tJHtydWxlLm9wdGlvbnMubWF4fWAsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfSBlbHNlIGlmIChydWxlLm5hbWUgPT09ICdtaW4nKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGVtcGxhdGUobWVzc2FnZSwgW3J1bGUub3B0aW9ucy5taW5dKTtcbiAgICAgICAgfSBlbHNlIGlmIChydWxlLm5hbWUgPT09ICdub3RfZXF1YWwnKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGVtcGxhdGUobWVzc2FnZSwgW3J1bGUub3B0aW9ucy5uYW1lMSwgcnVsZS5vcHRpb25zLm5hbWUyXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lcnJvcnMuYWRkKGF0dHJpYnV0ZSwgbWVzc2FnZSk7XG4gICAgICAgIHRoaXMuZXJyb3JfY291bnQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSdW5zIHZhbGlkYXRvclxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBpdCBwYXNzZXM7IHRydWUgPSBwYXNzZXMsIGZhbHNlID0gZmFpbHNcbiAgICAgKi9cbiAgICBjaGVjaygpIHtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5pbnB1dCkuZm9yRWFjaChhdHRyaWJ1dGUgPT4ge1xuICAgICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5ydWxlcywgYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ydWxlc1thdHRyaWJ1dGVdLmZvckVhY2gocnVsZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcnVsZU9iamVjdCA9IFZhbGlkYXRvci5nZXRSdWxlT2JqZWN0KHJ1bGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFydWxlT2JqZWN0LnZhbGlkYXRvciAmJiB0eXBlb2YgcnVsZU9iamVjdC52YWxpZGF0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChydWxlT2JqZWN0Lm9wdGlvbnMuY29uZGl0aW9uICYmICFydWxlT2JqZWN0Lm9wdGlvbnMuY29uZGl0aW9uKHRoaXMuc3RvcmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dFthdHRyaWJ1dGVdID09PSAnJyAmJiBydWxlT2JqZWN0Lm5hbWUgIT09ICdyZXEnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpc192YWxpZCA9IHJ1bGVPYmplY3QudmFsaWRhdG9yKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0W2F0dHJpYnV0ZV0sXG4gICAgICAgICAgICAgICAgICAgIHJ1bGVPYmplY3Qub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzX3ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRmFpbHVyZShhdHRyaWJ1dGUsIHJ1bGVPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICF0aGlzLmVycm9yX2NvdW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSBpZiB2YWxpZGF0aW9uIHBhc3Nlc1xuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1Bhc3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2soKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgcnVsZSBhcnJheSB0byBhbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YXJyYXl9IHJ1bGVcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGdldFJ1bGVPYmplY3QocnVsZSkge1xuICAgICAgICBjb25zdCBpc19ydWxlX3N0cmluZyA9IHR5cGVvZiBydWxlID09PSAnc3RyaW5nJztcbiAgICAgICAgY29uc3QgcnVsZV9vYmplY3QgPSB7XG4gICAgICAgICAgICBuYW1lOiBpc19ydWxlX3N0cmluZyA/IHJ1bGUgOiBydWxlWzBdLFxuICAgICAgICAgICAgb3B0aW9uczogaXNfcnVsZV9zdHJpbmcgPyB7fSA6IHJ1bGVbMV0gfHwge30sXG4gICAgICAgIH07XG5cbiAgICAgICAgcnVsZV9vYmplY3QudmFsaWRhdG9yID0gcnVsZV9vYmplY3QubmFtZSA9PT0gJ2N1c3RvbScgPyBydWxlWzFdLmZ1bmMgOiBnZXRQcmVCdWlsZERWUnMoKVtydWxlX29iamVjdC5uYW1lXS5mdW5jO1xuXG4gICAgICAgIHJldHVybiBydWxlX29iamVjdDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZhbGlkYXRvcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Utils/Validator/validator.js\n");

/***/ }),

/***/ "./Utils/pwa/index.js":
/*!****************************!*\
  !*** ./Utils/pwa/index.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport safe */ _register_service_worker__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   \"unregister\": () => (/* reexport safe */ _register_service_worker__WEBPACK_IMPORTED_MODULE_0__.unregister)\n/* harmony export */ });\n/* harmony import */ var _register_service_worker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./register-service-worker */ \"./Utils/pwa/register-service-worker.js\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9VdGlscy9wd2EvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1V0aWxzL3B3YS9pbmRleC5qcz9hMzNjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZyb20gJy4vcmVnaXN0ZXItc2VydmljZS13b3JrZXInO1xuZXhwb3J0IHsgdW5yZWdpc3RlciB9IGZyb20gJy4vcmVnaXN0ZXItc2VydmljZS13b3JrZXInO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Utils/pwa/index.js\n");

/***/ }),

/***/ "./Utils/pwa/register-service-worker.js":
/*!**********************************************!*\
  !*** ./Utils/pwa/register-service-worker.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ register),\n/* harmony export */   \"unregister\": () => (/* binding */ unregister)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n\nvar EVERY_HOUR = 3600000; // 1000 * 60 * 60\n\nvar interval_id;\n\nfunction refreshOnUpdate() {\n  return function (swRegistrationObject) {\n    swRegistrationObject.onupdatefound = function () {\n      var updatingWorker = swRegistrationObject.installing;\n\n      updatingWorker.onstatechange = function () {\n        if (updatingWorker.state === 'installed' && navigator.serviceWorker.controller) {\n          // eslint-disable-next-line no-console\n          console.log('New version is found, refreshing the page...');\n          clearInterval(interval_id);\n        }\n      };\n    };\n  };\n}\n\nfunction register() {\n  // Register the service worker\n  if (\n  /* process.env.NODE_ENV === 'production' && */\n  'serviceWorker' in navigator) {\n    window.addEventListener('load', function () {\n      var sw_url = \"\".concat(window.location.origin).concat((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getUrlBase)('/service-worker.js'));\n      navigator.serviceWorker.register(sw_url).then(function (registration) {\n        interval_id = setInterval(function () {\n          registration.update().then(refreshOnUpdate)[\"catch\"](function (error) {\n            console.error('Error during service worker update:', error); // eslint-disable-line no-console\n          });\n        }, EVERY_HOUR);\n\n        registration.onupdatefound = function () {\n          var installingWorker = registration.installing;\n\n          installingWorker.onstatechange = function () {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller && performance.now() > EVERY_HOUR) {\n                // User's first visit:\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a \"New content is\n                // available; please refresh.\" message in your web app.\n                var new_version_received = new Event('UpdateAvailable');\n                document.dispatchEvent(new_version_received);\n              } else {// At this point, everything has been precached.\n                // It's the perfect time to display a\n                // \"Content is cached for offline use.\" message.\n              }\n            }\n          };\n        };\n      })[\"catch\"](function (error) {\n        console.error('Error during service worker registration:', error, sw_url); // eslint-disable-line no-console\n      });\n    });\n  }\n}\nfunction unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(function (registration) {\n      registration.unregister();\n    });\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9VdGlscy9wd2EvcmVnaXN0ZXItc2VydmljZS13b3JrZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1V0aWxzL3B3YS9yZWdpc3Rlci1zZXJ2aWNlLXdvcmtlci5qcz84YTdhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFVybEJhc2UgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcblxuY29uc3QgRVZFUllfSE9VUiA9IDM2MDAwMDA7IC8vIDEwMDAgKiA2MCAqIDYwXG5cbmxldCBpbnRlcnZhbF9pZDtcblxuZnVuY3Rpb24gcmVmcmVzaE9uVXBkYXRlKCkge1xuICAgIHJldHVybiBzd1JlZ2lzdHJhdGlvbk9iamVjdCA9PiB7XG4gICAgICAgIHN3UmVnaXN0cmF0aW9uT2JqZWN0Lm9udXBkYXRlZm91bmQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGluZ1dvcmtlciA9IHN3UmVnaXN0cmF0aW9uT2JqZWN0Lmluc3RhbGxpbmc7XG4gICAgICAgICAgICB1cGRhdGluZ1dvcmtlci5vbnN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh1cGRhdGluZ1dvcmtlci5zdGF0ZSA9PT0gJ2luc3RhbGxlZCcgJiYgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTmV3IHZlcnNpb24gaXMgZm91bmQsIHJlZnJlc2hpbmcgdGhlIHBhZ2UuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbF9pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZWdpc3RlcigpIHtcbiAgICAvLyBSZWdpc3RlciB0aGUgc2VydmljZSB3b3JrZXJcbiAgICBpZiAoLyogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyAmJiAqLyAnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3dfdXJsID0gYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0ke2dldFVybEJhc2UoJy9zZXJ2aWNlLXdvcmtlci5qcycpfWA7XG4gICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlclxuICAgICAgICAgICAgICAgIC5yZWdpc3Rlcihzd191cmwpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWxfaWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZWZyZXNoT25VcGRhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIHNlcnZpY2Ugd29ya2VyIHVwZGF0ZTonLCBlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCBFVkVSWV9IT1VSKTtcblxuICAgICAgICAgICAgICAgICAgICByZWdpc3RyYXRpb24ub251cGRhdGVmb3VuZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbGxpbmdXb3JrZXIgPSByZWdpc3RyYXRpb24uaW5zdGFsbGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbGxpbmdXb3JrZXIub25zdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFsbGluZ1dvcmtlci5zdGF0ZSA9PT0gJ2luc3RhbGxlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIgJiYgcGVyZm9ybWFuY2Uubm93KCkgPiBFVkVSWV9IT1VSKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2VyJ3MgZmlyc3QgdmlzaXQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB0aGUgb2xkIGNvbnRlbnQgd2lsbCBoYXZlIGJlZW4gcHVyZ2VkIGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGZyZXNoIGNvbnRlbnQgd2lsbCBoYXZlIGJlZW4gYWRkZWQgdG8gdGhlIGNhY2hlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXQncyB0aGUgcGVyZmVjdCB0aW1lIHRvIGRpc3BsYXkgYSBcIk5ldyBjb250ZW50IGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhdmFpbGFibGU7IHBsZWFzZSByZWZyZXNoLlwiIG1lc3NhZ2UgaW4geW91ciB3ZWIgYXBwLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3X3ZlcnNpb25fcmVjZWl2ZWQgPSBuZXcgRXZlbnQoJ1VwZGF0ZUF2YWlsYWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXdfdmVyc2lvbl9yZWNlaXZlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCBldmVyeXRoaW5nIGhhcyBiZWVuIHByZWNhY2hlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEl0J3MgdGhlIHBlcmZlY3QgdGltZSB0byBkaXNwbGF5IGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwiQ29udGVudCBpcyBjYWNoZWQgZm9yIG9mZmxpbmUgdXNlLlwiIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbjonLCBlcnJvciwgc3dfdXJsKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucmVnaXN0ZXIoKSB7XG4gICAgaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVhZHkudGhlbihyZWdpc3RyYXRpb24gPT4ge1xuICAgICAgICAgICAgcmVnaXN0cmF0aW9uLnVucmVnaXN0ZXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Utils/pwa/register-service-worker.js\n");

/***/ }),

/***/ "./_common/base/api_middleware.js":
/*!****************************************!*\
  !*** ./_common/base/api_middleware.js ***!
  \****************************************/
/***/ ((module) => {

eval("function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar APIMiddleware = /*#__PURE__*/function () {\n  function APIMiddleware(config) {\n    _classCallCheck(this, APIMiddleware);\n\n    this.config = config;\n    this.debounced_calls = {};\n  }\n\n  _createClass(APIMiddleware, [{\n    key: \"sendWillBeCalled\",\n    value: function sendWillBeCalled(_ref) {\n      var _ref$args = _slicedToArray(_ref.args, 1),\n          request = _ref$args[0];\n\n      this.config.wsEvent('send');\n      var key = requestToKey(request);\n\n      if (key in this.debounced_calls) {\n        return this.debounced_calls[key];\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"sendIsCalled\",\n    value: function sendIsCalled(_ref2) {\n      var _this = this;\n\n      var response_promise = _ref2.response_promise,\n          _ref2$args = _slicedToArray(_ref2.args, 2),\n          request = _ref2$args[0],\n          _ref2$args$ = _ref2$args[1],\n          options = _ref2$args$ === void 0 ? {} : _ref2$args$;\n\n      var promise = promiseRejectToResolve(response_promise);\n      var key = requestToKey(request);\n\n      if (options.callback) {\n        promise.then(options.callback);\n      }\n\n      this.debounced_calls[key] = promise;\n      promise.then(function () {\n        delete _this.debounced_calls[key];\n      });\n      return promise;\n    }\n  }]);\n\n  return APIMiddleware;\n}(); // Delegate error handling to the callback\n\n\nfunction promiseRejectToResolve(promise) {\n  return new Promise(function (r) {\n    promise.then(r, r);\n  });\n}\n\nfunction requestToKey(request) {\n  var request_copy = _objectSpread({}, request);\n\n  delete request_copy.passthrough;\n  delete request_copy.req_id;\n  delete request_copy.subscribe;\n  return JSON.stringify(request_copy);\n}\n\nmodule.exports = APIMiddleware;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fY29tbW9uL2Jhc2UvYXBpX21pZGRsZXdhcmUuanM/MzYzOCJdLCJuYW1lcyI6WyJBUElNaWRkbGV3YXJlIiwiY29uZmlnIiwiZGVib3VuY2VkX2NhbGxzIiwiYXJncyIsInJlcXVlc3QiLCJ3c0V2ZW50Iiwia2V5IiwicmVxdWVzdFRvS2V5IiwidW5kZWZpbmVkIiwicmVzcG9uc2VfcHJvbWlzZSIsIm9wdGlvbnMiLCJwcm9taXNlIiwicHJvbWlzZVJlamVjdFRvUmVzb2x2ZSIsImNhbGxiYWNrIiwidGhlbiIsIlByb21pc2UiLCJyIiwicmVxdWVzdF9jb3B5IiwicGFzc3Rocm91Z2giLCJyZXFfaWQiLCJzdWJzY3JpYmUiLCJKU09OIiwic3RyaW5naWZ5IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBQU1BLGE7QUFDRix5QkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUNoQixTQUFLQSxNQUFMLEdBQWNBLE1BQWQ7QUFDQSxTQUFLQyxlQUFMLEdBQXVCLEVBQXZCO0FBQ0g7Ozs7V0FFRCxnQ0FBc0M7QUFBQSwwQ0FBbkJDLElBQW1CO0FBQUEsVUFBWkMsT0FBWTs7QUFDbEMsV0FBS0gsTUFBTCxDQUFZSSxPQUFaLENBQW9CLE1BQXBCO0FBRUEsVUFBTUMsR0FBRyxHQUFHQyxZQUFZLENBQUNILE9BQUQsQ0FBeEI7O0FBRUEsVUFBSUUsR0FBRyxJQUFJLEtBQUtKLGVBQWhCLEVBQWlDO0FBQzdCLGVBQU8sS0FBS0EsZUFBTCxDQUFxQkksR0FBckIsQ0FBUDtBQUNIOztBQUVELGFBQU9FLFNBQVA7QUFDSDs7O1dBRUQsNkJBQWtFO0FBQUE7O0FBQUEsVUFBbkRDLGdCQUFtRCxTQUFuREEsZ0JBQW1EO0FBQUEsNENBQWpDTixJQUFpQztBQUFBLFVBQTFCQyxPQUEwQjtBQUFBO0FBQUEsVUFBakJNLE9BQWlCLDRCQUFQLEVBQU87O0FBQzlELFVBQU1DLE9BQU8sR0FBR0Msc0JBQXNCLENBQUNILGdCQUFELENBQXRDO0FBRUEsVUFBTUgsR0FBRyxHQUFHQyxZQUFZLENBQUNILE9BQUQsQ0FBeEI7O0FBRUEsVUFBSU0sT0FBTyxDQUFDRyxRQUFaLEVBQXNCO0FBQ2xCRixRQUFBQSxPQUFPLENBQUNHLElBQVIsQ0FBYUosT0FBTyxDQUFDRyxRQUFyQjtBQUNIOztBQUVELFdBQUtYLGVBQUwsQ0FBcUJJLEdBQXJCLElBQTRCSyxPQUE1QjtBQUVBQSxNQUFBQSxPQUFPLENBQUNHLElBQVIsQ0FBYSxZQUFNO0FBQ2YsZUFBTyxLQUFJLENBQUNaLGVBQUwsQ0FBcUJJLEdBQXJCLENBQVA7QUFDSCxPQUZEO0FBSUEsYUFBT0ssT0FBUDtBQUNIOzs7O0tBR0w7OztBQUNBLFNBQVNDLHNCQUFULENBQWdDRCxPQUFoQyxFQUF5QztBQUNyQyxTQUFPLElBQUlJLE9BQUosQ0FBWSxVQUFBQyxDQUFDLEVBQUk7QUFDcEJMLElBQUFBLE9BQU8sQ0FBQ0csSUFBUixDQUFhRSxDQUFiLEVBQWdCQSxDQUFoQjtBQUNILEdBRk0sQ0FBUDtBQUdIOztBQUVELFNBQVNULFlBQVQsQ0FBc0JILE9BQXRCLEVBQStCO0FBQzNCLE1BQU1hLFlBQVkscUJBQVFiLE9BQVIsQ0FBbEI7O0FBRUEsU0FBT2EsWUFBWSxDQUFDQyxXQUFwQjtBQUNBLFNBQU9ELFlBQVksQ0FBQ0UsTUFBcEI7QUFDQSxTQUFPRixZQUFZLENBQUNHLFNBQXBCO0FBRUEsU0FBT0MsSUFBSSxDQUFDQyxTQUFMLENBQWVMLFlBQWYsQ0FBUDtBQUNIOztBQUVETSxNQUFNLENBQUNDLE9BQVAsR0FBaUJ4QixhQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEFQSU1pZGRsZXdhcmUge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5kZWJvdW5jZWRfY2FsbHMgPSB7fTtcbiAgICB9XG5cbiAgICBzZW5kV2lsbEJlQ2FsbGVkKHsgYXJnczogW3JlcXVlc3RdIH0pIHtcbiAgICAgICAgdGhpcy5jb25maWcud3NFdmVudCgnc2VuZCcpO1xuXG4gICAgICAgIGNvbnN0IGtleSA9IHJlcXVlc3RUb0tleShyZXF1ZXN0KTtcblxuICAgICAgICBpZiAoa2V5IGluIHRoaXMuZGVib3VuY2VkX2NhbGxzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWJvdW5jZWRfY2FsbHNba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgc2VuZElzQ2FsbGVkKHsgcmVzcG9uc2VfcHJvbWlzZSwgYXJnczogW3JlcXVlc3QsIG9wdGlvbnMgPSB7fV0gfSkge1xuICAgICAgICBjb25zdCBwcm9taXNlID0gcHJvbWlzZVJlamVjdFRvUmVzb2x2ZShyZXNwb25zZV9wcm9taXNlKTtcblxuICAgICAgICBjb25zdCBrZXkgPSByZXF1ZXN0VG9LZXkocmVxdWVzdCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHByb21pc2UudGhlbihvcHRpb25zLmNhbGxiYWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVib3VuY2VkX2NhbGxzW2tleV0gPSBwcm9taXNlO1xuXG4gICAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5kZWJvdW5jZWRfY2FsbHNba2V5XTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxufVxuXG4vLyBEZWxlZ2F0ZSBlcnJvciBoYW5kbGluZyB0byB0aGUgY2FsbGJhY2tcbmZ1bmN0aW9uIHByb21pc2VSZWplY3RUb1Jlc29sdmUocHJvbWlzZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyID0+IHtcbiAgICAgICAgcHJvbWlzZS50aGVuKHIsIHIpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiByZXF1ZXN0VG9LZXkocmVxdWVzdCkge1xuICAgIGNvbnN0IHJlcXVlc3RfY29weSA9IHsgLi4ucmVxdWVzdCB9O1xuXG4gICAgZGVsZXRlIHJlcXVlc3RfY29weS5wYXNzdGhyb3VnaDtcbiAgICBkZWxldGUgcmVxdWVzdF9jb3B5LnJlcV9pZDtcbiAgICBkZWxldGUgcmVxdWVzdF9jb3B5LnN1YnNjcmliZTtcblxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0X2NvcHkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFQSU1pZGRsZXdhcmU7XG4iXSwiZmlsZSI6Ii4vX2NvbW1vbi9iYXNlL2FwaV9taWRkbGV3YXJlLmpzLmpzIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./_common/base/api_middleware.js\n");

/***/ }),

/***/ "./_common/base/network_monitor_base.js":
/*!**********************************************!*\
  !*** ./_common/base/network_monitor_base.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\"),\n    localize = _require.localize;\n\nvar BinarySocket = __webpack_require__(/*! ./socket_base */ \"./_common/base/socket_base.js\");\n/*\n * Monitors the network status and initialises the WebSocket connection\n * 1. online : check the WS status (init/send: blink after timeout, open/message: online)\n * 2. offline: it is offline\n */\n\n\nvar NetworkMonitorBase = function () {\n  var status_config = {\n    online: {\n      \"class\": 'online',\n      tooltip: localize('Online')\n    },\n    offline: {\n      \"class\": 'offline',\n      tooltip: localize('Offline')\n    },\n    blinking: {\n      \"class\": 'blinker',\n      tooltip: localize('Connecting to server')\n    }\n  };\n  var setNetworkStatus;\n\n  var init = function init(socket_general_functions, fncUpdateUI, client_store) {\n    var last_status, last_is_online;\n\n    setNetworkStatus = function setNetworkStatus(status) {\n      var is_online = isOnline();\n\n      if (status !== last_status || is_online !== last_is_online) {\n        last_status = status;\n        last_is_online = is_online;\n        fncUpdateUI(status_config[status], is_online);\n      }\n    };\n\n    if ('onLine' in navigator) {\n      window.addEventListener('online', function () {\n        setNetworkStatus('blinking');\n        reconnectAfter({\n          timeout: 500\n        });\n      });\n      window.addEventListener('offline', function () {\n        BinarySocket.close();\n        setNetworkStatus('offline');\n      });\n    } else {\n      // default to always online and fallback to WS checks\n      navigator.onLine = true;\n    }\n\n    if (isOnline()) {\n      var ws_config = _objectSpread({\n        wsEvent: wsEvent,\n        isOnline: isOnline\n      }, socket_general_functions);\n\n      BinarySocket.init({\n        options: ws_config,\n        client: client_store\n      });\n      BinarySocket.openNewConnection();\n    }\n\n    setNetworkStatus(isOnline() ? 'blinking' : 'offline');\n  };\n\n  var isOnline = function isOnline() {\n    return navigator.onLine;\n  }; // reconnect after timout,\n  // if the network status is online\n  // and the connection is closed or closing.\n\n\n  var reconnect_timeout = null;\n\n  function reconnectAfter(_ref) {\n    var timeout = _ref.timeout;\n    clearTimeout(reconnect_timeout);\n    reconnect_timeout = setTimeout(function () {\n      reconnect_timeout = null;\n\n      if (isOnline() && BinarySocket.hasReadyState(2, 3)) {\n        BinarySocket.openNewConnection();\n      } else {\n        BinarySocket.send({\n          ping: 1\n        }); // get stable status sooner\n      }\n    }, timeout);\n  }\n\n  var events = {\n    init: function init() {\n      return setNetworkStatus(isOnline() ? 'blinking' : 'offline');\n    },\n    open: function open() {\n      return setNetworkStatus(isOnline() ? 'online' : 'offline');\n    },\n    send: function send() {},\n    message: function message() {\n      return setNetworkStatus('online');\n    },\n    close: function close() {\n      setNetworkStatus(isOnline() ? 'blinking' : 'offline');\n      reconnectAfter({\n        timeout: 5000\n      });\n    }\n  };\n\n  var wsEvent = function wsEvent(event) {\n    events[event] && events[event](); // eslint-disable-line\n  };\n\n  return {\n    init: init,\n    wsEvent: wsEvent\n  };\n}();\n\nmodule.exports = NetworkMonitorBase;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fY29tbW9uL2Jhc2UvbmV0d29ya19tb25pdG9yX2Jhc2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFIQTtBQU1BOztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFDQTs7O0FBQ0E7O0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQVJBOztBQVdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUlBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vX2NvbW1vbi9iYXNlL25ldHdvcmtfbW9uaXRvcl9iYXNlLmpzPzExYTUiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBsb2NhbGl6ZSB9ID0gcmVxdWlyZSgnQGRlcml2L3RyYW5zbGF0aW9ucycpO1xuY29uc3QgQmluYXJ5U29ja2V0ID0gcmVxdWlyZSgnLi9zb2NrZXRfYmFzZScpO1xuXG4vKlxuICogTW9uaXRvcnMgdGhlIG5ldHdvcmsgc3RhdHVzIGFuZCBpbml0aWFsaXNlcyB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb25cbiAqIDEuIG9ubGluZSA6IGNoZWNrIHRoZSBXUyBzdGF0dXMgKGluaXQvc2VuZDogYmxpbmsgYWZ0ZXIgdGltZW91dCwgb3Blbi9tZXNzYWdlOiBvbmxpbmUpXG4gKiAyLiBvZmZsaW5lOiBpdCBpcyBvZmZsaW5lXG4gKi9cbmNvbnN0IE5ldHdvcmtNb25pdG9yQmFzZSA9ICgoKSA9PiB7XG4gICAgY29uc3Qgc3RhdHVzX2NvbmZpZyA9IHtcbiAgICAgICAgb25saW5lOiB7IGNsYXNzOiAnb25saW5lJywgdG9vbHRpcDogbG9jYWxpemUoJ09ubGluZScpIH0sXG4gICAgICAgIG9mZmxpbmU6IHsgY2xhc3M6ICdvZmZsaW5lJywgdG9vbHRpcDogbG9jYWxpemUoJ09mZmxpbmUnKSB9LFxuICAgICAgICBibGlua2luZzogeyBjbGFzczogJ2JsaW5rZXInLCB0b29sdGlwOiBsb2NhbGl6ZSgnQ29ubmVjdGluZyB0byBzZXJ2ZXInKSB9LFxuICAgIH07XG5cbiAgICBsZXQgc2V0TmV0d29ya1N0YXR1cztcblxuICAgIGNvbnN0IGluaXQgPSAoc29ja2V0X2dlbmVyYWxfZnVuY3Rpb25zLCBmbmNVcGRhdGVVSSwgY2xpZW50X3N0b3JlKSA9PiB7XG4gICAgICAgIGxldCBsYXN0X3N0YXR1cywgbGFzdF9pc19vbmxpbmU7XG4gICAgICAgIHNldE5ldHdvcmtTdGF0dXMgPSBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNfb25saW5lID0gaXNPbmxpbmUoKTtcbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IGxhc3Rfc3RhdHVzIHx8IGlzX29ubGluZSAhPT0gbGFzdF9pc19vbmxpbmUpIHtcbiAgICAgICAgICAgICAgICBsYXN0X3N0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgICAgICAgICBsYXN0X2lzX29ubGluZSA9IGlzX29ubGluZTtcbiAgICAgICAgICAgICAgICBmbmNVcGRhdGVVSShzdGF0dXNfY29uZmlnW3N0YXR1c10sIGlzX29ubGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCdvbkxpbmUnIGluIG5hdmlnYXRvcikge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXROZXR3b3JrU3RhdHVzKCdibGlua2luZycpO1xuICAgICAgICAgICAgICAgIHJlY29ubmVjdEFmdGVyKHsgdGltZW91dDogNTAwIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBCaW5hcnlTb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBzZXROZXR3b3JrU3RhdHVzKCdvZmZsaW5lJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gYWx3YXlzIG9ubGluZSBhbmQgZmFsbGJhY2sgdG8gV1MgY2hlY2tzXG4gICAgICAgICAgICBuYXZpZ2F0b3Iub25MaW5lID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc09ubGluZSgpKSB7XG4gICAgICAgICAgICBjb25zdCB3c19jb25maWcgPSB7IHdzRXZlbnQsIGlzT25saW5lLCAuLi5zb2NrZXRfZ2VuZXJhbF9mdW5jdGlvbnMgfTtcbiAgICAgICAgICAgIEJpbmFyeVNvY2tldC5pbml0KHsgb3B0aW9uczogd3NfY29uZmlnLCBjbGllbnQ6IGNsaWVudF9zdG9yZSB9KTtcbiAgICAgICAgICAgIEJpbmFyeVNvY2tldC5vcGVuTmV3Q29ubmVjdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0TmV0d29ya1N0YXR1cyhpc09ubGluZSgpID8gJ2JsaW5raW5nJyA6ICdvZmZsaW5lJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzT25saW5lID0gKCkgPT4gbmF2aWdhdG9yLm9uTGluZTtcblxuICAgIC8vIHJlY29ubmVjdCBhZnRlciB0aW1vdXQsXG4gICAgLy8gaWYgdGhlIG5ldHdvcmsgc3RhdHVzIGlzIG9ubGluZVxuICAgIC8vIGFuZCB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWQgb3IgY2xvc2luZy5cbiAgICBsZXQgcmVjb25uZWN0X3RpbWVvdXQgPSBudWxsO1xuICAgIGZ1bmN0aW9uIHJlY29ubmVjdEFmdGVyKHsgdGltZW91dCB9KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChyZWNvbm5lY3RfdGltZW91dCk7XG4gICAgICAgIHJlY29ubmVjdF90aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZWNvbm5lY3RfdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaXNPbmxpbmUoKSAmJiBCaW5hcnlTb2NrZXQuaGFzUmVhZHlTdGF0ZSgyLCAzKSkge1xuICAgICAgICAgICAgICAgIEJpbmFyeVNvY2tldC5vcGVuTmV3Q29ubmVjdGlvbigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBCaW5hcnlTb2NrZXQuc2VuZCh7IHBpbmc6IDEgfSk7IC8vIGdldCBzdGFibGUgc3RhdHVzIHNvb25lclxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICB9XG4gICAgY29uc3QgZXZlbnRzID0ge1xuICAgICAgICBpbml0OiAoKSA9PiBzZXROZXR3b3JrU3RhdHVzKGlzT25saW5lKCkgPyAnYmxpbmtpbmcnIDogJ29mZmxpbmUnKSxcbiAgICAgICAgb3BlbjogKCkgPT4gc2V0TmV0d29ya1N0YXR1cyhpc09ubGluZSgpID8gJ29ubGluZScgOiAnb2ZmbGluZScpLFxuICAgICAgICBzZW5kOiAoKSA9PiB7fSxcbiAgICAgICAgbWVzc2FnZTogKCkgPT4gc2V0TmV0d29ya1N0YXR1cygnb25saW5lJyksXG4gICAgICAgIGNsb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICBzZXROZXR3b3JrU3RhdHVzKGlzT25saW5lKCkgPyAnYmxpbmtpbmcnIDogJ29mZmxpbmUnKTtcbiAgICAgICAgICAgIHJlY29ubmVjdEFmdGVyKHsgdGltZW91dDogNTAwMCB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3Qgd3NFdmVudCA9IGV2ZW50ID0+IHtcbiAgICAgICAgZXZlbnRzW2V2ZW50XSAmJiBldmVudHNbZXZlbnRdKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdCxcbiAgICAgICAgd3NFdmVudCxcbiAgICB9O1xufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBOZXR3b3JrTW9uaXRvckJhc2U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./_common/base/network_monitor_base.js\n");

/***/ }),

/***/ "./_common/base/server_time.js":
/*!*************************************!*\
  !*** ./_common/base/server_time.js ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var moment = __webpack_require__(/*! moment */ \"../../../node_modules/moment/moment.js\");\n\nvar BinarySocket = __webpack_require__(/*! ./socket_base */ \"./_common/base/socket_base.js\");\n\nvar PromiseClass = (__webpack_require__(/*! ../utility */ \"./_common/utility.js\").PromiseClass);\n\nvar ServerTime = function () {\n  var clock_started = false;\n  var pending = new PromiseClass();\n  var server_time, performance_request_time, get_time_interval, update_time_interval, onTimeUpdated;\n\n  var init = function init(fncTimeUpdated) {\n    if (!clock_started) {\n      onTimeUpdated = fncTimeUpdated;\n      requestTime();\n      clearInterval(get_time_interval);\n      get_time_interval = setInterval(requestTime, 30000);\n      clock_started = true;\n    }\n  };\n\n  var requestTime = function requestTime() {\n    performance_request_time = performance.now();\n    BinarySocket.send({\n      time: 1\n    }).then(timeCounter);\n  };\n\n  var timeCounter = function timeCounter(response) {\n    if (response.error) return;\n\n    if (!clock_started) {\n      init();\n      return;\n    }\n\n    clearInterval(update_time_interval);\n    var start_timestamp = response.time;\n    var performance_response_time = performance.now();\n    var time_taken = performance_response_time - performance_request_time;\n    var server_time_at_response = start_timestamp * 1000 + time_taken;\n\n    var updateTime = function updateTime() {\n      var time_since_response = performance.now() - performance_response_time;\n      server_time = moment(server_time_at_response + time_since_response).utc();\n\n      if (typeof onTimeUpdated === 'function') {\n        onTimeUpdated();\n      }\n    };\n\n    updateTime();\n    pending.resolve();\n    update_time_interval = setInterval(updateTime, 1000);\n  };\n\n  var get = function get() {\n    return server_time ? server_time.clone() : undefined;\n  };\n\n  return {\n    init: init,\n    get: get,\n    timePromise: pending.promise\n  };\n}();\n\nmodule.exports = ServerTime;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fY29tbW9uL2Jhc2Uvc2VydmVyX3RpbWUuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0E7O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fY29tbW9uL2Jhc2Uvc2VydmVyX3RpbWUuanM/ZDI4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbmNvbnN0IEJpbmFyeVNvY2tldCA9IHJlcXVpcmUoJy4vc29ja2V0X2Jhc2UnKTtcbmNvbnN0IFByb21pc2VDbGFzcyA9IHJlcXVpcmUoJy4uL3V0aWxpdHknKS5Qcm9taXNlQ2xhc3M7XG5cbmNvbnN0IFNlcnZlclRpbWUgPSAoKCkgPT4ge1xuICAgIGxldCBjbG9ja19zdGFydGVkID0gZmFsc2U7XG4gICAgY29uc3QgcGVuZGluZyA9IG5ldyBQcm9taXNlQ2xhc3MoKTtcbiAgICBsZXQgc2VydmVyX3RpbWUsIHBlcmZvcm1hbmNlX3JlcXVlc3RfdGltZSwgZ2V0X3RpbWVfaW50ZXJ2YWwsIHVwZGF0ZV90aW1lX2ludGVydmFsLCBvblRpbWVVcGRhdGVkO1xuXG4gICAgY29uc3QgaW5pdCA9IGZuY1RpbWVVcGRhdGVkID0+IHtcbiAgICAgICAgaWYgKCFjbG9ja19zdGFydGVkKSB7XG4gICAgICAgICAgICBvblRpbWVVcGRhdGVkID0gZm5jVGltZVVwZGF0ZWQ7XG4gICAgICAgICAgICByZXF1ZXN0VGltZSgpO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChnZXRfdGltZV9pbnRlcnZhbCk7XG4gICAgICAgICAgICBnZXRfdGltZV9pbnRlcnZhbCA9IHNldEludGVydmFsKHJlcXVlc3RUaW1lLCAzMDAwMCk7XG4gICAgICAgICAgICBjbG9ja19zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCByZXF1ZXN0VGltZSA9ICgpID0+IHtcbiAgICAgICAgcGVyZm9ybWFuY2VfcmVxdWVzdF90aW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIEJpbmFyeVNvY2tldC5zZW5kKHsgdGltZTogMSB9KS50aGVuKHRpbWVDb3VudGVyKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdGltZUNvdW50ZXIgPSByZXNwb25zZSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikgcmV0dXJuO1xuXG4gICAgICAgIGlmICghY2xvY2tfc3RhcnRlZCkge1xuICAgICAgICAgICAgaW5pdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJJbnRlcnZhbCh1cGRhdGVfdGltZV9pbnRlcnZhbCk7XG5cbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZXN0YW1wID0gcmVzcG9uc2UudGltZTtcbiAgICAgICAgY29uc3QgcGVyZm9ybWFuY2VfcmVzcG9uc2VfdGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBjb25zdCB0aW1lX3Rha2VuID0gcGVyZm9ybWFuY2VfcmVzcG9uc2VfdGltZSAtIHBlcmZvcm1hbmNlX3JlcXVlc3RfdGltZTtcbiAgICAgICAgY29uc3Qgc2VydmVyX3RpbWVfYXRfcmVzcG9uc2UgPSBzdGFydF90aW1lc3RhbXAgKiAxMDAwICsgdGltZV90YWtlbjtcblxuICAgICAgICBjb25zdCB1cGRhdGVUaW1lID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZV9zaW5jZV9yZXNwb25zZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcGVyZm9ybWFuY2VfcmVzcG9uc2VfdGltZTtcbiAgICAgICAgICAgIHNlcnZlcl90aW1lID0gbW9tZW50KHNlcnZlcl90aW1lX2F0X3Jlc3BvbnNlICsgdGltZV9zaW5jZV9yZXNwb25zZSkudXRjKCk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25UaW1lVXBkYXRlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG9uVGltZVVwZGF0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdXBkYXRlVGltZSgpO1xuICAgICAgICBwZW5kaW5nLnJlc29sdmUoKTtcbiAgICAgICAgdXBkYXRlX3RpbWVfaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh1cGRhdGVUaW1lLCAxMDAwKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0ID0gKCkgPT4gKHNlcnZlcl90aW1lID8gc2VydmVyX3RpbWUuY2xvbmUoKSA6IHVuZGVmaW5lZCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0LFxuICAgICAgICBnZXQsXG4gICAgICAgIHRpbWVQcm9taXNlOiBwZW5kaW5nLnByb21pc2UsXG4gICAgfTtcbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gU2VydmVyVGltZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./_common/base/server_time.js\n");

/***/ }),

/***/ "./_common/base/socket_base.js":
/*!*************************************!*\
  !*** ./_common/base/socket_base.js ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar DerivAPIBasic = __webpack_require__(/*! @deriv/deriv-api/dist/DerivAPIBasic */ \"../../../node_modules/@deriv/deriv-api/dist/DerivAPIBasic.js\");\n\nvar getAppId = (__webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\").getAppId);\n\nvar getSocketURL = (__webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\").getSocketURL);\n\nvar cloneObject = (__webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\").cloneObject);\n\nvar getPropertyValue = (__webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\").getPropertyValue);\n\nvar State = (__webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\").State);\n\nvar _require = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\"),\n    getLanguage = _require.getLanguage;\n\nvar website_name = (__webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\").website_name);\n\nvar SocketCache = __webpack_require__(/*! ./socket_cache */ \"./_common/base/socket_cache.js\");\n\nvar APIMiddleware = __webpack_require__(/*! ./api_middleware */ \"./_common/base/api_middleware.js\");\n/*\n * An abstraction layer over native javascript WebSocket,\n * which provides additional functionality like\n * reopen the closed connection and process the buffered requests\n */\n\n\nvar BinarySocketBase = function () {\n  var deriv_api, binary_socket, client_store;\n  var config = {};\n  var wrong_app_id = 0;\n  var is_disconnect_called = false;\n  var is_connected_before = false;\n  var is_switching_socket = false;\n  var availability = {\n    is_up: true,\n    is_updating: false,\n    is_down: false\n  };\n\n  var getSocketUrl = function getSocketUrl(language) {\n    return \"wss://\".concat(getSocketURL(), \"/websockets/v3?app_id=\").concat(getAppId(), \"&l=\").concat(language, \"&brand=\").concat(website_name.toLowerCase());\n  };\n\n  var isReady = function isReady() {\n    return hasReadyState(1);\n  };\n\n  var isClose = function isClose() {\n    return !binary_socket || hasReadyState(2, 3);\n  };\n\n  var close = function close() {\n    binary_socket.close();\n  };\n\n  var closeAndOpenNewConnection = function closeAndOpenNewConnection() {\n    var language = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getLanguage();\n    close();\n    is_switching_socket = true;\n    openNewConnection(language);\n  };\n\n  var hasReadyState = function hasReadyState() {\n    for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n      states[_key] = arguments[_key];\n    }\n\n    return binary_socket && states.some(function (s) {\n      return binary_socket.readyState === s;\n    });\n  };\n\n  var init = function init(_ref) {\n    var options = _ref.options,\n        client = _ref.client;\n\n    if (_typeof(options) === 'object' && config !== options) {\n      config = options;\n    }\n\n    client_store = client;\n  };\n\n  var openNewConnection = function openNewConnection() {\n    var language = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getLanguage();\n    if (wrong_app_id === getAppId()) return;\n    if (!is_switching_socket) config.wsEvent('init');\n\n    if (isClose()) {\n      is_disconnect_called = false;\n      binary_socket = new WebSocket(getSocketUrl(language));\n      deriv_api = new DerivAPIBasic({\n        connection: binary_socket,\n        storage: SocketCache,\n        middleware: new APIMiddleware(config)\n      });\n    }\n\n    deriv_api.onOpen().subscribe(function () {\n      config.wsEvent('open');\n      wait('website_status');\n\n      if (client_store.is_logged_in) {\n        var authorize_token = client_store.getToken();\n        deriv_api.authorize(authorize_token);\n      }\n\n      if (typeof config.onOpen === 'function') {\n        config.onOpen(isReady());\n      }\n\n      if (typeof config.onReconnect === 'function' && is_connected_before) {\n        config.onReconnect();\n      }\n\n      if (!is_connected_before) {\n        is_connected_before = true;\n      }\n    });\n    deriv_api.onMessage().subscribe(function (_ref2) {\n      var response = _ref2.data;\n      var msg_type = response.msg_type;\n      State.set(['response', msg_type], cloneObject(response));\n      config.wsEvent('message');\n\n      if (getPropertyValue(response, ['error', 'code']) === 'InvalidAppID') {\n        wrong_app_id = getAppId();\n      }\n\n      if (typeof config.onMessage === 'function') {\n        config.onMessage(response);\n      }\n    });\n    deriv_api.onClose().subscribe(function () {\n      if (!is_switching_socket) {\n        config.wsEvent('close');\n      } else {\n        is_switching_socket = false;\n      }\n\n      if (wrong_app_id !== getAppId() && typeof config.onDisconnect === 'function' && !is_disconnect_called) {\n        config.onDisconnect();\n        is_disconnect_called = true;\n      }\n    });\n  };\n\n  var isSiteUp = function isSiteUp(status) {\n    return /^up$/i.test(status);\n  };\n\n  var isSiteUpdating = function isSiteUpdating(status) {\n    return /^updating$/i.test(status);\n  };\n\n  var isSiteDown = function isSiteDown(status) {\n    return /^down$/i.test(status);\n  }; // if status is up or updating, consider site available\n  // if status is down, consider site unavailable\n\n\n  var setAvailability = function setAvailability(status) {\n    availability.is_up = isSiteUp(status);\n    availability.is_updating = isSiteUpdating(status);\n    availability.is_down = isSiteDown(status);\n  };\n\n  var excludeAuthorize = function excludeAuthorize(type) {\n    return !(type === 'authorize' && !client_store.is_logged_in);\n  };\n\n  var wait = function wait() {\n    var _deriv_api;\n\n    for (var _len2 = arguments.length, responses = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      responses[_key2] = arguments[_key2];\n    }\n\n    return (_deriv_api = deriv_api).expectResponse.apply(_deriv_api, _toConsumableArray(responses.filter(excludeAuthorize)));\n  };\n\n  var subscribe = function subscribe(request, cb) {\n    return deriv_api.subscribe(request).subscribe(cb, cb);\n  }; // Delegate error handling to the callback\n\n\n  var balanceAll = function balanceAll() {\n    return deriv_api.send({\n      balance: 1,\n      account: 'all'\n    });\n  };\n\n  var subscribeBalanceAll = function subscribeBalanceAll(cb) {\n    return subscribe({\n      balance: 1,\n      account: 'all'\n    }, cb);\n  };\n\n  var subscribeBalanceActiveAccount = function subscribeBalanceActiveAccount(cb, account) {\n    return subscribe({\n      balance: 1,\n      account: account\n    }, cb);\n  };\n\n  var subscribeProposal = function subscribeProposal(req, cb) {\n    return subscribe(_objectSpread({\n      proposal: 1\n    }, req), cb);\n  };\n\n  var subscribeProposalOpenContract = function subscribeProposalOpenContract() {\n    var contract_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var cb = arguments.length > 1 ? arguments[1] : undefined;\n    return subscribe(_objectSpread({\n      proposal_open_contract: 1\n    }, contract_id && {\n      contract_id: contract_id\n    }), cb);\n  };\n\n  var subscribeTicks = function subscribeTicks(symbol, cb) {\n    return subscribe({\n      ticks: symbol\n    }, cb);\n  };\n\n  var subscribeTicksHistory = function subscribeTicksHistory(request_object, cb) {\n    return subscribe(request_object, cb);\n  };\n\n  var subscribeTransaction = function subscribeTransaction(cb) {\n    return subscribe({\n      transaction: 1\n    }, cb);\n  };\n\n  var subscribeWebsiteStatus = function subscribeWebsiteStatus(cb) {\n    return subscribe({\n      website_status: 1\n    }, cb);\n  };\n\n  var buyAndSubscribe = function buyAndSubscribe(request) {\n    return new Promise(function (resolve) {\n      var called = false;\n      var subscriber = subscribe(request, function (response) {\n        if (!called) {\n          called = true;\n          subscriber.unsubscribe();\n          resolve(response);\n        }\n      });\n    });\n  };\n\n  var buy = function buy(_ref3) {\n    var proposal_id = _ref3.proposal_id,\n        price = _ref3.price;\n    return deriv_api.send({\n      buy: proposal_id,\n      price: price\n    });\n  };\n\n  var sell = function sell(contract_id, bid_price) {\n    return deriv_api.send({\n      sell: contract_id,\n      price: bid_price\n    });\n  };\n\n  var cashier = function cashier(action) {\n    var parameters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return deriv_api.send(_objectSpread({\n      cashier: action\n    }, parameters));\n  };\n\n  var cashierPayments = function cashierPayments(_ref4) {\n    var provider = _ref4.provider,\n        transaction_type = _ref4.transaction_type;\n    return deriv_api.send({\n      cashier_payments: 1,\n      provider: provider,\n      transaction_type: transaction_type\n    });\n  };\n\n  var subscribeCashierPayments = function subscribeCashierPayments(cb) {\n    return subscribe({\n      cashier_payments: 1,\n      provider: 'crypto',\n      transaction_type: 'all'\n    }, cb);\n  };\n\n  var cancelCryptoTransaction = function cancelCryptoTransaction(transaction_id) {\n    return deriv_api.send({\n      cashier_withdrawal_cancel: 1,\n      id: transaction_id\n    });\n  };\n\n  var newAccountVirtual = function newAccountVirtual(verification_code, client_password, residence, device_data) {\n    return deriv_api.send(_objectSpread({\n      new_account_virtual: 1,\n      verification_code: verification_code,\n      client_password: client_password,\n      residence: residence\n    }, device_data));\n  };\n\n  var setAccountCurrency = function setAccountCurrency(currency, passthrough) {\n    return deriv_api.send(_objectSpread({\n      set_account_currency: currency\n    }, passthrough && {\n      passthrough: passthrough\n    }));\n  };\n\n  var newAccountReal = function newAccountReal(values) {\n    return deriv_api.send(_objectSpread({\n      new_account_real: 1\n    }, values));\n  };\n\n  var newAccountRealMaltaInvest = function newAccountRealMaltaInvest(values) {\n    return deriv_api.send(_objectSpread({\n      new_account_maltainvest: 1\n    }, values));\n  };\n\n  var mt5NewAccount = function mt5NewAccount(values) {\n    return deriv_api.send(_objectSpread({\n      mt5_new_account: 1\n    }, values));\n  };\n\n  var getFinancialAssessment = function getFinancialAssessment() {\n    return deriv_api.send({\n      get_financial_assessment: 1\n    });\n  };\n\n  var profitTable = function profitTable(limit, offset, date_boundaries) {\n    return deriv_api.send(_objectSpread({\n      profit_table: 1,\n      description: 1,\n      limit: limit,\n      offset: offset\n    }, date_boundaries));\n  };\n\n  var statement = function statement(limit, offset, other_properties) {\n    return deriv_api.send(_objectSpread({\n      statement: 1,\n      description: 1,\n      limit: limit,\n      offset: offset\n    }, other_properties));\n  };\n\n  var verifyEmail = function verifyEmail(email, type) {\n    var payload = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return deriv_api.send(_objectSpread({\n      verify_email: email,\n      type: type\n    }, payload));\n  };\n\n  var tradingPlatformPasswordChange = function tradingPlatformPasswordChange(payload) {\n    return deriv_api.send(_objectSpread({\n      trading_platform_password_change: 1\n    }, payload));\n  };\n\n  var tradingPlatformInvestorPasswordChange = function tradingPlatformInvestorPasswordChange(payload) {\n    return deriv_api.send(_objectSpread({\n      trading_platform_investor_password_change: 1\n    }, payload));\n  };\n\n  var tradingPlatformInvestorPasswordReset = function tradingPlatformInvestorPasswordReset(payload) {\n    return deriv_api.send(_objectSpread({\n      trading_platform_investor_password_reset: 1\n    }, payload));\n  };\n\n  var tradingPlatformPasswordReset = function tradingPlatformPasswordReset(payload) {\n    return deriv_api.send(_objectSpread({\n      trading_platform_password_reset: 1\n    }, payload));\n  };\n\n  var paymentAgentList = function paymentAgentList(country, currency) {\n    return deriv_api.send(_objectSpread({\n      paymentagent_list: country\n    }, currency && {\n      currency: currency\n    }));\n  };\n\n  var allPaymentAgentList = function allPaymentAgentList(country) {\n    return deriv_api.send({\n      paymentagent_list: country\n    });\n  };\n\n  var paymentAgentDetails = function paymentAgentDetails(passthrough, req_id) {\n    return deriv_api.send({\n      paymentagent_details: 1,\n      passthrough: passthrough,\n      req_id: req_id\n    });\n  };\n\n  var paymentAgentWithdraw = function paymentAgentWithdraw(_ref5) {\n    var amount = _ref5.amount,\n        currency = _ref5.currency,\n        _ref5$dry_run = _ref5.dry_run,\n        dry_run = _ref5$dry_run === void 0 ? 0 : _ref5$dry_run,\n        loginid = _ref5.loginid,\n        verification_code = _ref5.verification_code;\n    return deriv_api.send({\n      amount: amount,\n      currency: currency,\n      dry_run: dry_run,\n      paymentagent_loginid: loginid,\n      paymentagent_withdraw: 1,\n      verification_code: verification_code\n    });\n  };\n\n  var cryptoWithdraw = function cryptoWithdraw(_ref6) {\n    var address = _ref6.address,\n        amount = _ref6.amount,\n        verification_code = _ref6.verification_code,\n        _ref6$dry_run = _ref6.dry_run,\n        dry_run = _ref6$dry_run === void 0 ? 0 : _ref6$dry_run;\n    return deriv_api.send({\n      cashier: 'withdraw',\n      provider: 'crypto',\n      type: 'api',\n      address: address,\n      amount: amount,\n      verification_code: verification_code,\n      dry_run: dry_run\n    });\n  };\n\n  var cryptoConfig = function cryptoConfig() {\n    return deriv_api.send({\n      crypto_config: 1\n    });\n  };\n\n  var paymentAgentTransfer = function paymentAgentTransfer(_ref7) {\n    var amount = _ref7.amount,\n        currency = _ref7.currency,\n        description = _ref7.description,\n        transfer_to = _ref7.transfer_to,\n        _ref7$dry_run = _ref7.dry_run,\n        dry_run = _ref7$dry_run === void 0 ? 0 : _ref7$dry_run;\n    return deriv_api.send({\n      amount: amount,\n      currency: currency,\n      description: description,\n      transfer_to: transfer_to,\n      paymentagent_transfer: 1,\n      dry_run: dry_run\n    });\n  };\n\n  var activeSymbols = function activeSymbols() {\n    var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'brief';\n    return deriv_api.activeSymbols(mode);\n  };\n\n  var transferBetweenAccounts = function transferBetweenAccounts(account_from, account_to, currency, amount) {\n    return deriv_api.send(_objectSpread({\n      transfer_between_accounts: 1,\n      accounts: 'all'\n    }, account_from && {\n      account_from: account_from,\n      account_to: account_to,\n      currency: currency,\n      amount: amount\n    }));\n  };\n\n  var forgetStream = function forgetStream(id) {\n    return deriv_api.forget(id);\n  };\n\n  var tncApproval = function tncApproval() {\n    return deriv_api.send({\n      tnc_approval: '1'\n    });\n  };\n\n  var contractUpdate = function contractUpdate(contract_id, limit_order) {\n    return deriv_api.send({\n      contract_update: 1,\n      contract_id: contract_id,\n      limit_order: limit_order\n    });\n  };\n\n  var contractUpdateHistory = function contractUpdateHistory(contract_id) {\n    return deriv_api.send({\n      contract_update_history: 1,\n      contract_id: contract_id\n    });\n  };\n\n  var cancelContract = function cancelContract(contract_id) {\n    return deriv_api.send({\n      cancel: contract_id\n    });\n  };\n\n  var p2pAdvertiserInfo = function p2pAdvertiserInfo() {\n    return deriv_api.send({\n      p2p_advertiser_info: 1\n    });\n  };\n\n  var fetchLoginHistory = function fetchLoginHistory(limit) {\n    return deriv_api.send({\n      login_history: 1,\n      limit: limit\n    });\n  }; // subscribe method export for P2P use only\n  // so that subscribe remains private\n\n\n  var p2pSubscribe = function p2pSubscribe(request, cb) {\n    return subscribe(request, cb);\n  };\n\n  var accountStatistics = function accountStatistics() {\n    return deriv_api.send({\n      account_statistics: 1\n    });\n  };\n\n  var realityCheck = function realityCheck() {\n    return deriv_api.send({\n      reality_check: 1\n    });\n  };\n\n  var tradingServers = function tradingServers(platform) {\n    return deriv_api.send({\n      platform: platform,\n      trading_servers: 1\n    });\n  };\n\n  var tradingPlatformAccountsList = function tradingPlatformAccountsList(platform) {\n    return deriv_api.send({\n      trading_platform_accounts: 1,\n      platform: platform\n    });\n  };\n\n  var tradingPlatformNewAccount = function tradingPlatformNewAccount(values) {\n    return deriv_api.send(_objectSpread({\n      trading_platform_new_account: 1\n    }, values));\n  };\n\n  var triggerMt5DryRun = function triggerMt5DryRun(_ref8) {\n    var email = _ref8.email;\n    return deriv_api.send({\n      account_type: 'financial',\n      dry_run: 1,\n      email: email,\n      leverage: 100,\n      mainPassword: 'Test1234',\n      mt5_account_type: 'financial_stp',\n      mt5_new_account: 1,\n      name: 'test real labuan financial stp'\n    });\n  };\n\n  var changeEmail = function changeEmail(api_request) {\n    return deriv_api.send(api_request);\n  };\n\n  return {\n    init: init,\n    openNewConnection: openNewConnection,\n    forgetStream: forgetStream,\n    wait: wait,\n    availability: availability,\n    hasReadyState: hasReadyState,\n    isSiteDown: isSiteDown,\n    isSiteUpdating: isSiteUpdating,\n    clear: function clear() {// do nothing.\n    },\n    sendBuffered: function sendBuffered() {// do nothing.\n    },\n    getSocket: function getSocket() {\n      return binary_socket;\n    },\n    get: function get() {\n      return deriv_api;\n    },\n    getAvailability: function getAvailability() {\n      return availability;\n    },\n    setOnDisconnect: function setOnDisconnect(onDisconnect) {\n      config.onDisconnect = onDisconnect;\n    },\n    setOnReconnect: function setOnReconnect(onReconnect) {\n      config.onReconnect = onReconnect;\n    },\n    removeOnReconnect: function removeOnReconnect() {\n      delete config.onReconnect;\n    },\n    removeOnDisconnect: function removeOnDisconnect() {\n      delete config.onDisconnect;\n    },\n    cache: delegateToObject({}, function () {\n      return deriv_api.cache;\n    }),\n    storage: delegateToObject({}, function () {\n      return deriv_api.storage;\n    }),\n    buy: buy,\n    buyAndSubscribe: buyAndSubscribe,\n    sell: sell,\n    cashier: cashier,\n    cashierPayments: cashierPayments,\n    subscribeCashierPayments: subscribeCashierPayments,\n    cancelCryptoTransaction: cancelCryptoTransaction,\n    cancelContract: cancelContract,\n    close: close,\n    cryptoWithdraw: cryptoWithdraw,\n    cryptoConfig: cryptoConfig,\n    contractUpdate: contractUpdate,\n    contractUpdateHistory: contractUpdateHistory,\n    getFinancialAssessment: getFinancialAssessment,\n    mt5NewAccount: mt5NewAccount,\n    newAccountVirtual: newAccountVirtual,\n    newAccountReal: newAccountReal,\n    newAccountRealMaltaInvest: newAccountRealMaltaInvest,\n    p2pAdvertiserInfo: p2pAdvertiserInfo,\n    p2pSubscribe: p2pSubscribe,\n    profitTable: profitTable,\n    statement: statement,\n    verifyEmail: verifyEmail,\n    tradingPlatformPasswordChange: tradingPlatformPasswordChange,\n    tradingPlatformPasswordReset: tradingPlatformPasswordReset,\n    tradingPlatformInvestorPasswordChange: tradingPlatformInvestorPasswordChange,\n    tradingPlatformInvestorPasswordReset: tradingPlatformInvestorPasswordReset,\n    activeSymbols: activeSymbols,\n    paymentAgentList: paymentAgentList,\n    allPaymentAgentList: allPaymentAgentList,\n    paymentAgentDetails: paymentAgentDetails,\n    paymentAgentWithdraw: paymentAgentWithdraw,\n    paymentAgentTransfer: paymentAgentTransfer,\n    setAccountCurrency: setAccountCurrency,\n    balanceAll: balanceAll,\n    setAvailability: setAvailability,\n    subscribeBalanceAll: subscribeBalanceAll,\n    subscribeBalanceActiveAccount: subscribeBalanceActiveAccount,\n    subscribeProposal: subscribeProposal,\n    subscribeProposalOpenContract: subscribeProposalOpenContract,\n    subscribeTicks: subscribeTicks,\n    subscribeTicksHistory: subscribeTicksHistory,\n    subscribeTransaction: subscribeTransaction,\n    subscribeWebsiteStatus: subscribeWebsiteStatus,\n    tncApproval: tncApproval,\n    transferBetweenAccounts: transferBetweenAccounts,\n    fetchLoginHistory: fetchLoginHistory,\n    closeAndOpenNewConnection: closeAndOpenNewConnection,\n    accountStatistics: accountStatistics,\n    realityCheck: realityCheck,\n    tradingServers: tradingServers,\n    tradingPlatformAccountsList: tradingPlatformAccountsList,\n    tradingPlatformNewAccount: tradingPlatformNewAccount,\n    triggerMt5DryRun: triggerMt5DryRun,\n    changeEmail: changeEmail\n  };\n}();\n\nfunction delegateToObject(base_obj, extending_obj_getter) {\n  return new Proxy(base_obj, {\n    get: function get(target, field) {\n      if (target[field]) return target[field];\n      var extending_obj = typeof extending_obj_getter === 'function' ? extending_obj_getter() : extending_obj_getter;\n      if (!extending_obj) return undefined;\n      var value = extending_obj[field];\n\n      if (value) {\n        if (typeof value === 'function') {\n          return value.bind(extending_obj);\n        }\n\n        return value;\n      }\n\n      return undefined;\n    }\n  });\n}\n\nvar proxied_socket_base = delegateToObject(BinarySocketBase, function () {\n  return BinarySocketBase.get();\n});\n\nvar proxyForAuthorize = function proxyForAuthorize(obj) {\n  return new Proxy(obj, {\n    get: function get(target, field) {\n      if (typeof target[field] !== 'function') {\n        return proxyForAuthorize(target[field]);\n      }\n\n      return function () {\n        for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          args[_key3] = arguments[_key3];\n        }\n\n        return BinarySocketBase.wait('authorize').then(function () {\n          return target[field].apply(target, args);\n        });\n      };\n    }\n  });\n};\n\nBinarySocketBase.authorized = proxyForAuthorize(proxied_socket_base);\nmodule.exports = proxied_socket_base;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fY29tbW9uL2Jhc2Uvc29ja2V0X2Jhc2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTtBQUFBOztBQUNBOztBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBOztBQU1BO0FBQUE7QUFBQTs7QUFHQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUVBO0FBQUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTs7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUFBOztBQUVBO0FBQUE7QUFBQTtBQUdBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQUE7QUFBQTs7QUFFQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBOztBQUVBO0FBQUE7QUFBQTs7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBREE7O0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQURBOztBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQURBOztBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFEQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQURBOztBQVNBO0FBQUE7QUFFQTtBQURBO0FBRUE7QUFBQTtBQUhBOztBQU1BO0FBQUE7QUFFQTtBQURBO0FBREE7O0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUFBO0FBRUE7QUFEQTtBQURBOztBQU1BO0FBQUE7QUFFQTtBQURBO0FBREE7O0FBS0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTs7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBOztBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUVBO0FBQUE7QUFFQTtBQURBO0FBREE7O0FBTUE7QUFBQTtBQUVBO0FBREE7QUFEQTs7QUFNQTtBQUFBO0FBRUE7QUFEQTtBQURBOztBQU1BO0FBQUE7QUFFQTtBQURBO0FBREE7O0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBREE7O0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFEQTs7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFEQTs7QUFVQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFEQTs7QUFXQTtBQUFBO0FBRUE7QUFEQTtBQURBOztBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQURBOztBQVVBO0FBQUE7QUFBQTtBQUFBOztBQUVBO0FBQUE7QUFFQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBSkE7O0FBWUE7QUFBQTtBQUFBOztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBREE7O0FBT0E7QUFBQTtBQUVBO0FBQ0E7QUFGQTtBQURBOztBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUZBO0FBREE7QUFPQTs7O0FBQ0E7QUFBQTtBQUFBOztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFGQTtBQURBOztBQU1BO0FBQUE7QUFFQTtBQURBO0FBREE7O0FBTUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBREE7O0FBWUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0RkE7QUF3RkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBbEJBO0FBb0JBOztBQUVBO0FBQUE7QUFBQTs7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQU5BO0FBREE7O0FBVUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL19jb21tb24vYmFzZS9zb2NrZXRfYmFzZS5qcz9hYWI1Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IERlcml2QVBJQmFzaWMgPSByZXF1aXJlKCdAZGVyaXYvZGVyaXYtYXBpL2Rpc3QvRGVyaXZBUElCYXNpYycpO1xuY29uc3QgZ2V0QXBwSWQgPSByZXF1aXJlKCdAZGVyaXYvc2hhcmVkJykuZ2V0QXBwSWQ7XG5jb25zdCBnZXRTb2NrZXRVUkwgPSByZXF1aXJlKCdAZGVyaXYvc2hhcmVkJykuZ2V0U29ja2V0VVJMO1xuY29uc3QgY2xvbmVPYmplY3QgPSByZXF1aXJlKCdAZGVyaXYvc2hhcmVkJykuY2xvbmVPYmplY3Q7XG5jb25zdCBnZXRQcm9wZXJ0eVZhbHVlID0gcmVxdWlyZSgnQGRlcml2L3NoYXJlZCcpLmdldFByb3BlcnR5VmFsdWU7XG5jb25zdCBTdGF0ZSA9IHJlcXVpcmUoJ0BkZXJpdi9zaGFyZWQnKS5TdGF0ZTtcbmNvbnN0IHsgZ2V0TGFuZ3VhZ2UgfSA9IHJlcXVpcmUoJ0BkZXJpdi90cmFuc2xhdGlvbnMnKTtcbmNvbnN0IHdlYnNpdGVfbmFtZSA9IHJlcXVpcmUoJ0BkZXJpdi9zaGFyZWQnKS53ZWJzaXRlX25hbWU7XG5jb25zdCBTb2NrZXRDYWNoZSA9IHJlcXVpcmUoJy4vc29ja2V0X2NhY2hlJyk7XG5jb25zdCBBUElNaWRkbGV3YXJlID0gcmVxdWlyZSgnLi9hcGlfbWlkZGxld2FyZScpO1xuXG4vKlxuICogQW4gYWJzdHJhY3Rpb24gbGF5ZXIgb3ZlciBuYXRpdmUgamF2YXNjcmlwdCBXZWJTb2NrZXQsXG4gKiB3aGljaCBwcm92aWRlcyBhZGRpdGlvbmFsIGZ1bmN0aW9uYWxpdHkgbGlrZVxuICogcmVvcGVuIHRoZSBjbG9zZWQgY29ubmVjdGlvbiBhbmQgcHJvY2VzcyB0aGUgYnVmZmVyZWQgcmVxdWVzdHNcbiAqL1xuY29uc3QgQmluYXJ5U29ja2V0QmFzZSA9ICgoKSA9PiB7XG4gICAgbGV0IGRlcml2X2FwaSwgYmluYXJ5X3NvY2tldCwgY2xpZW50X3N0b3JlO1xuXG4gICAgbGV0IGNvbmZpZyA9IHt9O1xuICAgIGxldCB3cm9uZ19hcHBfaWQgPSAwO1xuICAgIGxldCBpc19kaXNjb25uZWN0X2NhbGxlZCA9IGZhbHNlO1xuICAgIGxldCBpc19jb25uZWN0ZWRfYmVmb3JlID0gZmFsc2U7XG4gICAgbGV0IGlzX3N3aXRjaGluZ19zb2NrZXQgPSBmYWxzZTtcblxuICAgIGNvbnN0IGF2YWlsYWJpbGl0eSA9IHtcbiAgICAgICAgaXNfdXA6IHRydWUsXG4gICAgICAgIGlzX3VwZGF0aW5nOiBmYWxzZSxcbiAgICAgICAgaXNfZG93bjogZmFsc2UsXG4gICAgfTtcblxuICAgIGNvbnN0IGdldFNvY2tldFVybCA9IGxhbmd1YWdlID0+XG4gICAgICAgIGB3c3M6Ly8ke2dldFNvY2tldFVSTCgpfS93ZWJzb2NrZXRzL3YzP2FwcF9pZD0ke2dldEFwcElkKCl9Jmw9JHtsYW5ndWFnZX0mYnJhbmQ9JHt3ZWJzaXRlX25hbWUudG9Mb3dlckNhc2UoKX1gO1xuXG4gICAgY29uc3QgaXNSZWFkeSA9ICgpID0+IGhhc1JlYWR5U3RhdGUoMSk7XG5cbiAgICBjb25zdCBpc0Nsb3NlID0gKCkgPT4gIWJpbmFyeV9zb2NrZXQgfHwgaGFzUmVhZHlTdGF0ZSgyLCAzKTtcblxuICAgIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xuICAgICAgICBiaW5hcnlfc29ja2V0LmNsb3NlKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNsb3NlQW5kT3Blbk5ld0Nvbm5lY3Rpb24gPSAobGFuZ3VhZ2UgPSBnZXRMYW5ndWFnZSgpKSA9PiB7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICAgIGlzX3N3aXRjaGluZ19zb2NrZXQgPSB0cnVlO1xuICAgICAgICBvcGVuTmV3Q29ubmVjdGlvbihsYW5ndWFnZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhc1JlYWR5U3RhdGUgPSAoLi4uc3RhdGVzKSA9PiBiaW5hcnlfc29ja2V0ICYmIHN0YXRlcy5zb21lKHMgPT4gYmluYXJ5X3NvY2tldC5yZWFkeVN0YXRlID09PSBzKTtcblxuICAgIGNvbnN0IGluaXQgPSAoeyBvcHRpb25zLCBjbGllbnQgfSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmIGNvbmZpZyAhPT0gb3B0aW9ucykge1xuICAgICAgICAgICAgY29uZmlnID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBjbGllbnRfc3RvcmUgPSBjbGllbnQ7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5OZXdDb25uZWN0aW9uID0gKGxhbmd1YWdlID0gZ2V0TGFuZ3VhZ2UoKSkgPT4ge1xuICAgICAgICBpZiAod3JvbmdfYXBwX2lkID09PSBnZXRBcHBJZCgpKSByZXR1cm47XG5cbiAgICAgICAgaWYgKCFpc19zd2l0Y2hpbmdfc29ja2V0KSBjb25maWcud3NFdmVudCgnaW5pdCcpO1xuXG4gICAgICAgIGlmIChpc0Nsb3NlKCkpIHtcbiAgICAgICAgICAgIGlzX2Rpc2Nvbm5lY3RfY2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICBiaW5hcnlfc29ja2V0ID0gbmV3IFdlYlNvY2tldChnZXRTb2NrZXRVcmwobGFuZ3VhZ2UpKTtcbiAgICAgICAgICAgIGRlcml2X2FwaSA9IG5ldyBEZXJpdkFQSUJhc2ljKHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uOiBiaW5hcnlfc29ja2V0LFxuICAgICAgICAgICAgICAgIHN0b3JhZ2U6IFNvY2tldENhY2hlLFxuICAgICAgICAgICAgICAgIG1pZGRsZXdhcmU6IG5ldyBBUElNaWRkbGV3YXJlKGNvbmZpZyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlcml2X2FwaS5vbk9wZW4oKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgY29uZmlnLndzRXZlbnQoJ29wZW4nKTtcblxuICAgICAgICAgICAgd2FpdCgnd2Vic2l0ZV9zdGF0dXMnKTtcblxuICAgICAgICAgICAgaWYgKGNsaWVudF9zdG9yZS5pc19sb2dnZWRfaW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRob3JpemVfdG9rZW4gPSBjbGllbnRfc3RvcmUuZ2V0VG9rZW4oKTtcbiAgICAgICAgICAgICAgICBkZXJpdl9hcGkuYXV0aG9yaXplKGF1dGhvcml6ZV90b2tlbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLm9uT3BlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5vbk9wZW4oaXNSZWFkeSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcub25SZWNvbm5lY3QgPT09ICdmdW5jdGlvbicgJiYgaXNfY29ubmVjdGVkX2JlZm9yZSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5vblJlY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzX2Nvbm5lY3RlZF9iZWZvcmUpIHtcbiAgICAgICAgICAgICAgICBpc19jb25uZWN0ZWRfYmVmb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVyaXZfYXBpLm9uTWVzc2FnZSgpLnN1YnNjcmliZSgoeyBkYXRhOiByZXNwb25zZSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtc2dfdHlwZSA9IHJlc3BvbnNlLm1zZ190eXBlO1xuICAgICAgICAgICAgU3RhdGUuc2V0KFsncmVzcG9uc2UnLCBtc2dfdHlwZV0sIGNsb25lT2JqZWN0KHJlc3BvbnNlKSk7XG5cbiAgICAgICAgICAgIGNvbmZpZy53c0V2ZW50KCdtZXNzYWdlJyk7XG5cbiAgICAgICAgICAgIGlmIChnZXRQcm9wZXJ0eVZhbHVlKHJlc3BvbnNlLCBbJ2Vycm9yJywgJ2NvZGUnXSkgPT09ICdJbnZhbGlkQXBwSUQnKSB7XG4gICAgICAgICAgICAgICAgd3JvbmdfYXBwX2lkID0gZ2V0QXBwSWQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcub25NZXNzYWdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLm9uTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRlcml2X2FwaS5vbkNsb3NlKCkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghaXNfc3dpdGNoaW5nX3NvY2tldCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy53c0V2ZW50KCdjbG9zZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc19zd2l0Y2hpbmdfc29ja2V0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3cm9uZ19hcHBfaWQgIT09IGdldEFwcElkKCkgJiYgdHlwZW9mIGNvbmZpZy5vbkRpc2Nvbm5lY3QgPT09ICdmdW5jdGlvbicgJiYgIWlzX2Rpc2Nvbm5lY3RfY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLm9uRGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIGlzX2Rpc2Nvbm5lY3RfY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzU2l0ZVVwID0gc3RhdHVzID0+IC9edXAkL2kudGVzdChzdGF0dXMpO1xuXG4gICAgY29uc3QgaXNTaXRlVXBkYXRpbmcgPSBzdGF0dXMgPT4gL151cGRhdGluZyQvaS50ZXN0KHN0YXR1cyk7XG5cbiAgICBjb25zdCBpc1NpdGVEb3duID0gc3RhdHVzID0+IC9eZG93biQvaS50ZXN0KHN0YXR1cyk7XG5cbiAgICAvLyBpZiBzdGF0dXMgaXMgdXAgb3IgdXBkYXRpbmcsIGNvbnNpZGVyIHNpdGUgYXZhaWxhYmxlXG4gICAgLy8gaWYgc3RhdHVzIGlzIGRvd24sIGNvbnNpZGVyIHNpdGUgdW5hdmFpbGFibGVcbiAgICBjb25zdCBzZXRBdmFpbGFiaWxpdHkgPSBzdGF0dXMgPT4ge1xuICAgICAgICBhdmFpbGFiaWxpdHkuaXNfdXAgPSBpc1NpdGVVcChzdGF0dXMpO1xuICAgICAgICBhdmFpbGFiaWxpdHkuaXNfdXBkYXRpbmcgPSBpc1NpdGVVcGRhdGluZyhzdGF0dXMpO1xuICAgICAgICBhdmFpbGFiaWxpdHkuaXNfZG93biA9IGlzU2l0ZURvd24oc3RhdHVzKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZXhjbHVkZUF1dGhvcml6ZSA9IHR5cGUgPT4gISh0eXBlID09PSAnYXV0aG9yaXplJyAmJiAhY2xpZW50X3N0b3JlLmlzX2xvZ2dlZF9pbik7XG5cbiAgICBjb25zdCB3YWl0ID0gKC4uLnJlc3BvbnNlcykgPT4gZGVyaXZfYXBpLmV4cGVjdFJlc3BvbnNlKC4uLnJlc3BvbnNlcy5maWx0ZXIoZXhjbHVkZUF1dGhvcml6ZSkpO1xuXG4gICAgY29uc3Qgc3Vic2NyaWJlID0gKHJlcXVlc3QsIGNiKSA9PiBkZXJpdl9hcGkuc3Vic2NyaWJlKHJlcXVlc3QpLnN1YnNjcmliZShjYiwgY2IpOyAvLyBEZWxlZ2F0ZSBlcnJvciBoYW5kbGluZyB0byB0aGUgY2FsbGJhY2tcblxuICAgIGNvbnN0IGJhbGFuY2VBbGwgPSAoKSA9PiBkZXJpdl9hcGkuc2VuZCh7IGJhbGFuY2U6IDEsIGFjY291bnQ6ICdhbGwnIH0pO1xuXG4gICAgY29uc3Qgc3Vic2NyaWJlQmFsYW5jZUFsbCA9IGNiID0+IHN1YnNjcmliZSh7IGJhbGFuY2U6IDEsIGFjY291bnQ6ICdhbGwnIH0sIGNiKTtcblxuICAgIGNvbnN0IHN1YnNjcmliZUJhbGFuY2VBY3RpdmVBY2NvdW50ID0gKGNiLCBhY2NvdW50KSA9PiBzdWJzY3JpYmUoeyBiYWxhbmNlOiAxLCBhY2NvdW50IH0sIGNiKTtcblxuICAgIGNvbnN0IHN1YnNjcmliZVByb3Bvc2FsID0gKHJlcSwgY2IpID0+IHN1YnNjcmliZSh7IHByb3Bvc2FsOiAxLCAuLi5yZXEgfSwgY2IpO1xuXG4gICAgY29uc3Qgc3Vic2NyaWJlUHJvcG9zYWxPcGVuQ29udHJhY3QgPSAoY29udHJhY3RfaWQgPSBudWxsLCBjYikgPT5cbiAgICAgICAgc3Vic2NyaWJlKHsgcHJvcG9zYWxfb3Blbl9jb250cmFjdDogMSwgLi4uKGNvbnRyYWN0X2lkICYmIHsgY29udHJhY3RfaWQgfSkgfSwgY2IpO1xuXG4gICAgY29uc3Qgc3Vic2NyaWJlVGlja3MgPSAoc3ltYm9sLCBjYikgPT4gc3Vic2NyaWJlKHsgdGlja3M6IHN5bWJvbCB9LCBjYik7XG5cbiAgICBjb25zdCBzdWJzY3JpYmVUaWNrc0hpc3RvcnkgPSAocmVxdWVzdF9vYmplY3QsIGNiKSA9PiBzdWJzY3JpYmUocmVxdWVzdF9vYmplY3QsIGNiKTtcblxuICAgIGNvbnN0IHN1YnNjcmliZVRyYW5zYWN0aW9uID0gY2IgPT4gc3Vic2NyaWJlKHsgdHJhbnNhY3Rpb246IDEgfSwgY2IpO1xuXG4gICAgY29uc3Qgc3Vic2NyaWJlV2Vic2l0ZVN0YXR1cyA9IGNiID0+IHN1YnNjcmliZSh7IHdlYnNpdGVfc3RhdHVzOiAxIH0sIGNiKTtcblxuICAgIGNvbnN0IGJ1eUFuZFN1YnNjcmliZSA9IHJlcXVlc3QgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpYmVyID0gc3Vic2NyaWJlKHJlcXVlc3QsIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgYnV5ID0gKHsgcHJvcG9zYWxfaWQsIHByaWNlIH0pID0+IGRlcml2X2FwaS5zZW5kKHsgYnV5OiBwcm9wb3NhbF9pZCwgcHJpY2UgfSk7XG5cbiAgICBjb25zdCBzZWxsID0gKGNvbnRyYWN0X2lkLCBiaWRfcHJpY2UpID0+IGRlcml2X2FwaS5zZW5kKHsgc2VsbDogY29udHJhY3RfaWQsIHByaWNlOiBiaWRfcHJpY2UgfSk7XG5cbiAgICBjb25zdCBjYXNoaWVyID0gKGFjdGlvbiwgcGFyYW1ldGVycyA9IHt9KSA9PiBkZXJpdl9hcGkuc2VuZCh7IGNhc2hpZXI6IGFjdGlvbiwgLi4ucGFyYW1ldGVycyB9KTtcblxuICAgIGNvbnN0IGNhc2hpZXJQYXltZW50cyA9ICh7IHByb3ZpZGVyLCB0cmFuc2FjdGlvbl90eXBlIH0pID0+XG4gICAgICAgIGRlcml2X2FwaS5zZW5kKHsgY2FzaGllcl9wYXltZW50czogMSwgcHJvdmlkZXIsIHRyYW5zYWN0aW9uX3R5cGUgfSk7XG5cbiAgICBjb25zdCBzdWJzY3JpYmVDYXNoaWVyUGF5bWVudHMgPSBjYiA9PlxuICAgICAgICBzdWJzY3JpYmUoeyBjYXNoaWVyX3BheW1lbnRzOiAxLCBwcm92aWRlcjogJ2NyeXB0bycsIHRyYW5zYWN0aW9uX3R5cGU6ICdhbGwnIH0sIGNiKTtcblxuICAgIGNvbnN0IGNhbmNlbENyeXB0b1RyYW5zYWN0aW9uID0gdHJhbnNhY3Rpb25faWQgPT5cbiAgICAgICAgZGVyaXZfYXBpLnNlbmQoeyBjYXNoaWVyX3dpdGhkcmF3YWxfY2FuY2VsOiAxLCBpZDogdHJhbnNhY3Rpb25faWQgfSk7XG5cbiAgICBjb25zdCBuZXdBY2NvdW50VmlydHVhbCA9ICh2ZXJpZmljYXRpb25fY29kZSwgY2xpZW50X3Bhc3N3b3JkLCByZXNpZGVuY2UsIGRldmljZV9kYXRhKSA9PlxuICAgICAgICBkZXJpdl9hcGkuc2VuZCh7XG4gICAgICAgICAgICBuZXdfYWNjb3VudF92aXJ0dWFsOiAxLFxuICAgICAgICAgICAgdmVyaWZpY2F0aW9uX2NvZGUsXG4gICAgICAgICAgICBjbGllbnRfcGFzc3dvcmQsXG4gICAgICAgICAgICByZXNpZGVuY2UsXG4gICAgICAgICAgICAuLi5kZXZpY2VfZGF0YSxcbiAgICAgICAgfSk7XG5cbiAgICBjb25zdCBzZXRBY2NvdW50Q3VycmVuY3kgPSAoY3VycmVuY3ksIHBhc3N0aHJvdWdoKSA9PlxuICAgICAgICBkZXJpdl9hcGkuc2VuZCh7XG4gICAgICAgICAgICBzZXRfYWNjb3VudF9jdXJyZW5jeTogY3VycmVuY3ksXG4gICAgICAgICAgICAuLi4ocGFzc3Rocm91Z2ggJiYgeyBwYXNzdGhyb3VnaCB9KSxcbiAgICAgICAgfSk7XG5cbiAgICBjb25zdCBuZXdBY2NvdW50UmVhbCA9IHZhbHVlcyA9PlxuICAgICAgICBkZXJpdl9hcGkuc2VuZCh7XG4gICAgICAgICAgICBuZXdfYWNjb3VudF9yZWFsOiAxLFxuICAgICAgICAgICAgLi4udmFsdWVzLFxuICAgICAgICB9KTtcblxuICAgIGNvbnN0IG5ld0FjY291bnRSZWFsTWFsdGFJbnZlc3QgPSB2YWx1ZXMgPT4gZGVyaXZfYXBpLnNlbmQoeyBuZXdfYWNjb3VudF9tYWx0YWludmVzdDogMSwgLi4udmFsdWVzIH0pO1xuXG4gICAgY29uc3QgbXQ1TmV3QWNjb3VudCA9IHZhbHVlcyA9PlxuICAgICAgICBkZXJpdl9hcGkuc2VuZCh7XG4gICAgICAgICAgICBtdDVfbmV3X2FjY291bnQ6IDEsXG4gICAgICAgICAgICAuLi52YWx1ZXMsXG4gICAgICAgIH0pO1xuXG4gICAgY29uc3QgZ2V0RmluYW5jaWFsQXNzZXNzbWVudCA9ICgpID0+XG4gICAgICAgIGRlcml2X2FwaS5zZW5kKHtcbiAgICAgICAgICAgIGdldF9maW5hbmNpYWxfYXNzZXNzbWVudDogMSxcbiAgICAgICAgfSk7XG5cbiAgICBjb25zdCBwcm9maXRUYWJsZSA9IChsaW1pdCwgb2Zmc2V0LCBkYXRlX2JvdW5kYXJpZXMpID0+XG4gICAgICAgIGRlcml2X2FwaS5zZW5kKHsgcHJvZml0X3RhYmxlOiAxLCBkZXNjcmlwdGlvbjogMSwgbGltaXQsIG9mZnNldCwgLi4uZGF0ZV9ib3VuZGFyaWVzIH0pO1xuXG4gICAgY29uc3Qgc3RhdGVtZW50ID0gKGxpbWl0LCBvZmZzZXQsIG90aGVyX3Byb3BlcnRpZXMpID0+XG4gICAgICAgIGRlcml2X2FwaS5zZW5kKHsgc3RhdGVtZW50OiAxLCBkZXNjcmlwdGlvbjogMSwgbGltaXQsIG9mZnNldCwgLi4ub3RoZXJfcHJvcGVydGllcyB9KTtcblxuICAgIGNvbnN0IHZlcmlmeUVtYWlsID0gKGVtYWlsLCB0eXBlLCBwYXlsb2FkID0ge30pID0+IGRlcml2X2FwaS5zZW5kKHsgdmVyaWZ5X2VtYWlsOiBlbWFpbCwgdHlwZSwgLi4ucGF5bG9hZCB9KTtcblxuICAgIGNvbnN0IHRyYWRpbmdQbGF0Zm9ybVBhc3N3b3JkQ2hhbmdlID0gcGF5bG9hZCA9PlxuICAgICAgICBkZXJpdl9hcGkuc2VuZCh7XG4gICAgICAgICAgICB0cmFkaW5nX3BsYXRmb3JtX3Bhc3N3b3JkX2NoYW5nZTogMSxcbiAgICAgICAgICAgIC4uLnBheWxvYWQsXG4gICAgICAgIH0pO1xuXG4gICAgY29uc3QgdHJhZGluZ1BsYXRmb3JtSW52ZXN0b3JQYXNzd29yZENoYW5nZSA9IHBheWxvYWQgPT5cbiAgICAgICAgZGVyaXZfYXBpLnNlbmQoe1xuICAgICAgICAgICAgdHJhZGluZ19wbGF0Zm9ybV9pbnZlc3Rvcl9wYXNzd29yZF9jaGFuZ2U6IDEsXG4gICAgICAgICAgICAuLi5wYXlsb2FkLFxuICAgICAgICB9KTtcblxuICAgIGNvbnN0IHRyYWRpbmdQbGF0Zm9ybUludmVzdG9yUGFzc3dvcmRSZXNldCA9IHBheWxvYWQgPT5cbiAgICAgICAgZGVyaXZfYXBpLnNlbmQoe1xuICAgICAgICAgICAgdHJhZGluZ19wbGF0Zm9ybV9pbnZlc3Rvcl9wYXNzd29yZF9yZXNldDogMSxcbiAgICAgICAgICAgIC4uLnBheWxvYWQsXG4gICAgICAgIH0pO1xuXG4gICAgY29uc3QgdHJhZGluZ1BsYXRmb3JtUGFzc3dvcmRSZXNldCA9IHBheWxvYWQgPT5cbiAgICAgICAgZGVyaXZfYXBpLnNlbmQoe1xuICAgICAgICAgICAgdHJhZGluZ19wbGF0Zm9ybV9wYXNzd29yZF9yZXNldDogMSxcbiAgICAgICAgICAgIC4uLnBheWxvYWQsXG4gICAgICAgIH0pO1xuXG4gICAgY29uc3QgcGF5bWVudEFnZW50TGlzdCA9IChjb3VudHJ5LCBjdXJyZW5jeSkgPT5cbiAgICAgICAgZGVyaXZfYXBpLnNlbmQoeyBwYXltZW50YWdlbnRfbGlzdDogY291bnRyeSwgLi4uKGN1cnJlbmN5ICYmIHsgY3VycmVuY3kgfSkgfSk7XG5cbiAgICBjb25zdCBhbGxQYXltZW50QWdlbnRMaXN0ID0gY291bnRyeSA9PiBkZXJpdl9hcGkuc2VuZCh7IHBheW1lbnRhZ2VudF9saXN0OiBjb3VudHJ5IH0pO1xuXG4gICAgY29uc3QgcGF5bWVudEFnZW50RGV0YWlscyA9IChwYXNzdGhyb3VnaCwgcmVxX2lkKSA9PlxuICAgICAgICBkZXJpdl9hcGkuc2VuZCh7IHBheW1lbnRhZ2VudF9kZXRhaWxzOiAxLCBwYXNzdGhyb3VnaCwgcmVxX2lkIH0pO1xuXG4gICAgY29uc3QgcGF5bWVudEFnZW50V2l0aGRyYXcgPSAoeyBhbW91bnQsIGN1cnJlbmN5LCBkcnlfcnVuID0gMCwgbG9naW5pZCwgdmVyaWZpY2F0aW9uX2NvZGUgfSkgPT5cbiAgICAgICAgZGVyaXZfYXBpLnNlbmQoe1xuICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgY3VycmVuY3ksXG4gICAgICAgICAgICBkcnlfcnVuLFxuICAgICAgICAgICAgcGF5bWVudGFnZW50X2xvZ2luaWQ6IGxvZ2luaWQsXG4gICAgICAgICAgICBwYXltZW50YWdlbnRfd2l0aGRyYXc6IDEsXG4gICAgICAgICAgICB2ZXJpZmljYXRpb25fY29kZSxcbiAgICAgICAgfSk7XG5cbiAgICBjb25zdCBjcnlwdG9XaXRoZHJhdyA9ICh7IGFkZHJlc3MsIGFtb3VudCwgdmVyaWZpY2F0aW9uX2NvZGUsIGRyeV9ydW4gPSAwIH0pID0+XG4gICAgICAgIGRlcml2X2FwaS5zZW5kKHtcbiAgICAgICAgICAgIGNhc2hpZXI6ICd3aXRoZHJhdycsXG4gICAgICAgICAgICBwcm92aWRlcjogJ2NyeXB0bycsXG4gICAgICAgICAgICB0eXBlOiAnYXBpJyxcbiAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICB2ZXJpZmljYXRpb25fY29kZSxcbiAgICAgICAgICAgIGRyeV9ydW4sXG4gICAgICAgIH0pO1xuXG4gICAgY29uc3QgY3J5cHRvQ29uZmlnID0gKCkgPT5cbiAgICAgICAgZGVyaXZfYXBpLnNlbmQoe1xuICAgICAgICAgICAgY3J5cHRvX2NvbmZpZzogMSxcbiAgICAgICAgfSk7XG5cbiAgICBjb25zdCBwYXltZW50QWdlbnRUcmFuc2ZlciA9ICh7IGFtb3VudCwgY3VycmVuY3ksIGRlc2NyaXB0aW9uLCB0cmFuc2Zlcl90bywgZHJ5X3J1biA9IDAgfSkgPT5cbiAgICAgICAgZGVyaXZfYXBpLnNlbmQoe1xuICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgY3VycmVuY3ksXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHRyYW5zZmVyX3RvLFxuICAgICAgICAgICAgcGF5bWVudGFnZW50X3RyYW5zZmVyOiAxLFxuICAgICAgICAgICAgZHJ5X3J1bixcbiAgICAgICAgfSk7XG5cbiAgICBjb25zdCBhY3RpdmVTeW1ib2xzID0gKG1vZGUgPSAnYnJpZWYnKSA9PiBkZXJpdl9hcGkuYWN0aXZlU3ltYm9scyhtb2RlKTtcblxuICAgIGNvbnN0IHRyYW5zZmVyQmV0d2VlbkFjY291bnRzID0gKGFjY291bnRfZnJvbSwgYWNjb3VudF90bywgY3VycmVuY3ksIGFtb3VudCkgPT5cbiAgICAgICAgZGVyaXZfYXBpLnNlbmQoe1xuICAgICAgICAgICAgdHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50czogMSxcbiAgICAgICAgICAgIGFjY291bnRzOiAnYWxsJyxcbiAgICAgICAgICAgIC4uLihhY2NvdW50X2Zyb20gJiYge1xuICAgICAgICAgICAgICAgIGFjY291bnRfZnJvbSxcbiAgICAgICAgICAgICAgICBhY2NvdW50X3RvLFxuICAgICAgICAgICAgICAgIGN1cnJlbmN5LFxuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcblxuICAgIGNvbnN0IGZvcmdldFN0cmVhbSA9IGlkID0+IGRlcml2X2FwaS5mb3JnZXQoaWQpO1xuXG4gICAgY29uc3QgdG5jQXBwcm92YWwgPSAoKSA9PiBkZXJpdl9hcGkuc2VuZCh7IHRuY19hcHByb3ZhbDogJzEnIH0pO1xuXG4gICAgY29uc3QgY29udHJhY3RVcGRhdGUgPSAoY29udHJhY3RfaWQsIGxpbWl0X29yZGVyKSA9PlxuICAgICAgICBkZXJpdl9hcGkuc2VuZCh7XG4gICAgICAgICAgICBjb250cmFjdF91cGRhdGU6IDEsXG4gICAgICAgICAgICBjb250cmFjdF9pZCxcbiAgICAgICAgICAgIGxpbWl0X29yZGVyLFxuICAgICAgICB9KTtcblxuICAgIGNvbnN0IGNvbnRyYWN0VXBkYXRlSGlzdG9yeSA9IGNvbnRyYWN0X2lkID0+XG4gICAgICAgIGRlcml2X2FwaS5zZW5kKHtcbiAgICAgICAgICAgIGNvbnRyYWN0X3VwZGF0ZV9oaXN0b3J5OiAxLFxuICAgICAgICAgICAgY29udHJhY3RfaWQsXG4gICAgICAgIH0pO1xuXG4gICAgY29uc3QgY2FuY2VsQ29udHJhY3QgPSBjb250cmFjdF9pZCA9PiBkZXJpdl9hcGkuc2VuZCh7IGNhbmNlbDogY29udHJhY3RfaWQgfSk7XG5cbiAgICBjb25zdCBwMnBBZHZlcnRpc2VySW5mbyA9ICgpID0+IGRlcml2X2FwaS5zZW5kKHsgcDJwX2FkdmVydGlzZXJfaW5mbzogMSB9KTtcblxuICAgIGNvbnN0IGZldGNoTG9naW5IaXN0b3J5ID0gbGltaXQgPT5cbiAgICAgICAgZGVyaXZfYXBpLnNlbmQoe1xuICAgICAgICAgICAgbG9naW5faGlzdG9yeTogMSxcbiAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICB9KTtcblxuICAgIC8vIHN1YnNjcmliZSBtZXRob2QgZXhwb3J0IGZvciBQMlAgdXNlIG9ubHlcbiAgICAvLyBzbyB0aGF0IHN1YnNjcmliZSByZW1haW5zIHByaXZhdGVcbiAgICBjb25zdCBwMnBTdWJzY3JpYmUgPSAocmVxdWVzdCwgY2IpID0+IHN1YnNjcmliZShyZXF1ZXN0LCBjYik7XG4gICAgY29uc3QgYWNjb3VudFN0YXRpc3RpY3MgPSAoKSA9PiBkZXJpdl9hcGkuc2VuZCh7IGFjY291bnRfc3RhdGlzdGljczogMSB9KTtcblxuICAgIGNvbnN0IHJlYWxpdHlDaGVjayA9ICgpID0+IGRlcml2X2FwaS5zZW5kKHsgcmVhbGl0eV9jaGVjazogMSB9KTtcblxuICAgIGNvbnN0IHRyYWRpbmdTZXJ2ZXJzID0gcGxhdGZvcm0gPT4gZGVyaXZfYXBpLnNlbmQoeyBwbGF0Zm9ybSwgdHJhZGluZ19zZXJ2ZXJzOiAxIH0pO1xuXG4gICAgY29uc3QgdHJhZGluZ1BsYXRmb3JtQWNjb3VudHNMaXN0ID0gcGxhdGZvcm0gPT5cbiAgICAgICAgZGVyaXZfYXBpLnNlbmQoe1xuICAgICAgICAgICAgdHJhZGluZ19wbGF0Zm9ybV9hY2NvdW50czogMSxcbiAgICAgICAgICAgIHBsYXRmb3JtLFxuICAgICAgICB9KTtcblxuICAgIGNvbnN0IHRyYWRpbmdQbGF0Zm9ybU5ld0FjY291bnQgPSB2YWx1ZXMgPT5cbiAgICAgICAgZGVyaXZfYXBpLnNlbmQoe1xuICAgICAgICAgICAgdHJhZGluZ19wbGF0Zm9ybV9uZXdfYWNjb3VudDogMSxcbiAgICAgICAgICAgIC4uLnZhbHVlcyxcbiAgICAgICAgfSk7XG5cbiAgICBjb25zdCB0cmlnZ2VyTXQ1RHJ5UnVuID0gKHsgZW1haWwgfSkgPT5cbiAgICAgICAgZGVyaXZfYXBpLnNlbmQoe1xuICAgICAgICAgICAgYWNjb3VudF90eXBlOiAnZmluYW5jaWFsJyxcbiAgICAgICAgICAgIGRyeV9ydW46IDEsXG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIGxldmVyYWdlOiAxMDAsXG4gICAgICAgICAgICBtYWluUGFzc3dvcmQ6ICdUZXN0MTIzNCcsXG4gICAgICAgICAgICBtdDVfYWNjb3VudF90eXBlOiAnZmluYW5jaWFsX3N0cCcsXG4gICAgICAgICAgICBtdDVfbmV3X2FjY291bnQ6IDEsXG4gICAgICAgICAgICBuYW1lOiAndGVzdCByZWFsIGxhYnVhbiBmaW5hbmNpYWwgc3RwJyxcbiAgICAgICAgfSk7XG5cbiAgICBjb25zdCBjaGFuZ2VFbWFpbCA9IGFwaV9yZXF1ZXN0ID0+IGRlcml2X2FwaS5zZW5kKGFwaV9yZXF1ZXN0KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQsXG4gICAgICAgIG9wZW5OZXdDb25uZWN0aW9uLFxuICAgICAgICBmb3JnZXRTdHJlYW0sXG4gICAgICAgIHdhaXQsXG4gICAgICAgIGF2YWlsYWJpbGl0eSxcbiAgICAgICAgaGFzUmVhZHlTdGF0ZSxcbiAgICAgICAgaXNTaXRlRG93bixcbiAgICAgICAgaXNTaXRlVXBkYXRpbmcsXG4gICAgICAgIGNsZWFyOiAoKSA9PiB7XG4gICAgICAgICAgICAvLyBkbyBub3RoaW5nLlxuICAgICAgICB9LFxuICAgICAgICBzZW5kQnVmZmVyZWQ6ICgpID0+IHtcbiAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcuXG4gICAgICAgIH0sXG4gICAgICAgIGdldFNvY2tldDogKCkgPT4gYmluYXJ5X3NvY2tldCxcbiAgICAgICAgZ2V0OiAoKSA9PiBkZXJpdl9hcGksXG4gICAgICAgIGdldEF2YWlsYWJpbGl0eTogKCkgPT4gYXZhaWxhYmlsaXR5LFxuICAgICAgICBzZXRPbkRpc2Nvbm5lY3Q6IG9uRGlzY29ubmVjdCA9PiB7XG4gICAgICAgICAgICBjb25maWcub25EaXNjb25uZWN0ID0gb25EaXNjb25uZWN0O1xuICAgICAgICB9LFxuICAgICAgICBzZXRPblJlY29ubmVjdDogb25SZWNvbm5lY3QgPT4ge1xuICAgICAgICAgICAgY29uZmlnLm9uUmVjb25uZWN0ID0gb25SZWNvbm5lY3Q7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZU9uUmVjb25uZWN0OiAoKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgY29uZmlnLm9uUmVjb25uZWN0O1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVPbkRpc2Nvbm5lY3Q6ICgpID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZSBjb25maWcub25EaXNjb25uZWN0O1xuICAgICAgICB9LFxuICAgICAgICBjYWNoZTogZGVsZWdhdGVUb09iamVjdCh7fSwgKCkgPT4gZGVyaXZfYXBpLmNhY2hlKSxcbiAgICAgICAgc3RvcmFnZTogZGVsZWdhdGVUb09iamVjdCh7fSwgKCkgPT4gZGVyaXZfYXBpLnN0b3JhZ2UpLFxuICAgICAgICBidXksXG4gICAgICAgIGJ1eUFuZFN1YnNjcmliZSxcbiAgICAgICAgc2VsbCxcbiAgICAgICAgY2FzaGllcixcbiAgICAgICAgY2FzaGllclBheW1lbnRzLFxuICAgICAgICBzdWJzY3JpYmVDYXNoaWVyUGF5bWVudHMsXG4gICAgICAgIGNhbmNlbENyeXB0b1RyYW5zYWN0aW9uLFxuICAgICAgICBjYW5jZWxDb250cmFjdCxcbiAgICAgICAgY2xvc2UsXG4gICAgICAgIGNyeXB0b1dpdGhkcmF3LFxuICAgICAgICBjcnlwdG9Db25maWcsXG4gICAgICAgIGNvbnRyYWN0VXBkYXRlLFxuICAgICAgICBjb250cmFjdFVwZGF0ZUhpc3RvcnksXG4gICAgICAgIGdldEZpbmFuY2lhbEFzc2Vzc21lbnQsXG4gICAgICAgIG10NU5ld0FjY291bnQsXG4gICAgICAgIG5ld0FjY291bnRWaXJ0dWFsLFxuICAgICAgICBuZXdBY2NvdW50UmVhbCxcbiAgICAgICAgbmV3QWNjb3VudFJlYWxNYWx0YUludmVzdCxcbiAgICAgICAgcDJwQWR2ZXJ0aXNlckluZm8sXG4gICAgICAgIHAycFN1YnNjcmliZSxcbiAgICAgICAgcHJvZml0VGFibGUsXG4gICAgICAgIHN0YXRlbWVudCxcbiAgICAgICAgdmVyaWZ5RW1haWwsXG4gICAgICAgIHRyYWRpbmdQbGF0Zm9ybVBhc3N3b3JkQ2hhbmdlLFxuICAgICAgICB0cmFkaW5nUGxhdGZvcm1QYXNzd29yZFJlc2V0LFxuICAgICAgICB0cmFkaW5nUGxhdGZvcm1JbnZlc3RvclBhc3N3b3JkQ2hhbmdlLFxuICAgICAgICB0cmFkaW5nUGxhdGZvcm1JbnZlc3RvclBhc3N3b3JkUmVzZXQsXG4gICAgICAgIGFjdGl2ZVN5bWJvbHMsXG4gICAgICAgIHBheW1lbnRBZ2VudExpc3QsXG4gICAgICAgIGFsbFBheW1lbnRBZ2VudExpc3QsXG4gICAgICAgIHBheW1lbnRBZ2VudERldGFpbHMsXG4gICAgICAgIHBheW1lbnRBZ2VudFdpdGhkcmF3LFxuICAgICAgICBwYXltZW50QWdlbnRUcmFuc2ZlcixcbiAgICAgICAgc2V0QWNjb3VudEN1cnJlbmN5LFxuICAgICAgICBiYWxhbmNlQWxsLFxuICAgICAgICBzZXRBdmFpbGFiaWxpdHksXG4gICAgICAgIHN1YnNjcmliZUJhbGFuY2VBbGwsXG4gICAgICAgIHN1YnNjcmliZUJhbGFuY2VBY3RpdmVBY2NvdW50LFxuICAgICAgICBzdWJzY3JpYmVQcm9wb3NhbCxcbiAgICAgICAgc3Vic2NyaWJlUHJvcG9zYWxPcGVuQ29udHJhY3QsXG4gICAgICAgIHN1YnNjcmliZVRpY2tzLFxuICAgICAgICBzdWJzY3JpYmVUaWNrc0hpc3RvcnksXG4gICAgICAgIHN1YnNjcmliZVRyYW5zYWN0aW9uLFxuICAgICAgICBzdWJzY3JpYmVXZWJzaXRlU3RhdHVzLFxuICAgICAgICB0bmNBcHByb3ZhbCxcbiAgICAgICAgdHJhbnNmZXJCZXR3ZWVuQWNjb3VudHMsXG4gICAgICAgIGZldGNoTG9naW5IaXN0b3J5LFxuICAgICAgICBjbG9zZUFuZE9wZW5OZXdDb25uZWN0aW9uLFxuICAgICAgICBhY2NvdW50U3RhdGlzdGljcyxcbiAgICAgICAgcmVhbGl0eUNoZWNrLFxuICAgICAgICB0cmFkaW5nU2VydmVycyxcbiAgICAgICAgdHJhZGluZ1BsYXRmb3JtQWNjb3VudHNMaXN0LFxuICAgICAgICB0cmFkaW5nUGxhdGZvcm1OZXdBY2NvdW50LFxuICAgICAgICB0cmlnZ2VyTXQ1RHJ5UnVuLFxuICAgICAgICBjaGFuZ2VFbWFpbCxcbiAgICB9O1xufSkoKTtcblxuZnVuY3Rpb24gZGVsZWdhdGVUb09iamVjdChiYXNlX29iaiwgZXh0ZW5kaW5nX29ial9nZXR0ZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb3h5KGJhc2Vfb2JqLCB7XG4gICAgICAgIGdldCh0YXJnZXQsIGZpZWxkKSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0W2ZpZWxkXSkgcmV0dXJuIHRhcmdldFtmaWVsZF07XG5cbiAgICAgICAgICAgIGNvbnN0IGV4dGVuZGluZ19vYmogPVxuICAgICAgICAgICAgICAgIHR5cGVvZiBleHRlbmRpbmdfb2JqX2dldHRlciA9PT0gJ2Z1bmN0aW9uJyA/IGV4dGVuZGluZ19vYmpfZ2V0dGVyKCkgOiBleHRlbmRpbmdfb2JqX2dldHRlcjtcblxuICAgICAgICAgICAgaWYgKCFleHRlbmRpbmdfb2JqKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGV4dGVuZGluZ19vYmpbZmllbGRdO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuYmluZChleHRlbmRpbmdfb2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuXG5jb25zdCBwcm94aWVkX3NvY2tldF9iYXNlID0gZGVsZWdhdGVUb09iamVjdChCaW5hcnlTb2NrZXRCYXNlLCAoKSA9PiBCaW5hcnlTb2NrZXRCYXNlLmdldCgpKTtcblxuY29uc3QgcHJveHlGb3JBdXRob3JpemUgPSBvYmogPT5cbiAgICBuZXcgUHJveHkob2JqLCB7XG4gICAgICAgIGdldCh0YXJnZXQsIGZpZWxkKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldFtmaWVsZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJveHlGb3JBdXRob3JpemUodGFyZ2V0W2ZpZWxkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IEJpbmFyeVNvY2tldEJhc2Uud2FpdCgnYXV0aG9yaXplJykudGhlbigoKSA9PiB0YXJnZXRbZmllbGRdKC4uLmFyZ3MpKTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuQmluYXJ5U29ja2V0QmFzZS5hdXRob3JpemVkID0gcHJveHlGb3JBdXRob3JpemUocHJveGllZF9zb2NrZXRfYmFzZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcHJveGllZF9zb2NrZXRfYmFzZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./_common/base/socket_base.js\n");

/***/ }),

/***/ "./_common/base/socket_cache.js":
/*!**************************************!*\
  !*** ./_common/base/socket_cache.js ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar moment = __webpack_require__(/*! moment */ \"../../../node_modules/moment/moment.js\");\n\nvar isEmptyObject = (__webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\").isEmptyObject);\n\nvar getPropertyValue = (__webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\").getPropertyValue);\n\nvar getStaticHash = (__webpack_require__(/*! _common/utility */ \"./_common/utility.js\").getStaticHash);\n\nvar LocalStore = (__webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\").LocalStore);\n/*\n * Caches WS responses to reduce delay time and number of requests\n * Stores data in LocalStore which is the first one available in: localStorage, sessionStorage, InScriptStore\n *\n * 1. It caches only the response of those calls which determined in `config`\n * 2. It doesn't cache responses which returned error\n * 3. The value is requested by BinarySocket,\n *    if this returns a value according to the logic here, socket code take it as response\n *    but also triggers an async `send` request, to keep the cache updated for next time\n * 4. Uses client's time to set and check for expiry, as the expire durations are not so long to need a more precise one\n *    (And doesn't worth to wait for the response of time call)\n * 5. Some responses should be cached by a particular value from request (e.g. contracts_for_frxAUDJPY)\n *    so there can be more than one value for a particular call\n * 6. Clears the whole cache regardless their expire time on the following events:\n *    6.1. Client changes: login / logout / switch loginid\n *    6.2. Detect a new release (static hash changed)\n */\n\n\nvar SocketCache = function () {\n  // keys are msg_type\n  // expire: how long to keep the value (in minutes)\n  var config = {\n    payout_currencies: {\n      expire: 120\n    },\n    proposal_open_contract: {\n      expire: 10\n    },\n    contracts_for: {\n      expire: 10\n    },\n    exchange_rates: {\n      expire: 60\n    },\n    trading_times: {\n      expire: 120\n    } // TODO: Enable statement and profit table caching once we have UI design for handling\n    // transitions between cached table and newly added data to table\n    // statement             : { expire: 10 },\n    // profit_table          : { expire: 10 },\n\n  };\n  var storage_key = 'ws_cache';\n  var data_obj = {};\n  var msg_type_mapping = {\n    history: 'ticks_history',\n    candles: 'ticks_history'\n  };\n\n  var set = function set(key, response) {\n    var msg_type = msg_type_mapping[response.msg_type] || response.msg_type; // check if response has subscription, since we only want to cache non-streaming responses\n    // sold proposal_open_contract response can be cached\n\n    if (response.subscription) {\n      var can_cache = msg_type === 'proposal_open_contract' && response.proposal_open_contract.is_sold;\n      if (!can_cache) return;\n    }\n\n    if (response.echo_req.end === 'latest') return;\n    if (!config[msg_type]) return; // prevent unwanted page behaviour\n    // if a cached version already exists but it gives an error after being called for updating the cache\n\n    var cached_response = get(response.echo_req) || {};\n    var cached_message = cached_response[msg_type];\n    var new_message = response[msg_type];\n    var has_error_or_missing = response.error; // || !(msg_type in response);\n\n    var has_new_value = cached_message && isEmptyValue(cached_message) && !isEmptyValue(new_message);\n    var has_old_cache = cached_message && isEmptyValue(new_message) && !isEmptyValue(cached_message);\n    var has_valid_cache = !isEmptyValue(cached_response) && !cached_response.error;\n\n    if ((has_error_or_missing || has_new_value || has_old_cache) && has_valid_cache) {\n      clear();\n      return;\n    }\n\n    var expires = moment().add(config[msg_type].expire, 'm').valueOf();\n\n    if (!data_obj.static_hash) {\n      data_obj.static_hash = getStaticHash();\n    }\n\n    data_obj[key] = {\n      value: response,\n      expires: expires,\n      msg_type: msg_type\n    };\n    LocalStore.setObject(storage_key, data_obj);\n  };\n\n  var isEmptyValue = function isEmptyValue(data) {\n    var is_empty_data = false;\n\n    if (Array.isArray(data)) {\n      if (!data.length) {\n        is_empty_data = true;\n      }\n    } else if ((typeof response_data === \"undefined\" ? \"undefined\" : _typeof(response_data)) === 'object') {\n      if (!Object.keys(data).length) {\n        is_empty_data = true;\n      }\n    }\n\n    return is_empty_data;\n  };\n\n  var reloadDataObj = function reloadDataObj() {\n    if (isEmptyObject(data_obj)) {\n      data_obj = LocalStore.getObject(storage_key);\n      if (isEmptyObject(data_obj)) return;\n    }\n\n    if (data_obj.static_hash !== getStaticHash()) {\n      // new release\n      clear();\n    }\n  };\n\n  var getData = function getData(key) {\n    return getPropertyValue(data_obj, key) || {};\n  };\n\n  var get = function get(key) {\n    reloadDataObj();\n    var response_obj = getData(key);\n    var response;\n\n    if (moment().isBefore(response_obj.expires)) {\n      response = response_obj.value;\n    } else {\n      // remove if expired\n      remove(key);\n    }\n\n    return response;\n  };\n\n  var getByMsgType = function getByMsgType(msg_type) {\n    reloadDataObj();\n    var key = Object.keys(data_obj).find(function (k) {\n      return getData(k).msg_type === msg_type;\n    });\n    if (!key) return undefined;\n    var response_obj = getData(key);\n    var response;\n\n    if (moment().isBefore(response_obj.expires)) {\n      response = response_obj.value;\n    } else {\n      // remove if expired\n      remove(key);\n    }\n\n    return response;\n  };\n\n  var has = function has(key) {\n    return !!get(key);\n  };\n\n  var remove = function remove(key, should_match_all) {\n    if (should_match_all) {\n      Object.keys(data_obj).forEach(function (data_key) {\n        if (data_key.indexOf(key) !== -1) {\n          delete data_obj[data_key];\n        }\n      });\n    } else if (key in data_obj) {\n      delete data_obj[key];\n    }\n\n    LocalStore.setObject(storage_key, data_obj);\n  };\n\n  var clear = function clear() {\n    LocalStore.remove(storage_key);\n    data_obj = {};\n  };\n\n  return {\n    set: set,\n    get: get,\n    getByMsgType: getByMsgType,\n    has: has,\n    remove: remove,\n    clear: clear\n  };\n}();\n\nmodule.exports = SocketCache;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fY29tbW9uL2Jhc2Uvc29ja2V0X2NhY2hlLmpzLmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTs7QUFUQTtBQVlBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFGQTs7QUFLQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFFQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vX2NvbW1vbi9iYXNlL3NvY2tldF9jYWNoZS5qcz8yMDM0Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuY29uc3QgaXNFbXB0eU9iamVjdCA9IHJlcXVpcmUoJ0BkZXJpdi9zaGFyZWQnKS5pc0VtcHR5T2JqZWN0O1xuY29uc3QgZ2V0UHJvcGVydHlWYWx1ZSA9IHJlcXVpcmUoJ0BkZXJpdi9zaGFyZWQnKS5nZXRQcm9wZXJ0eVZhbHVlO1xuY29uc3QgZ2V0U3RhdGljSGFzaCA9IHJlcXVpcmUoJ19jb21tb24vdXRpbGl0eScpLmdldFN0YXRpY0hhc2g7XG5jb25zdCBMb2NhbFN0b3JlID0gcmVxdWlyZSgnQGRlcml2L3NoYXJlZCcpLkxvY2FsU3RvcmU7XG5cbi8qXG4gKiBDYWNoZXMgV1MgcmVzcG9uc2VzIHRvIHJlZHVjZSBkZWxheSB0aW1lIGFuZCBudW1iZXIgb2YgcmVxdWVzdHNcbiAqIFN0b3JlcyBkYXRhIGluIExvY2FsU3RvcmUgd2hpY2ggaXMgdGhlIGZpcnN0IG9uZSBhdmFpbGFibGUgaW46IGxvY2FsU3RvcmFnZSwgc2Vzc2lvblN0b3JhZ2UsIEluU2NyaXB0U3RvcmVcbiAqXG4gKiAxLiBJdCBjYWNoZXMgb25seSB0aGUgcmVzcG9uc2Ugb2YgdGhvc2UgY2FsbHMgd2hpY2ggZGV0ZXJtaW5lZCBpbiBgY29uZmlnYFxuICogMi4gSXQgZG9lc24ndCBjYWNoZSByZXNwb25zZXMgd2hpY2ggcmV0dXJuZWQgZXJyb3JcbiAqIDMuIFRoZSB2YWx1ZSBpcyByZXF1ZXN0ZWQgYnkgQmluYXJ5U29ja2V0LFxuICogICAgaWYgdGhpcyByZXR1cm5zIGEgdmFsdWUgYWNjb3JkaW5nIHRvIHRoZSBsb2dpYyBoZXJlLCBzb2NrZXQgY29kZSB0YWtlIGl0IGFzIHJlc3BvbnNlXG4gKiAgICBidXQgYWxzbyB0cmlnZ2VycyBhbiBhc3luYyBgc2VuZGAgcmVxdWVzdCwgdG8ga2VlcCB0aGUgY2FjaGUgdXBkYXRlZCBmb3IgbmV4dCB0aW1lXG4gKiA0LiBVc2VzIGNsaWVudCdzIHRpbWUgdG8gc2V0IGFuZCBjaGVjayBmb3IgZXhwaXJ5LCBhcyB0aGUgZXhwaXJlIGR1cmF0aW9ucyBhcmUgbm90IHNvIGxvbmcgdG8gbmVlZCBhIG1vcmUgcHJlY2lzZSBvbmVcbiAqICAgIChBbmQgZG9lc24ndCB3b3J0aCB0byB3YWl0IGZvciB0aGUgcmVzcG9uc2Ugb2YgdGltZSBjYWxsKVxuICogNS4gU29tZSByZXNwb25zZXMgc2hvdWxkIGJlIGNhY2hlZCBieSBhIHBhcnRpY3VsYXIgdmFsdWUgZnJvbSByZXF1ZXN0IChlLmcuIGNvbnRyYWN0c19mb3JfZnJ4QVVESlBZKVxuICogICAgc28gdGhlcmUgY2FuIGJlIG1vcmUgdGhhbiBvbmUgdmFsdWUgZm9yIGEgcGFydGljdWxhciBjYWxsXG4gKiA2LiBDbGVhcnMgdGhlIHdob2xlIGNhY2hlIHJlZ2FyZGxlc3MgdGhlaXIgZXhwaXJlIHRpbWUgb24gdGhlIGZvbGxvd2luZyBldmVudHM6XG4gKiAgICA2LjEuIENsaWVudCBjaGFuZ2VzOiBsb2dpbiAvIGxvZ291dCAvIHN3aXRjaCBsb2dpbmlkXG4gKiAgICA2LjIuIERldGVjdCBhIG5ldyByZWxlYXNlIChzdGF0aWMgaGFzaCBjaGFuZ2VkKVxuICovXG5jb25zdCBTb2NrZXRDYWNoZSA9ICgoKSA9PiB7XG4gICAgLy8ga2V5cyBhcmUgbXNnX3R5cGVcbiAgICAvLyBleHBpcmU6IGhvdyBsb25nIHRvIGtlZXAgdGhlIHZhbHVlIChpbiBtaW51dGVzKVxuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgcGF5b3V0X2N1cnJlbmNpZXM6IHsgZXhwaXJlOiAxMjAgfSxcbiAgICAgICAgcHJvcG9zYWxfb3Blbl9jb250cmFjdDogeyBleHBpcmU6IDEwIH0sXG4gICAgICAgIGNvbnRyYWN0c19mb3I6IHsgZXhwaXJlOiAxMCB9LFxuICAgICAgICBleGNoYW5nZV9yYXRlczogeyBleHBpcmU6IDYwIH0sXG4gICAgICAgIHRyYWRpbmdfdGltZXM6IHsgZXhwaXJlOiAxMjAgfSxcbiAgICAgICAgLy8gVE9ETzogRW5hYmxlIHN0YXRlbWVudCBhbmQgcHJvZml0IHRhYmxlIGNhY2hpbmcgb25jZSB3ZSBoYXZlIFVJIGRlc2lnbiBmb3IgaGFuZGxpbmdcbiAgICAgICAgLy8gdHJhbnNpdGlvbnMgYmV0d2VlbiBjYWNoZWQgdGFibGUgYW5kIG5ld2x5IGFkZGVkIGRhdGEgdG8gdGFibGVcbiAgICAgICAgLy8gc3RhdGVtZW50ICAgICAgICAgICAgIDogeyBleHBpcmU6IDEwIH0sXG4gICAgICAgIC8vIHByb2ZpdF90YWJsZSAgICAgICAgICA6IHsgZXhwaXJlOiAxMCB9LFxuICAgIH07XG5cbiAgICBjb25zdCBzdG9yYWdlX2tleSA9ICd3c19jYWNoZSc7XG5cbiAgICBsZXQgZGF0YV9vYmogPSB7fTtcblxuICAgIGNvbnN0IG1zZ190eXBlX21hcHBpbmcgPSB7XG4gICAgICAgIGhpc3Rvcnk6ICd0aWNrc19oaXN0b3J5JyxcbiAgICAgICAgY2FuZGxlczogJ3RpY2tzX2hpc3RvcnknLFxuICAgIH07XG5cbiAgICBjb25zdCBzZXQgPSAoa2V5LCByZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCBtc2dfdHlwZSA9IG1zZ190eXBlX21hcHBpbmdbcmVzcG9uc2UubXNnX3R5cGVdIHx8IHJlc3BvbnNlLm1zZ190eXBlO1xuICAgICAgICAvLyBjaGVjayBpZiByZXNwb25zZSBoYXMgc3Vic2NyaXB0aW9uLCBzaW5jZSB3ZSBvbmx5IHdhbnQgdG8gY2FjaGUgbm9uLXN0cmVhbWluZyByZXNwb25zZXNcbiAgICAgICAgLy8gc29sZCBwcm9wb3NhbF9vcGVuX2NvbnRyYWN0IHJlc3BvbnNlIGNhbiBiZSBjYWNoZWRcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgY29uc3QgY2FuX2NhY2hlID0gbXNnX3R5cGUgPT09ICdwcm9wb3NhbF9vcGVuX2NvbnRyYWN0JyAmJiByZXNwb25zZS5wcm9wb3NhbF9vcGVuX2NvbnRyYWN0LmlzX3NvbGQ7XG4gICAgICAgICAgICBpZiAoIWNhbl9jYWNoZSkgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLmVjaG9fcmVxLmVuZCA9PT0gJ2xhdGVzdCcpIHJldHVybjtcblxuICAgICAgICBpZiAoIWNvbmZpZ1ttc2dfdHlwZV0pIHJldHVybjtcbiAgICAgICAgLy8gcHJldmVudCB1bndhbnRlZCBwYWdlIGJlaGF2aW91clxuICAgICAgICAvLyBpZiBhIGNhY2hlZCB2ZXJzaW9uIGFscmVhZHkgZXhpc3RzIGJ1dCBpdCBnaXZlcyBhbiBlcnJvciBhZnRlciBiZWluZyBjYWxsZWQgZm9yIHVwZGF0aW5nIHRoZSBjYWNoZVxuICAgICAgICBjb25zdCBjYWNoZWRfcmVzcG9uc2UgPSBnZXQocmVzcG9uc2UuZWNob19yZXEpIHx8IHt9O1xuICAgICAgICBjb25zdCBjYWNoZWRfbWVzc2FnZSA9IGNhY2hlZF9yZXNwb25zZVttc2dfdHlwZV07XG4gICAgICAgIGNvbnN0IG5ld19tZXNzYWdlID0gcmVzcG9uc2VbbXNnX3R5cGVdO1xuXG4gICAgICAgIGNvbnN0IGhhc19lcnJvcl9vcl9taXNzaW5nID0gcmVzcG9uc2UuZXJyb3I7IC8vIHx8ICEobXNnX3R5cGUgaW4gcmVzcG9uc2UpO1xuICAgICAgICBjb25zdCBoYXNfbmV3X3ZhbHVlID0gY2FjaGVkX21lc3NhZ2UgJiYgaXNFbXB0eVZhbHVlKGNhY2hlZF9tZXNzYWdlKSAmJiAhaXNFbXB0eVZhbHVlKG5ld19tZXNzYWdlKTtcbiAgICAgICAgY29uc3QgaGFzX29sZF9jYWNoZSA9IGNhY2hlZF9tZXNzYWdlICYmIGlzRW1wdHlWYWx1ZShuZXdfbWVzc2FnZSkgJiYgIWlzRW1wdHlWYWx1ZShjYWNoZWRfbWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IGhhc192YWxpZF9jYWNoZSA9ICFpc0VtcHR5VmFsdWUoY2FjaGVkX3Jlc3BvbnNlKSAmJiAhY2FjaGVkX3Jlc3BvbnNlLmVycm9yO1xuXG4gICAgICAgIGlmICgoaGFzX2Vycm9yX29yX21pc3NpbmcgfHwgaGFzX25ld192YWx1ZSB8fCBoYXNfb2xkX2NhY2hlKSAmJiBoYXNfdmFsaWRfY2FjaGUpIHtcbiAgICAgICAgICAgIGNsZWFyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleHBpcmVzID0gbW9tZW50KCkuYWRkKGNvbmZpZ1ttc2dfdHlwZV0uZXhwaXJlLCAnbScpLnZhbHVlT2YoKTtcblxuICAgICAgICBpZiAoIWRhdGFfb2JqLnN0YXRpY19oYXNoKSB7XG4gICAgICAgICAgICBkYXRhX29iai5zdGF0aWNfaGFzaCA9IGdldFN0YXRpY0hhc2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGFfb2JqW2tleV0gPSB7IHZhbHVlOiByZXNwb25zZSwgZXhwaXJlcywgbXNnX3R5cGUgfTtcbiAgICAgICAgTG9jYWxTdG9yZS5zZXRPYmplY3Qoc3RvcmFnZV9rZXksIGRhdGFfb2JqKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaXNFbXB0eVZhbHVlID0gZGF0YSA9PiB7XG4gICAgICAgIGxldCBpc19lbXB0eV9kYXRhID0gZmFsc2U7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICBpZiAoIWRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaXNfZW1wdHlfZGF0YSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlc3BvbnNlX2RhdGEgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlzX2VtcHR5X2RhdGEgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc19lbXB0eV9kYXRhO1xuICAgIH07XG5cbiAgICBjb25zdCByZWxvYWREYXRhT2JqID0gKCkgPT4ge1xuICAgICAgICBpZiAoaXNFbXB0eU9iamVjdChkYXRhX29iaikpIHtcbiAgICAgICAgICAgIGRhdGFfb2JqID0gTG9jYWxTdG9yZS5nZXRPYmplY3Qoc3RvcmFnZV9rZXkpO1xuICAgICAgICAgICAgaWYgKGlzRW1wdHlPYmplY3QoZGF0YV9vYmopKSByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YV9vYmouc3RhdGljX2hhc2ggIT09IGdldFN0YXRpY0hhc2goKSkge1xuICAgICAgICAgICAgLy8gbmV3IHJlbGVhc2VcbiAgICAgICAgICAgIGNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0RGF0YSA9IGtleSA9PiBnZXRQcm9wZXJ0eVZhbHVlKGRhdGFfb2JqLCBrZXkpIHx8IHt9O1xuXG4gICAgY29uc3QgZ2V0ID0ga2V5ID0+IHtcbiAgICAgICAgcmVsb2FkRGF0YU9iaigpO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlX29iaiA9IGdldERhdGEoa2V5KTtcblxuICAgICAgICBsZXQgcmVzcG9uc2U7XG4gICAgICAgIGlmIChtb21lbnQoKS5pc0JlZm9yZShyZXNwb25zZV9vYmouZXhwaXJlcykpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gcmVzcG9uc2Vfb2JqLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGlmIGV4cGlyZWRcbiAgICAgICAgICAgIHJlbW92ZShrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRCeU1zZ1R5cGUgPSBtc2dfdHlwZSA9PiB7XG4gICAgICAgIHJlbG9hZERhdGFPYmooKTtcblxuICAgICAgICBjb25zdCBrZXkgPSBPYmplY3Qua2V5cyhkYXRhX29iaikuZmluZChrID0+IGdldERhdGEoaykubXNnX3R5cGUgPT09IG1zZ190eXBlKTtcblxuICAgICAgICBpZiAoIWtleSkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICBjb25zdCByZXNwb25zZV9vYmogPSBnZXREYXRhKGtleSk7XG5cbiAgICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgICBpZiAobW9tZW50KCkuaXNCZWZvcmUocmVzcG9uc2Vfb2JqLmV4cGlyZXMpKSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IHJlc3BvbnNlX29iai52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBpZiBleHBpcmVkXG4gICAgICAgICAgICByZW1vdmUoa2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFzID0ga2V5ID0+IHtcbiAgICAgICAgcmV0dXJuICEhZ2V0KGtleSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbW92ZSA9IChrZXksIHNob3VsZF9tYXRjaF9hbGwpID0+IHtcbiAgICAgICAgaWYgKHNob3VsZF9tYXRjaF9hbGwpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGFfb2JqKS5mb3JFYWNoKGRhdGFfa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YV9rZXkuaW5kZXhPZihrZXkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGF0YV9vYmpbZGF0YV9rZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSBpbiBkYXRhX29iaikge1xuICAgICAgICAgICAgZGVsZXRlIGRhdGFfb2JqW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgTG9jYWxTdG9yZS5zZXRPYmplY3Qoc3RvcmFnZV9rZXksIGRhdGFfb2JqKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXIgPSAoKSA9PiB7XG4gICAgICAgIExvY2FsU3RvcmUucmVtb3ZlKHN0b3JhZ2Vfa2V5KTtcbiAgICAgICAgZGF0YV9vYmogPSB7fTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0LFxuICAgICAgICBnZXQsXG4gICAgICAgIGdldEJ5TXNnVHlwZSxcbiAgICAgICAgaGFzLFxuICAgICAgICByZW1vdmUsXG4gICAgICAgIGNsZWFyLFxuICAgIH07XG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNvY2tldENhY2hlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./_common/base/socket_cache.js\n");

/***/ }),

/***/ "./_common/utility.js":
/*!****************************!*\
  !*** ./_common/utility.js ***!
  \****************************/
/***/ ((module) => {

eval("function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar template = function template(string, content) {\n  var to_replace = content;\n\n  if (content && !Array.isArray(content)) {\n    to_replace = [content];\n  }\n\n  return string.replace(/\\[_(\\d+)]/g, function (s, index) {\n    return to_replace[+index - 1];\n  });\n};\n/**\n * Creates a DOM element and adds any attributes to it.\n *\n * @param {String} tag_name: the tag to create, e.g. 'div', 'a', etc\n * @param {Object} attributes: all the attributes to assign, e.g. { id: '...', class: '...', html: '...', ... }\n * @return the created DOM element\n */\n\n\nvar createElement = function createElement(tag_name) {\n  var attributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var el = document.createElement(tag_name);\n  Object.keys(attributes).forEach(function (attr) {\n    var value = attributes[attr];\n\n    if (attr === 'text') {\n      el.textContent = value;\n    } else if (attr === 'html') {\n      el.html(value);\n    } else {\n      el.setAttribute(attr, value);\n    }\n  });\n  return el;\n};\n\nvar static_hash;\n\nvar getStaticHash = function getStaticHash() {\n  static_hash = static_hash || (document.querySelector('script[src*=\"main\"]').getAttribute('src') || '').split('.')[1];\n  return static_hash;\n};\n\nvar PromiseClass = /*#__PURE__*/_createClass(function PromiseClass() {\n  var _this = this;\n\n  _classCallCheck(this, PromiseClass);\n\n  this.promise = new Promise(function (resolve, reject) {\n    _this.reject = reject;\n    _this.resolve = resolve;\n  });\n});\n\nvar copyToClipboard = function copyToClipboard(text) {\n  var textField = document.createElement('textarea');\n  textField.innerText = text;\n  document.body.appendChild(textField);\n  textField.select();\n  document.execCommand('copy');\n  textField.remove();\n}; // TODO: [duplicate_code] - Move this to shared package\n// eu countries to support\n\n\nvar eu_countries = ['it', 'de', 'fr', 'lu', 'gr', 'mf', 'es', 'sk', 'lt', 'nl', 'at', 'bg', 'si', 'cy', 'be', 'ro', 'hr', 'pt', 'pl', 'lv', 'ee', 'cz', 'fi', 'hu', 'dk', 'se', 'ie', 'im', 'gb', 'mt']; // TODO: [duplicate_code] - Move this to shared package\n// check if client is from EU\n\nvar isEuCountry = function isEuCountry(country) {\n  return eu_countries.includes(country);\n}; // countries where synthetics are not offered\n\n\nvar countries_without_synthetics = ['sg', 'de', 'gr', 'es', 'au', 'it', 'lu']; // check if synthetics are offered based on country\n\nvar isSyntheticsUnavailable = function isSyntheticsUnavailable(country) {\n  return countries_without_synthetics.includes(country);\n}; // countries where binary options are blocked\n\n\nvar blocked_options_countries = ['au', 'fr'];\n\nvar isOptionsBlocked = function isOptionsBlocked(country) {\n  return blocked_options_countries.includes(country);\n}; // countries where only multipliers are offered\n\n\nvar multipliers_only_countries = ['de', 'es', 'it', 'lu', 'gr', 'au', 'fr'];\n\nvar isMultipliersOnly = function isMultipliersOnly(country) {\n  return multipliers_only_countries.includes(country);\n};\n\nmodule.exports = {\n  template: template,\n  createElement: createElement,\n  getStaticHash: getStaticHash,\n  PromiseClass: PromiseClass,\n  isEuCountry: isEuCountry,\n  isOptionsBlocked: isOptionsBlocked,\n  isSyntheticsUnavailable: isSyntheticsUnavailable,\n  isMultipliersOnly: isMultipliersOnly,\n  copyToClipboard: copyToClipboard\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fY29tbW9uL3V0aWxpdHkuanM/YjRiMCJdLCJuYW1lcyI6WyJ0ZW1wbGF0ZSIsInN0cmluZyIsImNvbnRlbnQiLCJ0b19yZXBsYWNlIiwiQXJyYXkiLCJpc0FycmF5IiwicmVwbGFjZSIsInMiLCJpbmRleCIsImNyZWF0ZUVsZW1lbnQiLCJ0YWdfbmFtZSIsImF0dHJpYnV0ZXMiLCJlbCIsImRvY3VtZW50IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJhdHRyIiwidmFsdWUiLCJ0ZXh0Q29udGVudCIsImh0bWwiLCJzZXRBdHRyaWJ1dGUiLCJzdGF0aWNfaGFzaCIsImdldFN0YXRpY0hhc2giLCJxdWVyeVNlbGVjdG9yIiwiZ2V0QXR0cmlidXRlIiwic3BsaXQiLCJQcm9taXNlQ2xhc3MiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjb3B5VG9DbGlwYm9hcmQiLCJ0ZXh0IiwidGV4dEZpZWxkIiwiaW5uZXJUZXh0IiwiYm9keSIsImFwcGVuZENoaWxkIiwic2VsZWN0IiwiZXhlY0NvbW1hbmQiLCJyZW1vdmUiLCJldV9jb3VudHJpZXMiLCJpc0V1Q291bnRyeSIsImNvdW50cnkiLCJpbmNsdWRlcyIsImNvdW50cmllc193aXRob3V0X3N5bnRoZXRpY3MiLCJpc1N5bnRoZXRpY3NVbmF2YWlsYWJsZSIsImJsb2NrZWRfb3B0aW9uc19jb3VudHJpZXMiLCJpc09wdGlvbnNCbG9ja2VkIiwibXVsdGlwbGllcnNfb25seV9jb3VudHJpZXMiLCJpc011bHRpcGxpZXJzT25seSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQU1BLFFBQVEsR0FBRyxTQUFYQSxRQUFXLENBQUNDLE1BQUQsRUFBU0MsT0FBVCxFQUFxQjtBQUNsQyxNQUFJQyxVQUFVLEdBQUdELE9BQWpCOztBQUNBLE1BQUlBLE9BQU8sSUFBSSxDQUFDRSxLQUFLLENBQUNDLE9BQU4sQ0FBY0gsT0FBZCxDQUFoQixFQUF3QztBQUNwQ0MsSUFBQUEsVUFBVSxHQUFHLENBQUNELE9BQUQsQ0FBYjtBQUNIOztBQUNELFNBQU9ELE1BQU0sQ0FBQ0ssT0FBUCxDQUFlLFlBQWYsRUFBNkIsVUFBQ0MsQ0FBRCxFQUFJQyxLQUFKO0FBQUEsV0FBY0wsVUFBVSxDQUFDLENBQUNLLEtBQUQsR0FBUyxDQUFWLENBQXhCO0FBQUEsR0FBN0IsQ0FBUDtBQUNILENBTkQ7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EsSUFBTUMsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixDQUFDQyxRQUFELEVBQStCO0FBQUEsTUFBcEJDLFVBQW9CLHVFQUFQLEVBQU87QUFDakQsTUFBTUMsRUFBRSxHQUFHQyxRQUFRLENBQUNKLGFBQVQsQ0FBdUJDLFFBQXZCLENBQVg7QUFDQUksRUFBQUEsTUFBTSxDQUFDQyxJQUFQLENBQVlKLFVBQVosRUFBd0JLLE9BQXhCLENBQWdDLFVBQUFDLElBQUksRUFBSTtBQUNwQyxRQUFNQyxLQUFLLEdBQUdQLFVBQVUsQ0FBQ00sSUFBRCxDQUF4Qjs7QUFDQSxRQUFJQSxJQUFJLEtBQUssTUFBYixFQUFxQjtBQUNqQkwsTUFBQUEsRUFBRSxDQUFDTyxXQUFILEdBQWlCRCxLQUFqQjtBQUNILEtBRkQsTUFFTyxJQUFJRCxJQUFJLEtBQUssTUFBYixFQUFxQjtBQUN4QkwsTUFBQUEsRUFBRSxDQUFDUSxJQUFILENBQVFGLEtBQVI7QUFDSCxLQUZNLE1BRUE7QUFDSE4sTUFBQUEsRUFBRSxDQUFDUyxZQUFILENBQWdCSixJQUFoQixFQUFzQkMsS0FBdEI7QUFDSDtBQUNKLEdBVEQ7QUFVQSxTQUFPTixFQUFQO0FBQ0gsQ0FiRDs7QUFlQSxJQUFJVSxXQUFKOztBQUNBLElBQU1DLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsR0FBTTtBQUN4QkQsRUFBQUEsV0FBVyxHQUNQQSxXQUFXLElBQUksQ0FBQ1QsUUFBUSxDQUFDVyxhQUFULENBQXVCLHFCQUF2QixFQUE4Q0MsWUFBOUMsQ0FBMkQsS0FBM0QsS0FBcUUsRUFBdEUsRUFBMEVDLEtBQTFFLENBQWdGLEdBQWhGLEVBQXFGLENBQXJGLENBRG5CO0FBRUEsU0FBT0osV0FBUDtBQUNILENBSkQ7O0lBTU1LLFksNkJBQ0Ysd0JBQWM7QUFBQTs7QUFBQTs7QUFDVixPQUFLQyxPQUFMLEdBQWUsSUFBSUMsT0FBSixDQUFZLFVBQUNDLE9BQUQsRUFBVUMsTUFBVixFQUFxQjtBQUM1QyxJQUFBLEtBQUksQ0FBQ0EsTUFBTCxHQUFjQSxNQUFkO0FBQ0EsSUFBQSxLQUFJLENBQUNELE9BQUwsR0FBZUEsT0FBZjtBQUNILEdBSGMsQ0FBZjtBQUlILEM7O0FBR0wsSUFBTUUsZUFBZSxHQUFHLFNBQWxCQSxlQUFrQixDQUFBQyxJQUFJLEVBQUk7QUFDNUIsTUFBTUMsU0FBUyxHQUFHckIsUUFBUSxDQUFDSixhQUFULENBQXVCLFVBQXZCLENBQWxCO0FBQ0F5QixFQUFBQSxTQUFTLENBQUNDLFNBQVYsR0FBc0JGLElBQXRCO0FBQ0FwQixFQUFBQSxRQUFRLENBQUN1QixJQUFULENBQWNDLFdBQWQsQ0FBMEJILFNBQTFCO0FBQ0FBLEVBQUFBLFNBQVMsQ0FBQ0ksTUFBVjtBQUNBekIsRUFBQUEsUUFBUSxDQUFDMEIsV0FBVCxDQUFxQixNQUFyQjtBQUNBTCxFQUFBQSxTQUFTLENBQUNNLE1BQVY7QUFDSCxDQVBELEMsQ0FRQTtBQUNBOzs7QUFDQSxJQUFNQyxZQUFZLEdBQUcsQ0FDakIsSUFEaUIsRUFFakIsSUFGaUIsRUFHakIsSUFIaUIsRUFJakIsSUFKaUIsRUFLakIsSUFMaUIsRUFNakIsSUFOaUIsRUFPakIsSUFQaUIsRUFRakIsSUFSaUIsRUFTakIsSUFUaUIsRUFVakIsSUFWaUIsRUFXakIsSUFYaUIsRUFZakIsSUFaaUIsRUFhakIsSUFiaUIsRUFjakIsSUFkaUIsRUFlakIsSUFmaUIsRUFnQmpCLElBaEJpQixFQWlCakIsSUFqQmlCLEVBa0JqQixJQWxCaUIsRUFtQmpCLElBbkJpQixFQW9CakIsSUFwQmlCLEVBcUJqQixJQXJCaUIsRUFzQmpCLElBdEJpQixFQXVCakIsSUF2QmlCLEVBd0JqQixJQXhCaUIsRUF5QmpCLElBekJpQixFQTBCakIsSUExQmlCLEVBMkJqQixJQTNCaUIsRUE0QmpCLElBNUJpQixFQTZCakIsSUE3QmlCLEVBOEJqQixJQTlCaUIsQ0FBckIsQyxDQWdDQTtBQUNBOztBQUNBLElBQU1DLFdBQVcsR0FBRyxTQUFkQSxXQUFjLENBQUFDLE9BQU87QUFBQSxTQUFJRixZQUFZLENBQUNHLFFBQWIsQ0FBc0JELE9BQXRCLENBQUo7QUFBQSxDQUEzQixDLENBQ0E7OztBQUNBLElBQU1FLDRCQUE0QixHQUFHLENBQUMsSUFBRCxFQUFPLElBQVAsRUFBYSxJQUFiLEVBQW1CLElBQW5CLEVBQXlCLElBQXpCLEVBQStCLElBQS9CLEVBQXFDLElBQXJDLENBQXJDLEMsQ0FDQTs7QUFDQSxJQUFNQyx1QkFBdUIsR0FBRyxTQUExQkEsdUJBQTBCLENBQUFILE9BQU87QUFBQSxTQUFJRSw0QkFBNEIsQ0FBQ0QsUUFBN0IsQ0FBc0NELE9BQXRDLENBQUo7QUFBQSxDQUF2QyxDLENBQ0E7OztBQUNBLElBQU1JLHlCQUF5QixHQUFHLENBQUMsSUFBRCxFQUFPLElBQVAsQ0FBbEM7O0FBQ0EsSUFBTUMsZ0JBQWdCLEdBQUcsU0FBbkJBLGdCQUFtQixDQUFBTCxPQUFPO0FBQUEsU0FBSUkseUJBQXlCLENBQUNILFFBQTFCLENBQW1DRCxPQUFuQyxDQUFKO0FBQUEsQ0FBaEMsQyxDQUNBOzs7QUFDQSxJQUFNTSwwQkFBMEIsR0FBRyxDQUFDLElBQUQsRUFBTyxJQUFQLEVBQWEsSUFBYixFQUFtQixJQUFuQixFQUF5QixJQUF6QixFQUErQixJQUEvQixFQUFxQyxJQUFyQyxDQUFuQzs7QUFDQSxJQUFNQyxpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQW9CLENBQUFQLE9BQU87QUFBQSxTQUFJTSwwQkFBMEIsQ0FBQ0wsUUFBM0IsQ0FBb0NELE9BQXBDLENBQUo7QUFBQSxDQUFqQzs7QUFFQVEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JwRCxFQUFBQSxRQUFRLEVBQVJBLFFBRGE7QUFFYlMsRUFBQUEsYUFBYSxFQUFiQSxhQUZhO0FBR2JjLEVBQUFBLGFBQWEsRUFBYkEsYUFIYTtBQUliSSxFQUFBQSxZQUFZLEVBQVpBLFlBSmE7QUFLYmUsRUFBQUEsV0FBVyxFQUFYQSxXQUxhO0FBTWJNLEVBQUFBLGdCQUFnQixFQUFoQkEsZ0JBTmE7QUFPYkYsRUFBQUEsdUJBQXVCLEVBQXZCQSx1QkFQYTtBQVFiSSxFQUFBQSxpQkFBaUIsRUFBakJBLGlCQVJhO0FBU2JsQixFQUFBQSxlQUFlLEVBQWZBO0FBVGEsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB0ZW1wbGF0ZSA9IChzdHJpbmcsIGNvbnRlbnQpID0+IHtcbiAgICBsZXQgdG9fcmVwbGFjZSA9IGNvbnRlbnQ7XG4gICAgaWYgKGNvbnRlbnQgJiYgIUFycmF5LmlzQXJyYXkoY29udGVudCkpIHtcbiAgICAgICAgdG9fcmVwbGFjZSA9IFtjb250ZW50XTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9cXFtfKFxcZCspXS9nLCAocywgaW5kZXgpID0+IHRvX3JlcGxhY2VbK2luZGV4IC0gMV0pO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgRE9NIGVsZW1lbnQgYW5kIGFkZHMgYW55IGF0dHJpYnV0ZXMgdG8gaXQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHRhZ19uYW1lOiB0aGUgdGFnIHRvIGNyZWF0ZSwgZS5nLiAnZGl2JywgJ2EnLCBldGNcbiAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyaWJ1dGVzOiBhbGwgdGhlIGF0dHJpYnV0ZXMgdG8gYXNzaWduLCBlLmcuIHsgaWQ6ICcuLi4nLCBjbGFzczogJy4uLicsIGh0bWw6ICcuLi4nLCAuLi4gfVxuICogQHJldHVybiB0aGUgY3JlYXRlZCBET00gZWxlbWVudFxuICovXG5jb25zdCBjcmVhdGVFbGVtZW50ID0gKHRhZ19uYW1lLCBhdHRyaWJ1dGVzID0ge30pID0+IHtcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnX25hbWUpO1xuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goYXR0ciA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cmlidXRlc1thdHRyXTtcbiAgICAgICAgaWYgKGF0dHIgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyID09PSAnaHRtbCcpIHtcbiAgICAgICAgICAgIGVsLmh0bWwodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGF0dHIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBlbDtcbn07XG5cbmxldCBzdGF0aWNfaGFzaDtcbmNvbnN0IGdldFN0YXRpY0hhc2ggPSAoKSA9PiB7XG4gICAgc3RhdGljX2hhc2ggPVxuICAgICAgICBzdGF0aWNfaGFzaCB8fCAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0W3NyYyo9XCJtYWluXCJdJykuZ2V0QXR0cmlidXRlKCdzcmMnKSB8fCAnJykuc3BsaXQoJy4nKVsxXTtcbiAgICByZXR1cm4gc3RhdGljX2hhc2g7XG59O1xuXG5jbGFzcyBQcm9taXNlQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY29uc3QgY29weVRvQ2xpcGJvYXJkID0gdGV4dCA9PiB7XG4gICAgY29uc3QgdGV4dEZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICB0ZXh0RmllbGQuaW5uZXJUZXh0ID0gdGV4dDtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRGaWVsZCk7XG4gICAgdGV4dEZpZWxkLnNlbGVjdCgpO1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XG4gICAgdGV4dEZpZWxkLnJlbW92ZSgpO1xufTtcbi8vIFRPRE86IFtkdXBsaWNhdGVfY29kZV0gLSBNb3ZlIHRoaXMgdG8gc2hhcmVkIHBhY2thZ2Vcbi8vIGV1IGNvdW50cmllcyB0byBzdXBwb3J0XG5jb25zdCBldV9jb3VudHJpZXMgPSBbXG4gICAgJ2l0JyxcbiAgICAnZGUnLFxuICAgICdmcicsXG4gICAgJ2x1JyxcbiAgICAnZ3InLFxuICAgICdtZicsXG4gICAgJ2VzJyxcbiAgICAnc2snLFxuICAgICdsdCcsXG4gICAgJ25sJyxcbiAgICAnYXQnLFxuICAgICdiZycsXG4gICAgJ3NpJyxcbiAgICAnY3knLFxuICAgICdiZScsXG4gICAgJ3JvJyxcbiAgICAnaHInLFxuICAgICdwdCcsXG4gICAgJ3BsJyxcbiAgICAnbHYnLFxuICAgICdlZScsXG4gICAgJ2N6JyxcbiAgICAnZmknLFxuICAgICdodScsXG4gICAgJ2RrJyxcbiAgICAnc2UnLFxuICAgICdpZScsXG4gICAgJ2ltJyxcbiAgICAnZ2InLFxuICAgICdtdCcsXG5dO1xuLy8gVE9ETzogW2R1cGxpY2F0ZV9jb2RlXSAtIE1vdmUgdGhpcyB0byBzaGFyZWQgcGFja2FnZVxuLy8gY2hlY2sgaWYgY2xpZW50IGlzIGZyb20gRVVcbmNvbnN0IGlzRXVDb3VudHJ5ID0gY291bnRyeSA9PiBldV9jb3VudHJpZXMuaW5jbHVkZXMoY291bnRyeSk7XG4vLyBjb3VudHJpZXMgd2hlcmUgc3ludGhldGljcyBhcmUgbm90IG9mZmVyZWRcbmNvbnN0IGNvdW50cmllc193aXRob3V0X3N5bnRoZXRpY3MgPSBbJ3NnJywgJ2RlJywgJ2dyJywgJ2VzJywgJ2F1JywgJ2l0JywgJ2x1J107XG4vLyBjaGVjayBpZiBzeW50aGV0aWNzIGFyZSBvZmZlcmVkIGJhc2VkIG9uIGNvdW50cnlcbmNvbnN0IGlzU3ludGhldGljc1VuYXZhaWxhYmxlID0gY291bnRyeSA9PiBjb3VudHJpZXNfd2l0aG91dF9zeW50aGV0aWNzLmluY2x1ZGVzKGNvdW50cnkpO1xuLy8gY291bnRyaWVzIHdoZXJlIGJpbmFyeSBvcHRpb25zIGFyZSBibG9ja2VkXG5jb25zdCBibG9ja2VkX29wdGlvbnNfY291bnRyaWVzID0gWydhdScsICdmciddO1xuY29uc3QgaXNPcHRpb25zQmxvY2tlZCA9IGNvdW50cnkgPT4gYmxvY2tlZF9vcHRpb25zX2NvdW50cmllcy5pbmNsdWRlcyhjb3VudHJ5KTtcbi8vIGNvdW50cmllcyB3aGVyZSBvbmx5IG11bHRpcGxpZXJzIGFyZSBvZmZlcmVkXG5jb25zdCBtdWx0aXBsaWVyc19vbmx5X2NvdW50cmllcyA9IFsnZGUnLCAnZXMnLCAnaXQnLCAnbHUnLCAnZ3InLCAnYXUnLCAnZnInXTtcbmNvbnN0IGlzTXVsdGlwbGllcnNPbmx5ID0gY291bnRyeSA9PiBtdWx0aXBsaWVyc19vbmx5X2NvdW50cmllcy5pbmNsdWRlcyhjb3VudHJ5KTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgdGVtcGxhdGUsXG4gICAgY3JlYXRlRWxlbWVudCxcbiAgICBnZXRTdGF0aWNIYXNoLFxuICAgIFByb21pc2VDbGFzcyxcbiAgICBpc0V1Q291bnRyeSxcbiAgICBpc09wdGlvbnNCbG9ja2VkLFxuICAgIGlzU3ludGhldGljc1VuYXZhaWxhYmxlLFxuICAgIGlzTXVsdGlwbGllcnNPbmx5LFxuICAgIGNvcHlUb0NsaXBib2FyZCxcbn07XG4iXSwiZmlsZSI6Ii4vX2NvbW1vbi91dGlsaXR5LmpzLmpzIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./_common/utility.js\n");

/***/ })

}]);