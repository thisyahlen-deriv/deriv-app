(self.webpackChunk_deriv_cfd=self.webpackChunk_deriv_cfd||[]).push([["cfd-app"],{"./src/_common/utility.js":e=>{function t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var n,r=a((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.promise=new Promise((function(e,a){t.reject=a,t.resolve=e}))}));e.exports={template:function(e,t){var a=t;return t&&!Array.isArray(t)&&(a=[t]),e.replace(/\[_(\d+)]/g,(function(e,t){return a[+t-1]}))},createElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=document.createElement(e);return Object.keys(t).forEach((function(e){var n=t[e];"text"===e?a.textContent=n:"html"===e?a.html(n):a.setAttribute(e,n)})),a},getStaticHash:function(){return n=n||(document.querySelector('script[src*="main"]').getAttribute("src")||"").split(".")[1]},PromiseClass:r}},"./src/app.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Bo});var n=a("../../node_modules/prop-types/index.js"),r=a.n(n),o=a("react"),i=a("mobx-react"),c=a("react-router"),l=a("react-router-dom"),s=a("@deriv/shared"),u=a("@deriv/components"),d=a("@deriv/translations"),_=a("@deriv/account/dist/account/js/reset-trading-password-modal"),p=a.n(_);a("@deriv/account/dist/account/css/reset-trading-password-modal.css");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h=o.createContext(null);var b=function(e){var t=e.store,a=e.children;return o.createElement(h.Provider,{value:f(f({},t),{},{mobxStores:t})},a)},v=function(e){return function(t){return function(e,t){var a=function(a){var n=o.useContext(h),r=t;return function(e){return!("function"!=typeof e||!e.prototype||!e.prototype.isReactComponent)}(t)&&(r=function(e){return o.createElement(t,e)}),(0,i.useObserver)((function(){return r(f(f({},a),e(n,a)))}))};return a.displayName=t.name,a}(e,t)}};const y=function(e){var t=e.onClickSignup,a=e.platform;return o.createElement("div",{className:"cfd-dashboard__missing-real"},o.createElement("div",{className:"cfd-dashboard__missing-real-wrapper"},o.createElement(u.Text,{className:"cfd-dashboard__missing-real--heading",as:"h1",weight:"bold",line_height:"l"},a===s.CFD_PLATFORMS.MT5?o.createElement(d.Localize,{i18n_default_text:"You need a real account (fiat currency or cryptocurrency) in Deriv to create a real DMT5 account."}):o.createElement(d.Localize,{i18n_default_text:"To create a Deriv X real account, create a Deriv real account first."}))),o.createElement("div",null,o.createElement(u.Button,{className:"cfd-dashboard__missing-real--button",onClick:t,type:"button",primary:!0,large:!0},o.createElement("span",{className:"btn__text"},o.createElement(d.Localize,{i18n_default_text:"Create a Deriv account"})))))};var w=a("../../node_modules/classnames/index.js"),E=a.n(w);const x=function(e){var t=e.className,a=e.is_invisible,n=e.theme,r=e.id;return o.createElement("div",{id:r,"data-testid":"dt_barspinner",className:E()("barspinner","barspinner--".concat(n||"dark"),{invisible:a},t)},Array.from(new Array(5)).map((function(e,t){return o.createElement("div",{key:t,className:"barspinner__rect barspinner__rect--".concat(t+1," rect").concat(t+1)})})))};const z=function(){return o.createElement("div",{className:"cfd-real-accounts-display"},o.createElement(x,null))};var S=a("../../node_modules/formik/dist/formik.esm.js"),D=a("@deriv/account/dist/account/js/form-sub-header"),O=a.n(D),A=["maxLength","name","optional"];function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){P(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function P(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},F.apply(this,arguments)}function N(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var j=function(e){var t=e.maxLength,a=e.name,n=e.optional,r=void 0!==n&&n,i=N(e,A);return o.createElement(S.gN,{name:a},(function(e){var n=e.field,c=e.form,l=c.errors,s=c.touched;return o.createElement(u.Input,F({},n,{type:"text",required:!r,name:a,autoComplete:"off",maxLength:t||"30",error:s[n.name]&&l[n.name]},i))}))},L=function(e){var t=e.values,a=e.residence_list,n=e.account_opening_reason,r=e.is_tin_required,o=e.has_place_of_birth,i=M(a.filter((function(e){return e.text===t.tax_residence&&e.tin_format})),1)[0],c=null==i?void 0:i.tin_format,l=c||["^[A-Za-z0-9./s-]{0,25}$"],s={citizen:[function(e){return!!e},function(e){return a.map((function(e){return e.text})).includes(e)}],tax_residence:[function(e){return!!e},function(e){return a.map((function(e){return e.text})).includes(e)}],tax_identification_number:[function(e){return!(!t.tax_residence&&r||c)||!!e},function(e){return!l||(null==l?void 0:l.some((function(t){return e.match(t)})))}],account_opening_reason:[function(e){return!!e},function(e){return n.map((function(e){return e.value})).includes(e)}]},u={citizen:(0,d.localize)("Citizenship"),tax_residence:(0,d.localize)("Tax residence"),tax_identification_number:(0,d.localize)("Tax identification number"),account_opening_reason:(0,d.localize)("Account opening reason")};o&&(s.place_of_birth=[function(e){return!!e},function(e){return a.map((function(e){return e.text})).includes(e)}],u.place_of_birth=(0,d.localize)("Place of birth"));var _={};return Object.entries(s).forEach((function(e){var a,n=M(e,2),r=n[0],o=n[1].findIndex((function(e){return!e(t[r])}));-1!==o&&(_[r]=(a=u[r],[(0,d.localize)("{{field_name}} is required",{field_name:a}),(0,d.localize)("{{field_name}} is not properly formatted.",{field_name:a})])[o])})),_};const R=function(e){var t,a,n=e.changeable_fields,r=e.has_previous_button,i=e.is_fully_authenticated,c=e.is_in_personal_details_modal,l=e.is_loading,_=e.landing_company,p=e.residence_list,m=e.onCancel,f=e.onSave,g=e.onSubmit,h=e.value,b=e.index,v=e.form_error,y=[{text:(0,d.localize)("Hedging"),value:"Hedging"},{text:(0,d.localize)("Income Earning"),value:"Income Earning"},{text:(0,d.localize)("Speculative"),value:"Speculative"},{text:(0,d.localize)("Peer-to-peer exchange"),value:"Peer-to-peer exchange"}],w=!(null===(t=null==_||null===(a=_.config)||void 0===a?void 0:a.tax_details_required)||void 0===t||!t),E=function(e){f(b,e),m()};return 0===p.length||l?o.createElement(u.Loading,{is_fullscreen:!1}):o.createElement(S.J9,{initialValues:T({},h),validateOnChange:!0,validateOnBlur:!0,validate:function(e){return L({values:e,residence_list:p,account_opening_reason:y,is_tin_required:w,has_place_of_birth:c})},onSubmit:function(e,t){return function(e,t,a,n,r,o){var i=function(e){var t,a,n,r=e.residence_list,o=e.citizen_text,i=e.tax_residence_text,c=e.place_of_birth_text;return r.forEach((function(e){e.text===o&&(t=e),e.text===c&&(n=e),e.text===i&&(a=e)})),{citizen:t,place_of_birth:n,tax_residence:a}}({residence_list:o,citizen_text:e.citizen,tax_residence_text:e.tax_residence,place_of_birth_text:e.place_of_birth}),c=i.citizen,l=i.place_of_birth,s=i.tax_residence;n(a,T(T({},e),{},{citizen:(null==c?void 0:c.value)||"",place_of_birth:(null==l?void 0:l.value)||"",tax_residence:(null==s?void 0:s.value)||""}),t.setSubmitting,r)}(e,t,b,g,!(0,s.isDeepEqual)(h,e),p)}},(function(e){var t=e.handleSubmit,a=e.isSubmitting,l=e.handleChange,_=e.handleBlur,m=e.errors,f=e.touched,g=e.values,b=e.setFieldValue,w=e.isValid,x=f.citizen&&m.citizen,z=c&&f.place_of_birth&&m.place_of_birth,D=f.tax_residence&&m.tax_residence,A=f.account_opening_reason&&m.account_opening_reason,k=!(!h.citizen||null!=n&&n.includes("citizen")),T=!(!h.place_of_birth||!i)||(null==n?void 0:n.every((function(e){return"place_of_birth"!==e}))),P=!(!h.tax_residence||!i),M=function(e,t){var a=e.value?e.text:"";b(t,a,!0)};return o.createElement(u.AutoHeightWrapper,{default_height:200,height_offset:(0,s.isDesktop)()?148:null},(function(e){var n=e.height,i=e.setRef;return o.createElement("form",{className:c?"cfd-personal-details-modal__form":"cfd-financial-stp-modal__form",ref:i,onSubmit:t,autoComplete:"off"},o.createElement(u.Div100vhContainer,{className:"details-form",max_autoheight_offset:"179px",is_disabled:(0,s.isDesktop)()},o.createElement(u.Text,{as:"p",size:c?"xxs":"xxxs",align:"center",className:"details-form__description","data-testid":"dt_cfd_details_form_description",style:(0,s.isMobile)()?{textAlign:"center",fontSize:c?"1.2rem":"1rem",color:"#333333"}:{}},o.createElement(d.Localize,{i18n_default_text:"Any information you provide is confidential and will be used for verification purposes only."})),o.createElement(u.ThemedScrollbars,{height:c?"512px":n,is_bypassed:(0,s.isMobile)()},o.createElement("div",{className:"details-form__elements"},!c&&o.createElement(O(),{title:(0,d.localize)("Details")}),o.createElement("fieldset",{className:"account-form__fieldset"},o.createElement(u.DesktopWrapper,null,o.createElement(S.gN,{name:"citizen"},(function(e){var t=e.field;return o.createElement(u.Autocomplete,F({},t,{id:"real_mt5_citizenship","data-lpignore":"true",autoComplete:"off",type:"text",label:(0,d.localize)("Citizenship"),error:x,disabled:k,list_items:p,onItemSelection:function(e){return M(e,"citizen")},list_portal_id:"modal_root",required:!0}))}))),o.createElement(u.MobileWrapper,null,o.createElement(u.SelectNative,{placeholder:(0,d.localize)("Please select"),label:(0,d.localize)("Citizenship"),value:g.citizen,list_items:p,error:x,disabled:k,use_text:!0,onChange:function(e){return b("citizen",e.target.value,!0)},required:!0,should_hide_disabled_options:!1}))),c&&o.createElement("fieldset",{className:"account-form__fieldset"},o.createElement(u.DesktopWrapper,null,o.createElement(S.gN,{name:"place_of_birth"},(function(e){var t=e.field;return o.createElement(u.Autocomplete,F({},t,{id:"real_mt5_place_of_birth","data-lpignore":"true",autoComplete:"off",type:"text",label:(0,d.localize)("Place of birth"),error:z,disabled:T,list_items:p,onItemSelection:function(e){return M(e,"place_of_birth")},list_portal_id:"modal_root",required:!0}))}))),o.createElement(u.MobileWrapper,null,o.createElement(u.SelectNative,{placeholder:(0,d.localize)("Please select"),label:(0,d.localize)("Place of birth"),value:g.place_of_birth,list_items:p,error:z,disabled:T,use_text:!0,onChange:function(e){return b("place_of_birth",e.target.value,!0)},required:!0,should_hide_disabled_options:!1}))),!c&&o.createElement(O(),{title:(0,d.localize)("Tax information")}),o.createElement("fieldset",{className:"account-form__fieldset"},o.createElement(u.DesktopWrapper,null,o.createElement(S.gN,{name:"tax_residence"},(function(e){var t=e.field;return o.createElement(u.Autocomplete,F({id:"real_mt5_tax_residence","data-lpignore":"true",type:"text",autoComplete:"off",label:(0,d.localize)("Tax residence"),error:D,disabled:P,list_items:p,onItemSelection:function(e){return M(e,"tax_residence")},list_portal_id:"modal_root"},t))}))),o.createElement(u.MobileWrapper,null,o.createElement(u.SelectNative,{placeholder:(0,d.localize)("Please select"),label:(0,d.localize)("Tax residence"),value:g.tax_residence,error:D,disabled:P,list_items:p,use_text:!0,onChange:function(e){return b("tax_residence",e.target.value,!0)},required:!0}))),o.createElement("fieldset",{className:"account-form__fieldset"},o.createElement(j,{id:"real_mt5_tax_identification_number",name:"tax_identification_number",label:(0,d.localize)("Tax identification number"),placeholder:(0,d.localize)("Tax identification number"),value:g.tax_identification_number,onBlur:_,optional:!0})),!c&&o.createElement(O(),{title:(0,d.localize)("Account opening reason")}),o.createElement(S.gN,{name:"account_opening_reason"},(function(e){var t=e.field;return o.createElement(o.Fragment,null,o.createElement(u.DesktopWrapper,null,o.createElement(u.Dropdown,F({},t,{placeholder:(0,d.localize)("Account opening reason"),is_align_text_left:!0,name:t.name,list:y,value:g.account_opening_reason,onChange:l,handleBlur:_,error:A,list_portal_id:"modal_root"}))),o.createElement(u.MobileWrapper,null,o.createElement(u.SelectNative,F({},t,{placeholder:(0,d.localize)("Please select"),name:t.name,label:(0,d.localize)("Account opening reason"),list_items:y,value:g.account_opening_reason,error:A,onChange:function(e){l(e),b("account_opening_reason",e.target.value,!0)}}))))}))))),o.createElement(u.Modal.Footer,{is_bypassed:(0,s.isMobile)(),has_separator:c},v&&o.createElement(u.FormSubmitErrorMessage,{message:v}),o.createElement(u.FormSubmitButton,{cancel_label:(0,d.localize)("Previous"),is_disabled:a||!w,is_absolute:(0,s.isMobile)(),label:(0,d.localize)("Next"),onCancel:function(){return E(g)},has_cancel:r})))}))}))};function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){B(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function B(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function U(e,t,a,n,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void a(e)}c.done?t(l):Promise.resolve(l).then(n,r)}function W(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){U(o,n,r,i,c,"next",e)}function c(e){U(o,n,r,i,c,"throw",e)}i(void 0)}))}}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const J=v((function(e){var t=e.client,a=e.modules,n=e.ui;return{account_settings:t.account_settings,disableApp:n.disableApp,enableApp:n.enableApp,getChangeableFields:t.getChangeableFields,is_fully_authenticated:t.is_fully_authenticated,is_open:a.cfd.is_cfd_personal_details_modal_visible,landing_company:t.landing_company,openPasswordModal:a.cfd.enableCFDPasswordModal,toggleCFDPersonalDetailsModal:a.cfd.toggleCFDPersonalDetailsModal,toggleJurisdictionModal:a.cfd.toggleJurisdictionModal,residence_list:t.residence_list,setAccountSettings:t.setAccountSettings}}))((function(e){var t=e.account_settings,a=e.disableApp,n=e.enableApp,r=e.getChangeableFields,i=e.is_fully_authenticated,c=e.is_open,l=e.landing_company,_=e.openPasswordModal,p=e.toggleCFDPersonalDetailsModal,m=e.toggleJurisdictionModal,f=e.residence_list,g=e.setAccountSettings,h=X(o.useState(""),2),b=h[0],v=h[1],y=X(o.useState(!1),2),w=y[0],E=y[1],x=X(o.useState({citizen:"",place_of_birth:"",tax_residence:"",tax_identification_number:"",account_opening_reason:""}),2),z=x[0],S=x[1],D=function(){var e=W(regeneratorRuntime.mark((function e(a){var n,r,o,i,c,l,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=11;break}return e.next=3,s.WS.authorized.storage.getSettings();case 3:if(!(r=e.sent).error){e.next=8;break}return v(r.error.message),"function"==typeof a&&a(!1),e.abrupt("return");case 8:n=r.get_settings,e.next=12;break;case 11:n=t;case 12:i=(o=n).citizen,c=o.place_of_birth,l=o.tax_residence,u=o.tax_identification_number,d=o.account_opening_reason,S(V(V({},z),{},{citizen:O(i)||"",place_of_birth:O(c)||"",tax_residence:O(l)||"",tax_identification_number:u||"",account_opening_reason:d||""}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();o.useEffect((function(){c&&(E(!0),D().then((function(){E(!1)})))}),[c]);var O=function(e){var t=X(f.filter((function(t){return t.value===e})),1)[0];return(0,s.getPropertyValue)(t,["text"])||e},A=function(e,t){S(V(V({},t),{},{citizen:O(t.citizen),place_of_birth:O(t.place_of_birth),tax_residence:O(t.tax_residence)}))},k=function(){v(""),p(),m()},T=function(){var e=W(regeneratorRuntime.mark((function e(a,n,r){var o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(i.length>3&&void 0!==i[3])||i[3])){e.next=10;break}return e.next=4,s.WS.setSettings(n);case 4:if(!(o=e.sent).error){e.next=9;break}return v(o.error.message),r(!1),e.abrupt("return");case 9:D(r);case 10:A(0,n),p(),g(V(V({},t),n)),_();case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),P=function(){return o.createElement(u.Div100vhContainer,{className:"cfd-personal-details-modal",id:"cfd-personal-details-modal",is_disabled:(0,s.isDesktop)(),height_offset:"40px"},o.createElement("div",{className:"cfd-personal-details-modal__heading-container"},o.createElement(u.Text,{as:"p",weight:"bold",align:"center",size:"s"},(0,d.localize)("Complete your personal details"))),o.createElement("div",{className:"cfd-personal-details-modal__body"},o.createElement(R,{changeable_fields:r(),form_error:b,has_previous_button:!0,index:0,is_fully_authenticated:i,is_in_personal_details_modal:!0,is_loading:w,landing_company:l,onCancel:k,onSave:A,onSubmit:T,residence_list:f,value:z})))};return o.createElement(o.Fragment,null,o.createElement(u.DesktopWrapper,null,o.createElement(u.Modal,{className:"real-account-signup-modal",disableApp:a,enableApp:n,has_close_icon:!0,height:"688px",id:"cfd-personal-details-modal",is_open:c,title:(0,d.localize)("Add a real MT5 account"),toggleModal:p,width:"904px",exit_classname:"cfd-modal--custom-exit"},P())),o.createElement(u.MobileWrapper,null,o.createElement(u.MobileDialog,{onClose:p,portal_element_id:"modal_root",title:(0,d.localize)("Add a real MT5 account"),visible:c,wrapper_classname:"account-signup-mobile-dialog"},P())))}));function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){H(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function H(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Z=function(e){var t,a,n,r=e.landing_companies,i=e.platform,c=e.is_logged_in,l=e.is_uk,_=c?(i===s.CFD_PLATFORMS.MT5?[null==r||null===(t=r.mt_gaming_company)||void 0===t?void 0:t.financial,null==r||null===(a=r.mt_financial_company)||void 0===a?void 0:a.financial,(null==r||null===(n=r.mt_financial_company)||void 0===n?void 0:n.financial_stp)&&i===s.CFD_PLATFORMS.MT5]:[null==r?void 0:r.dxtrade_gaming_company,null==r?void 0:r.dxtrade_financial_company]).filter(Boolean).length:i===s.CFD_PLATFORMS.MT5?3:2,p=l?o.createElement("div",null,(0,d.localize)("Forex, stocks, stock indices, cryptocurrencies"),o.createElement(u.Text,{size:"s",weight:"bold",className:"cfd-compare-accounts__star"},"**"),(0,d.localize)(", synthetic indices")):(0,d.localize)("Forex, stocks, stock indices, cryptocurrencies, synthetic indices");return[{attribute:(0,d.localize)("Account currency"),mt5:{synthetic:(0,d.localize)("USD"),synthetic_eu:(0,d.localize)("EUR"),financial:(0,d.localize)("USD"),financial_au:(0,d.localize)("USD"),financial_eu:(0,d.localize)("EUR/GBP/USD"),financial_stp:(0,d.localize)("USD"),footnote:null},dxtrade:{synthetic:(0,d.localize)("USD"),synthetic_eu:(0,d.localize)("EUR"),financial:(0,d.localize)("USD"),financial_au:(0,d.localize)("USD"),financial_eu:(0,d.localize)("EUR/GBP"),footnote:null}},{attribute:(0,d.localize)("Maximum leverage"),mt5:{synthetic:(0,d.localize)("Up to 1:1000"),synthetic_eu:(0,d.localize)("Up to 1:1000"),financial:(0,d.localize)("Up to 1:1000"),financial_au:(0,d.localize)("Up to 1:30"),financial_eu:(0,d.localize)("Up to 1:30"),financial_stp:(0,d.localize)("Up to 1:100"),footnote:(0,d.localize)("Leverage gives you the ability to trade a larger position using your existing capital. Leverage varies across different symbols.")},dxtrade:{synthetic:(0,d.localize)("Up to 1:1000"),synthetic_eu:(0,d.localize)("Up to 1:1000"),financial:(0,d.localize)("Up to 1:1000"),financial_au:(0,d.localize)("Up to 1:30"),financial_eu:(0,d.localize)("Up to 1:30"),footnote:(0,d.localize)("Leverage gives you the ability to trade a larger position using your existing capital. Leverage varies across different symbols.")}},{attribute:(0,d.localize)("Order execution"),mt5:{synthetic:(0,d.localize)("Market"),synthetic_eu:(0,d.localize)("Market"),financial:(0,d.localize)("Market"),financial_au:(0,d.localize)("Market"),financial_eu:(0,d.localize)("Market"),financial_stp:(0,d.localize)("Market"),footnote:(0,d.localize)("All {{count}} account types use market execution. This means you agree with the broker's price in advance and will place orders at the broker's price.",{count:_})},dxtrade:{synthetic:(0,d.localize)("Market"),synthetic_eu:(0,d.localize)("Market"),financial:(0,d.localize)("Market"),financial_au:(0,d.localize)("Market"),financial_eu:(0,d.localize)("Market"),footnote:(0,d.localize)("All {{count}} account types use market execution. This means you agree with the broker's price in advance and will place orders at the broker's price.",{count:_})}},{attribute:(0,d.localize)("Spread"),mt5:{synthetic:(0,d.localize)("Fixed/Variable"),synthetic_eu:(0,d.localize)("Fixed/Variable"),financial:(0,d.localize)("Variable"),financial_au:(0,d.localize)("Variable"),financial_eu:(0,d.localize)("Fixed/Variable"),financial_stp:(0,d.localize)("Variable"),footnote:(0,d.localize)("The spread is the difference between the buy price and sell price. A variable spread means that the spread is constantly changing, depending on market conditions. A fixed spread remains constant but is subject to alteration, at the Broker's absolute discretion.")},dxtrade:{synthetic:(0,d.localize)("Fixed/Variable"),synthetic_eu:(0,d.localize)("Fixed/Variable"),financial:(0,d.localize)("Variable"),financial_au:(0,d.localize)("Variable"),financial_eu:(0,d.localize)("Variable"),footnote:(0,d.localize)("The spread is the difference between the buy price and sell price. A variable spread means that the spread is constantly changing, depending on market conditions. A fixed spread remains constant but is subject to alteration, at the Broker's absolute discretion.")}},{attribute:(0,d.localize)("Commission"),mt5:{synthetic:(0,d.localize)("No"),synthetic_eu:(0,d.localize)("No"),financial:(0,d.localize)("No"),financial_au:(0,d.localize)("No"),financial_eu:(0,d.localize)("No"),financial_stp:(0,d.localize)("No"),footnote:(0,d.localize)("Deriv charges no commission across all account types.")},dxtrade:{synthetic:(0,d.localize)("No"),synthetic_eu:(0,d.localize)("No"),financial:(0,d.localize)("No"),financial_au:(0,d.localize)("No"),financial_eu:(0,d.localize)("No"),footnote:(0,d.localize)("Deriv charges no commission across all account types.")}},{attribute:(0,d.localize)("Minimum deposit"),mt5:{synthetic:(0,d.localize)("No"),synthetic_eu:(0,d.localize)("No"),financial:(0,d.localize)("No"),financial_au:(0,d.localize)("No"),financial_eu:(0,d.localize)("No"),financial_stp:(0,d.localize)("No"),footnote:null},dxtrade:{synthetic:(0,d.localize)("No"),synthetic_eu:(0,d.localize)("No"),financial:(0,d.localize)("No"),financial_au:(0,d.localize)("No"),financial_eu:(0,d.localize)("No"),footnote:null}},{attribute:(0,d.localize)("Margin call"),mt5:{synthetic:(0,d.localize)("100%"),synthetic_eu:(0,d.localize)("100%"),financial:(0,d.localize)("100%"),financial_au:(0,d.localize)("100%"),financial_eu:(0,d.localize)("100%"),financial_stp:(0,d.localize)("100%"),footnote:(0,d.localize)("You’ll get a warning, known as margin call, if your account balance drops down close to the stop out level.")},dxtrade:{synthetic:(0,d.localize)("100%"),synthetic_eu:(0,d.localize)("100%"),financial:(0,d.localize)("100%"),financial_au:(0,d.localize)("100%"),financial_eu:(0,d.localize)("100%"),footnote:(0,d.localize)("You’ll get a warning, known as margin call, if your account balance drops down close to the stop out level.")}},{attribute:(0,d.localize)("Stop out level"),mt5:{synthetic:(0,d.localize)("50%"),synthetic_eu:(0,d.localize)("50%"),financial:(0,d.localize)("50%"),financial_au:(0,d.localize)("50%"),financial_eu:(0,d.localize)("50%"),financial_stp:(0,d.localize)("50%"),footnote:(0,d.localize)("To understand stop out, first you need to learn about margin level, which is  the ratio of your equity (the total balance you would have if you close all your positions at that point) to the margin you're using at the moment. If your margin level drops below our stop out level, your positions may be closed automatically to protect you from further losses.")},dxtrade:{synthetic:(0,d.localize)("50%"),synthetic_eu:(0,d.localize)("50%"),financial:(0,d.localize)("50%"),financial_au:(0,d.localize)("50%"),financial_eu:(0,d.localize)("50%"),footnote:(0,d.localize)("To understand stop out, first you need to learn about margin level, which is  the ratio of your equity (the total balance you would have if you close all your positions at that point) to the margin you're using at the moment. If your margin level drops below our stop out level, your positions may be closed automatically to protect you from further losses.")}},{attribute:(0,d.localize)("Number of assets"),mt5:{synthetic:(0,d.localize)("20+"),synthetic_eu:(0,d.localize)("20+"),financial:(0,d.localize)("150+"),financial_au:(0,d.localize)("100+"),financial_eu:(0,d.localize)("50+"),financial_stp:(0,d.localize)("70+"),footnote:null},dxtrade:{synthetic:(0,d.localize)("20+"),synthetic_eu:(0,d.localize)("20+"),financial:(0,d.localize)("90+"),financial_au:(0,d.localize)("90+"),financial_eu:(0,d.localize)("90+"),footnote:null}},{attribute:(0,d.localize)("Cryptocurrency trading"),mt5:{synthetic:(0,d.localize)("N/A"),synthetic_eu:(0,d.localize)("N/A"),financial:(0,d.localize)("24/7"),financial_au:(0,d.localize)("24/7"),financial_eu:(0,d.localize)("24/7"),financial_stp:(0,d.localize)("24/7"),footnote:(0,d.localize)("Indicates the availability of cryptocurrency trading on a particular account.")},dxtrade:{synthetic:(0,d.localize)("N/A"),synthetic_eu:(0,d.localize)("N/A"),financial:(0,d.localize)("24/7"),financial_au:(0,d.localize)("24/7"),financial_eu:(0,d.localize)("24/7"),footnote:(0,d.localize)("Indicates the availability of cryptocurrency trading on a particular account.")}},{attribute:(0,d.localize)("Trading instruments"),mt5:{synthetic:(0,d.localize)("Synthetics"),synthetic_eu:(0,d.localize)("Synthetics"),financial:(0,d.localize)("FX-majors (standard/micro lots), FX-minors, basket indices, commodities, cryptocurrencies, and stocks and stock indices"),financial_au:(0,d.localize)("FX-majors (standard/micro lots), FX-minors, Commodities, Cryptocurrencies, Stocks, and Stock Indices"),financial_eu:p,financial_stp:(0,d.localize)("FX-majors, FX-minors, FX-exotics, and cryptocurrencies"),footnote:null},dxtrade:{synthetic:(0,d.localize)("Synthetics"),synthetic_eu:(0,d.localize)("Synthetics"),financial:(0,d.localize)("FX majors (standard/micro lots), FX minors, basket indices, commodities, and cryptocurrencies"),financial_au:(0,d.localize)("FX-majors (standard/micro lots), FX-minors, Commodities, Cryptocurrencies"),financial_eu:(0,d.localize)("FX-majors (standard/micro lots), FX-minors, Commodities, Cryptocurrencies (except UK)"),footnote:null}}]},Q=function(e){var t=e.name,a=e.counter,n=$(o.useState(!1),2),r=n[0],i=n[1];return a?o.createElement(o.Fragment,null,o.createElement(u.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"cfd-attribute-describer",onClick:function(){return i(!r)}},t,o.createElement(u.Text,{weight:"bold",as:"span",line_height:"x",size:"xxxs",className:"counter"},a))):o.createElement(u.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"cfd-attribute-describer"},t)},ee=function(e){var t=e.landing_companies,a=e.is_logged_in,n=e.show_eu_related,r=e.platform,i=e.residence,c=e.is_uk,l="au"===i;return function(e,t,a,n,r,i){var c=function(e,t,a){return i?t:n?a:e},l=0;return t.filter((function(e){return e[r]})).map((function(t){var i,u,d,_=t.attribute,p=t.mt5,m=void 0===p?{}:p,f=t.dxtrade,g=void 0===f?{}:f,h=r===s.CFD_PLATFORMS.MT5?m:g,b=h.synthetic,v=h.synthetic_eu,y=h.financial,w=h.financial_au,E=h.financial_eu,x=h.footnote,z={synthetic:n?v:b},S={financial:c(y,w,E)},D=x?++l:null;return a?Y(Y(Y({attribute:o.createElement(Q,{name:_,counter:D})},null!=e&&null!==(i=e.mt_gaming_company)&&void 0!==i&&i.financial?z:{}),null!=e&&null!==(u=e.mt_financial_company)&&void 0!==u&&u.financial?S:{}),null!=e&&null!==(d=e.mt_financial_company)&&void 0!==d&&d.financial_stp&&r===s.CFD_PLATFORMS.MT5?{financial_stp:null==m?void 0:m.financial_stp}:{}):r===s.CFD_PLATFORMS.DXTRADE?Y(Y({attribute:o.createElement(Q,{name:_,counter:D})},z),S):Y(Y(Y({attribute:o.createElement(Q,{name:_,counter:D})},z),S),{financial_stp:null==m?void 0:m.financial_stp})}))}(t,Z({landing_companies:t,platform:r,is_logged_in:a,is_uk:c}),a,n,r,l)},te=function(e){var t=e.platform,a=e.show_risk_message,n=e.landing_companies,r=e.is_logged_in,i=e.is_uk;return o.createElement("div",{className:"cfd-compare-account--hint"},o.createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},o.createElement("span",{className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--circle"}),o.createElement(d.Localize,{i18n_default_text:"At bank rollover, liquidity in the forex markets is reduced and may increase the spread and processing time for client orders. This happens around 21:00 GMT during daylight saving time, and 22:00 GMT non-daylight saving time."})),a&&o.createElement(o.Fragment,null,o.createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},o.createElement("span",{className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--circle"}),o.createElement(d.Localize,{i18n_default_text:"Margin call and stop out level will change from time to time based on market condition."})),o.createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},o.createElement(u.Text,{size:"xs",line_height:"x",weight:"bold",className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--star cfd-compare-accounts__star"},"*"),o.createElement(d.Localize,{i18n_default_text:"To protect your portfolio from adverse market movements due to the market opening gap, we reserve the right to decrease leverage on all offered symbols for financial accounts before market close and increase it again after market open. Please make sure that you have enough funds available in your {{platform}} account to support your positions at all times.",values:{platform:t===s.CFD_PLATFORMS.MT5?(0,d.localize)("MT5"):(0,d.localize)("Deriv X")}})),i&&o.createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},o.createElement(u.Text,{size:"xs",line_height:"x",weight:"bold",className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--star cfd-compare-accounts__star"},"**"),o.createElement(d.Localize,{i18n_default_text:"Cryptocurrency trading is not available for clients residing in the United Kingdom.",values:{platform:t===s.CFD_PLATFORMS.MT5?(0,d.localize)("MT5"):(0,d.localize)("Deriv X")}}))),Z({landing_companies:n,platform:t,is_logged_in:r,is_uk:i}).filter((function(e){var a;return!(null===(a=e[t])||void 0===a||!a.footnote)})).map((function(e,a){return o.createElement("div",{key:a,className:"cfd-compare-accounts__bullet-wrapper"},o.createElement(u.Text,{size:"xs",line_height:"x",weight:"bold",className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--star cfd-compare-accounts__star"},a+1),o.createElement("div",{className:"cfd-compare-accounts__footnote"},o.createElement(u.Text,{as:"p",size:"xs",weight:"bold",color:"prominent",className:"cfd-compare-accounts__footnote-title"},e.attribute),o.createElement(u.Text,{size:"xs",color:"prominent"},e[t].footnote)))})))};const ae=function(e){var t=e.landing_companies,a=e.is_logged_in,n=e.platform,r=e.show_eu_related,i=e.residence,c=e.is_eu,l=e.is_uk,_=$(o.useState([]),2),p=_[0],m=_[1],f=$(o.useState(n===s.CFD_PLATFORMS.DXTRADE?"1.5fr 1fr 2fr":"1.5fr 1fr 2fr 1fr"),2),g=f[0],h=f[1];o.useEffect((function(){var e,o,c;(m(ee({landing_companies:t,is_logged_in:a,platform:n,show_eu_related:r,residence:i,is_uk:l})),a&&n===s.CFD_PLATFORMS.MT5)?h("1.5fr ".concat(null!=t&&null!==(e=t.mt_gaming_company)&&void 0!==e&&e.financial?"1fr":""," ").concat(null!=t&&null!==(o=t.mt_financial_company)&&void 0!==o&&o.financial?"2fr":""," ").concat(null!=t&&null!==(c=t.mt_financial_company)&&void 0!==c&&c.financial_stp?" 1fr ":"")):a&&n===s.CFD_PLATFORMS.DXTRADE&&h("1.5fr ".concat(null!=t&&t.dxtrade_gaming_company?"1fr":""," ").concat(null!=t&&t.dxtrade_financial_company?"2fr":""))}),[null==t?void 0:t.mt_financial_company,null==t?void 0:t.mt_gaming_company,a,l,t,n,r,i]);var b=n===s.CFD_PLATFORMS.MT5||!r,v=c?(0,d.localize)("CFDs"):(0,d.localize)("Financial");return o.createElement(u.Div100vhContainer,{height_offset:"40px",is_bypassed:(0,s.isDesktop)()},o.createElement(u.ThemedScrollbars,{className:"cfd-compare-accounts",style:{"--cfd-compare-accounts-template-columns":g}},o.createElement("div",{className:"cfd-compare-accounts__table-wrapper"},o.createElement(u.Table,{className:"cfd-compare-accounts__table"},o.createElement(u.Table.Header,null,o.createElement(u.Table.Row,{className:"cfd-compare-accounts__table-row"},o.createElement(u.Table.Head,{fixed:!0}),a?o.createElement(o.Fragment,null,(0,s.isLandingCompanyEnabled)({landing_companies:t,platform:n,type:"gaming"})&&o.createElement(u.Table.Head,null,(0,d.localize)("Derived")),(0,s.isLandingCompanyEnabled)({landing_companies:t,platform:n,type:"financial"})&&o.createElement(u.Table.Head,null,v,o.createElement(u.Text,{size:"s",weight:"bold",className:"cfd-compare-accounts__star"},"*")),(0,s.isLandingCompanyEnabled)({landing_companies:t,platform:n,type:"financial_stp"})&&o.createElement(u.Table.Head,null,(0,d.localize)("Financial STP"),o.createElement(u.Text,{size:"s",weight:"bold",className:"cfd-compare-accounts__star"},"*"))):o.createElement(o.Fragment,null,o.createElement(u.Table.Head,null,(0,d.localize)("Derived")),o.createElement(u.Table.Head,null,(0,d.localize)("Financial"),o.createElement(u.Text,{size:"s",weight:"bold",className:"cfd-compare-accounts__star"},"*")),n===s.CFD_PLATFORMS.MT5&&o.createElement(u.Table.Head,null,(0,d.localize)("Financial STP"),o.createElement(u.Text,{size:"s",weight:"bold",className:"cfd-compare-accounts__star"},"*"))))),o.createElement(u.Table.Body,null,p.map((function(e,t){return o.createElement(u.Table.Row,{key:t,className:"cfd-compare-accounts__table-row"},Object.keys(e).map((function(t,a){return o.createElement(u.Table.Cell,{key:a,fixed:0===a},e[t])})))}))))),o.createElement(te,{platform:n,show_risk_message:b,landing_companies:t,is_logged_in:a,is_uk:l})))};function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ne.apply(this,arguments)}function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(Object(a),!0).forEach((function(t){ie(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ie(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var se=[{id:"jurisdiction",attribute:(0,d.localize)("Jurisdiction"),values:{financial_maltainvest:{text:(0,d.localize)("Malta")}}},{id:"counterparty",attribute:(0,d.localize)("Counterparty company"),values:{financial_maltainvest:{text:(0,d.localize)("Deriv Investments (Europe) Limited")}}},{id:"regulator",attribute:(0,d.localize)("Regulator"),values:{financial_maltainvest:{text:(0,d.localize)("Malta Financial Services Authority (MFSA) (Licence no. IS/70156)")}}},{id:"leverage",attribute:(0,d.localize)("Maximum leverage"),values:{financial_maltainvest:{text:(0,d.localize)("Up to 1:30")}}},{id:"instruments",attribute:(0,d.localize)("Trading instruments"),values:{financial_maltainvest:{text:[(0,d.localize)("Forex"),(0,d.localize)("Stocks"),(0,d.localize)("Commodities"),(0,d.localize)("Stock indices"),(0,d.localize)("Synthetic indices"),(0,d.localize)("Cryptocurrencies")]}}}],ue=[{id:"jurisdiction",attribute:(0,d.localize)("Jurisdiction"),values:{synthetic_svg:{text:(0,d.localize)("St. Vincent & Grenadines")},synthetic_bvi:{text:(0,d.localize)("British Virgin Islands")},financial_svg:{text:(0,d.localize)("St. Vincent & Grenadines")},financial_bvi:{text:(0,d.localize)("British Virgin Islands")},financial_vanuatu:{text:(0,d.localize)("Vanuatu")},financial_labuan:{text:(0,d.localize)("Labuan"),tooltip_msg:(0,d.localize)("Choosing this jurisdiction will give you a Financial STP account. Your trades will go directly to the market and have tighter spreads.")}}},{id:"counterparty",attribute:(0,d.localize)("Counterparty company"),values:{synthetic_svg:{text:(0,d.localize)("Deriv (SVG) LLC")},synthetic_bvi:{text:(0,d.localize)("Deriv (BVI) Ltd")},financial_svg:{text:(0,d.localize)("Deriv (SVG) LLC")},financial_bvi:{text:(0,d.localize)("Deriv (BVI) Ltd")},financial_vanuatu:{text:(0,d.localize)("Deriv (V) Ltd")},financial_labuan:{text:(0,d.localize)("Deriv (FX) Ltd")}}},{id:"regulator",attribute:(0,d.localize)("Regulator"),values:{synthetic_svg:{text:(0,d.localize)("-")},synthetic_bvi:{text:(0,d.localize)("British Virgin Islands Financial Services Commission (licence no. SIBA/L/18/1114)")},financial_svg:{text:(0,d.localize)("-")},financial_bvi:{text:(0,d.localize)("British Virgin Islands Financial Services Commission (licence no. SIBA/L/18/1114)")},financial_vanuatu:{text:(0,d.localize)("Vanuatu Financial Services Commission")},financial_labuan:{text:(0,d.localize)("Labuan Financial Services Authority (Licence no. MB/18/0024)")}}},{id:"leverage",attribute:(0,d.localize)("Maximum leverage"),values:{synthetic_svg:{text:(0,d.localize)("Up to 1:1000")},synthetic_bvi:{text:(0,d.localize)("Up to 1:1000")},financial_vanuatu:{text:(0,d.localize)("Up to 1:1000")},financial_labuan:{text:(0,d.localize)("Up to 1:100")}}},{id:"instruments",attribute:(0,d.localize)("Trading instruments"),values:{synthetic_svg:{text:[(0,d.localize)("Synthetics"),(0,d.localize)("Basket indices")]},financial_svg:{text:[(0,d.localize)("Forex: standard/micro"),(0,d.localize)("Stocks"),(0,d.localize)("Stock indices"),(0,d.localize)("Commodities"),(0,d.localize)("Cryptocurrencies")]},financial_vanuatu:{text:[(0,d.localize)("Forex"),(0,d.localize)("Stock indices"),(0,d.localize)("Commodities"),(0,d.localize)("Cryptocurrencies")]},financial_labuan:{text:[(0,d.localize)("Forex"),(0,d.localize)("Cryptocurrencies")]}}}],de=[{label:(0,d.localize)("Add"),action:"synthetic_svg"},{label:(0,d.localize)("Add"),action:"synthetic_bvi"},{label:(0,d.localize)("Add"),action:"financial_svg"},{label:(0,d.localize)("Add"),action:"financial_bvi"},{label:(0,d.localize)("Add"),action:"financial_vanuatu"},{label:(0,d.localize)("Add"),action:"financial_labuan"}],_e=[{label:(0,d.localize)("Add"),action:"financial_maltainvest"}];const pe=v((function(e){var t=e.modules,a=e.client;return{account_type:t.cfd.account_type,account_settings:a.account_settings,has_real_account:a.has_active_real_account,setAccountSettings:a.setAccountSettings,setAccountType:t.cfd.setAccountType,clearCFDError:t.cfd.clearCFDError,current_list:t.cfd.current_list,has_real_mt5_login:a.has_real_mt5_login,setJurisdictionSelectedShortcode:t.cfd.setJurisdictionSelectedShortcode,toggleCFDVerificationModal:t.cfd.toggleCFDVerificationModal,toggleCFDPersonalDetailsModal:t.cfd.toggleCFDPersonalDetailsModal,trading_platform_available_accounts:a.trading_platform_available_accounts,account_status:a.account_status,should_restrict_bvi_account_creation:a.should_restrict_bvi_account_creation,upgradeable_landing_companies:a.upgradeable_landing_companies}}))((function(e){var t=e.account_settings,a=e.setAccountSettings,n=e.setAccountType,r=e.clearCFDError,i=e.current_list,c=e.has_real_account,l=e.is_logged_in,_=e.is_demo_tab,p=e.is_real_enabled,m=e.openDerivRealAccountNeededModal,f=e.openPasswordModal,g=e.toggleCFDVerificationModal,h=e.toggleCFDPersonalDetailsModal,b=e.toggleCompareAccounts,v=e.trading_platform_available_accounts,y=e.show_eu_related,w=e.setJurisdictionSelectedShortcode,x=e.account_status,z=e.upgradeable_landing_companies,S=e.should_restrict_bvi_account_creation,D=ce(o.useState(!1),2),O=D[0],A=D[1],k=v.map((function(e){return"".concat("gaming"===e.market_type?"synthetic":e.market_type,"_").concat(e.shortcode)})),T=y?1:6,P=l?k.length:T,M=l||y?k.filter((function(e){return e.startsWith("synthetic")})).length:2,C=l||y?k.filter((function(e){return e.startsWith("financial")})).length||1:4,F=(0,s.getAuthenticationStatusInfo)(x),N=F.poi_pending_for_vanuatu,j=F.poi_pending_for_bvi_labuan_maltainvest,L=F.poi_verified_for_vanuatu,R=F.poi_verified_for_bvi_labuan_maltainvest,I=F.poi_or_poa_not_submitted,V=F.poi_poa_verified_for_bvi_labuan_maltainvest,B=F.poi_acknowledged_for_bvi_labuan_maltainvest,U=F.poa_acknowledged,W=F.poa_pending;o.useEffect((function(){if(!O){var e={};t?e=t:s.WS.authorized.storage.getSettings().then((function(t){e=t.get_settings,a(t.get_settings)}));var n=e,r=n.citizen,o=n.place_of_birth,i=n.tax_residence,c=n.tax_identification_number,l=n.account_opening_reason;r&&o&&i&&c&&l&&A(!0)}}),[]);var X,q,J=function(e){return O?f(e):h()},G=function(e){var t=l&&!c&&(null==z?void 0:z.length)>0&&p;b(),t?m():function(e){var t=e.action.startsWith("financial")?"financial":"synthetic",a={category:_?"demo":"real",type:t};switch(r(),n(a),e.action){case"synthetic_svg":case"financial_svg":w("svg"),f(a);break;case"synthetic_bvi":case"financial_bvi":w("bvi"),!R||I||S?g():J(a);break;case"financial_vanuatu":w("vanuatu"),L&&!I?J(a):g();break;case"financial_labuan":w("labuan"),V&&!I?J(a):g();break;case"financial_maltainvest":w("maltainvest"),V&&!I?f(a):g()}}(e)},Y=y?se:ue,H=y?_e:de,$=function(e){return"counterparty"===e||"leverage"===e?(0,s.isDesktop)()?"xxs":"xxxs":(0,s.isDesktop)()?"xxxs":"xxxxs"},K=function(e){return Object.entries(i).some((function(t){var a=ce(t,2),n=a[0],r=a[1],o=ce(e.action.split("_"),2),i=o[0],c=o[1];return r.market_type===i&&r.landing_company_short===c&&"real"===r.account_type&&n.includes(s.CFD_PLATFORMS.MT5)}))},Z=function(e){var t=e.attr,a=e.val;return o.createElement(u.Table.Row,{className:y?"cfd-real-compare-accounts-row-eu":E()("cfd-real-compare-accounts__table-row--instruments",ie({},"cfd-real-compare-accounts__row-with-columns-count-".concat(P+1),P<6))},o.createElement(u.Table.Cell,{fixed:!0},o.createElement(u.Text,{as:"p",weight:"bold",align:"center",color:"prominent",size:"xxs"},t)),Object.keys(a).map((function(e){var t,n,r;return o.createElement(u.Table.Cell,{key:e,className:"cfd-real-compare-accounts__table-row-item"},Array.isArray(null===(t=a[e])||void 0===t?void 0:t.text)?(null===(n=a[e])||void 0===n?void 0:n.text).map((function(e,t){return o.createElement(u.Text,{key:t,as:"p",weight:" normal",align:"center",color:"prominent",size:"xxxs"},e)})):o.createElement(u.Text,{as:"p",weight:"normal",align:"center",color:"prominent",size:"xxxs"},null===(r=a[e])||void 0===r?void 0:r.text))})))},Q=function(e){var t=e.id,a=e.attribute,n=e.values,r="leverage"===t;return"instruments"===t?o.createElement(Z,{attr:a,val:n}):o.createElement(u.Table.Row,{className:y?"cfd-real-compare-accounts-row-eu":E()("cfd-real-compare-accounts__table-row",ie({"cfd-real-compare-accounts__table-row--leverage":r},"cfd-real-compare-accounts__row-with-columns-count-".concat(P+1),P<6))},o.createElement(u.Table.Cell,{fixed:!0},o.createElement(u.Text,{as:"p",weight:"bold",align:"center",color:"prominent",size:"xxs"},a)),Object.keys(n).map((function(e){var a,r,i,c;return o.createElement(u.Table.Cell,{key:e,className:E()("cfd-real-compare-accounts__table-row-item",{"cfd-real-compare-accounts__table-row-item--tooltip":null===(a=n[e])||void 0===a?void 0:a.tooltip_msg})},o.createElement(o.Fragment,null,o.createElement(u.Text,{as:"p",weight:"jurisdiction"===t?"bold":"normal",align:"center",color:"prominent",size:$(t)},null===(r=n[e])||void 0===r?void 0:r.text),(null===(i=n[e])||void 0===i?void 0:i.tooltip_msg)&&o.createElement(u.Popover,{alignment:"left",className:"cfd-compare-accounts-tooltip",classNameBubble:"cfd-compare-accounts-tooltip--msg",icon:"info",disable_message_icon:!0,is_bubble_hover_enabled:!0,message:null===(c=n[e])||void 0===c?void 0:c.tooltip_msg,zIndex:9999})))})))};return o.createElement(u.Div100vhContainer,{height_offset:"40px",is_bypassed:(0,s.isDesktop)(),className:"cfd-real-compare-accounts"},o.createElement("div",{className:"cfd-real-compare-accounts"},o.createElement("div",{className:"cfd-real-compare-accounts__table-wrapper"},o.createElement(u.Table,{className:"cfd-real-compare-accounts__table"},o.createElement(u.Table.Header,null,o.createElement(u.Table.Row,{className:y?"cfd-real-compare-accounts-row-eu":E()("cfd-real-compare-accounts__table-header",ie({},"cfd-real-compare-accounts__table-header-for-synthetic-".concat(M,"-financial-").concat(C),P<6))},o.createElement(u.Table.Head,{fixed:!0,className:"cfd-real-compare-accounts__table-empty-cell"}),!y&&M>0&&o.createElement(u.Table.Head,{className:"cfd-real-compare-accounts__table-header-item"},(0,d.localize)("Derived")),C>0&&o.createElement(u.Table.Head,{className:"cfd-real-compare-accounts__table-header-item"},y?(0,d.localize)("CFDs"):(0,d.localize)("Financial")))),o.createElement(u.Table.Body,null,(q=Y,l?q.map((function(e){var t=Object.entries(e.values).reduce((function(e,t){var a=ce(t,2),n=a[0],r=a[1];return k.includes(n)?oe(oe({},e),{},ie({},n,r)):e}),{}),a=oe(oe({},e),{},{values:{}});return k.length<6&&!y&&(a.values=["synthetic_svg","synthetic_bvi","financial_svg","financial_bvi","financial_vanuatu","financial_labuan"].reduce((function(e,t){return k.includes(t)?oe(oe({},e),{},ie({},t,void 0)):e}),{}),k.forEach((function(t){"leverage"!==e.id||"financial_svg"!==t&&"financial_bvi"!==t?"instruments"===e.id&&"synthetic_bvi"===t?a.values[t]=e.values.synthetic_svg:"instruments"===e.id&&"financial_bvi"===t&&(a.values[t]=e.values.financial_svg):a.values[t]=e.values.financial_vanuatu}))),oe(oe({},a),{},{values:oe(oe({},a.values),t)})})):q).map((function(e){return o.createElement(Q,ne({key:e.id},e))}))),l&&o.createElement(u.Table.Row,{className:y?"cfd-real-compare-accounts-row-eu columns-2":E()("cfd-real-compare-accounts__table-footer",ie({},"cfd-real-compare-accounts__row-with-columns-count-".concat(P+1),P<6))},o.createElement(u.Table.Cell,{fixed:!0,className:"cfd-real-compare-accounts__table-empty-cell"}),(X=H,X.filter((function(e){return k.includes(e.action)}))).map((function(e,t){return o.createElement(u.Table.Cell,{key:t,className:"cfd-real-compare-accounts__table-footer__item"},function(e){var t=e.action.split("_")[1];return!K(e)&&"svg"!==t&&("vanuatu"===t?N&&!I:"bvi"===t?!(!S||!W)||j&&!I:B&&U&&!V)}(e)?o.createElement("div",{className:"cfd-real-compare-accounts__table-footer__item--verification-pending"},o.createElement(u.Text,{size:s.isDesktop?"xxs":"xxxs",align:"center"},(0,d.localize)("Pending verification"))):o.createElement(u.Button,{className:"cfd-real-compare-accounts__table-footer__button",disabled:K(e),type:"button",primary_light:!0,onClick:function(){return G(e)}},e.label))})))))))}));function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ge=function(e){var t=e.landing_companies,a=e.is_logged_in,n=[null==t?void 0:t.dxtrade_all_company].length,r=a?n:2;return[{attribute:(0,d.localize)("Currency"),dxtrade:{derivx:(0,d.localize)("USD"),footnote:null}},{attribute:(0,d.localize)("Maximum leverage"),dxtrade:{derivx:(0,d.localize)("Up to 1:1000"),footnote:(0,d.localize)("Leverage gives you the ability to trade a larger position using your existing capital. Leverage varies across different symbols.")}},{attribute:(0,d.localize)("Order execution"),dxtrade:{derivx:(0,d.localize)("Market"),footnote:(0,d.localize)("All {{count}} account types use market execution. This means you agree with the broker's price in advance and will place orders at the broker's price.",{count:r})}},{attribute:(0,d.localize)("Spread"),dxtrade:{derivx:(0,d.localize)("Fixed/Variable"),footnote:(0,d.localize)("The spread is the difference between the buy price and sell price. A variable spread means that the spread is constantly changing, depending on market conditions. A fixed spread remains constant but is subject to alteration, at the Broker's absolute discretion.")}},{attribute:(0,d.localize)("Commission"),dxtrade:{derivx:(0,d.localize)("No"),footnote:(0,d.localize)("Deriv charges no commission across all account types.")}},{attribute:(0,d.localize)("Minimum deposit"),dxtrade:{derivx:(0,d.localize)("No"),footnote:null}},{attribute:(0,d.localize)("Margin call"),dxtrade:{derivx:(0,d.localize)("100%"),footnote:(0,d.localize)("You’ll get a warning, named margin call, if your account balance drops down close to the stop out level.")}},{attribute:(0,d.localize)("Stop out level"),dxtrade:{derivx:(0,d.localize)("50%"),footnote:(0,d.localize)("If your margin level drops below our stop out level, your positions may be closed automatically to protect you from further losses.")}},{attribute:(0,d.localize)("Negative Balance Protection"),dxtrade:{derivx:(0,d.localize)("Available"),footnote:null}},{attribute:(0,d.localize)("Number of assets"),dxtrade:{derivx:(0,d.localize)("110+"),footnote:null}},{attribute:(0,d.localize)("Cryptocurrency trading"),dxtrade:{derivx:(0,d.localize)("N/A"),footnote:(0,d.localize)("Indicates the availability of cryptocurrency trading on a particular account.")}},{attribute:(0,d.localize)("Trading instruments"),dxtrade:{derivx:(0,d.localize)("Synthetics, FX majors (standard/micro lots), FX minors, basket indices, commodities, and cryptocurrencies"),footnote:null}}]},he=function(e){var t=e.name,a=e.counter,n=me(o.useState(!1),2),r=(n[0],n[1]);return a?o.createElement(o.Fragment,null,o.createElement(u.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"cfd-attribute-describer",onClick:function(){return r((function(e){return!e}))}},t,o.createElement(u.Text,{weight:"bold",as:"span",line_height:"x",size:"xxxs",className:"counter"},a))):o.createElement(u.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"cfd-attribute-describer"},t)},be=function(e){var t=e.landing_companies,a=e.is_logged_in,n=(e.show_eu_related,e.platform),r=(e.residence,e.is_uk);return function(e,t,a,n,r){var i=0;return t.filter((function(e){return e[r]})).map((function(e){var t=e.attribute,a=e.dxtrade,n=void 0===a?{}:a,c=n.derivx,l=n.footnote?++i:null;return r===s.CFD_PLATFORMS.DXTRADE?{attribute:o.createElement(he,{name:t,counter:l}),derivx:c}:{attribute:o.createElement(he,{name:t,counter:l})}}))}(0,ge({landing_companies:t,platform:n,is_logged_in:a,is_uk:r}),0,0,n)},ve=function(e){var t=e.platform,a=e.show_risk_message,n=e.landing_companies,r=e.is_logged_in,i=e.is_uk;return o.createElement("div",{className:"cfd-compare-account--hint"},o.createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},o.createElement("span",{className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--circle"}),o.createElement(d.Localize,{i18n_default_text:"At bank rollover, liquidity in the forex markets is reduced and may increase the spread and processing time for client orders. This happens around 21:00 GMT during daylight saving time, and 22:00 GMT non-daylight saving time."})),a&&o.createElement(o.Fragment,null,o.createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},o.createElement("span",{className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--circle"}),o.createElement(d.Localize,{i18n_default_text:"Margin call and stop out level will change from time to time based on market condition."})),o.createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},o.createElement(u.Text,{size:"xs",line_height:"x",weight:"bold",className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--star cfd-compare-accounts__star"},"*"),o.createElement(d.Localize,{i18n_default_text:"To protect your portfolio from adverse market movements due to the market opening gap, we reserve the right to decrease leverage on all offered symbols for financial accounts before market close and increase it again after market open. Please make sure that you have enough funds available in your {{platform}} account to support your positions at all times.",values:{platform:(0,d.localize)("Deriv X")}})),i&&o.createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},o.createElement(u.Text,{size:"xs",line_height:"x",weight:"bold",className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--star cfd-compare-accounts__star"},"**"),o.createElement(d.Localize,{i18n_default_text:"Cryptocurrency trading is not available for clients residing in the United Kingdom.",values:{platform:(0,d.localize)("Deriv X")}}))),ge({landing_companies:n,platform:t,is_logged_in:r,is_uk:i}).filter((function(e){var a;return!(null===(a=e[t])||void 0===a||!a.footnote)})).map((function(e,a){return o.createElement("div",{key:a,className:"cfd-compare-accounts__bullet-wrapper"},o.createElement(u.Text,{size:"xs",line_height:"x",weight:"bold",className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--star cfd-compare-accounts__star"},a+1),o.createElement("div",{className:"cfd-compare-accounts__footnote"},o.createElement(u.Text,{as:"p",size:"xs",weight:"bold",color:"prominent",className:"cfd-compare-accounts__footnote-title"},e.attribute),o.createElement(u.Text,{size:"xs",color:"prominent"},e[t].footnote)))})))};const ye=function(e){var t=e.landing_companies,a=e.is_logged_in,n=e.platform,r=e.show_eu_related,i=e.residence,c=e.is_uk,l=me(o.useState([]),2),_=l[0],p=l[1],m=me(o.useState("1fr 1.5fr"),2),f=m[0],g=m[1];o.useEffect((function(){p(be({landing_companies:t,is_logged_in:a,platform:n,show_eu_related:r,residence:i,is_uk:c})),g("1fr 1.5fr")}),[null==t?void 0:t.mt_financial_company,null==t?void 0:t.mt_gaming_company,a,c,t,n,r,i]);var h=!r;return o.createElement(u.Div100vhContainer,{height_offset:"40px",is_bypassed:(0,s.isDesktop)()},o.createElement(u.ThemedScrollbars,{className:"cfd-compare-accounts",style:{"--cfd-compare-accounts-template-columns":f}},o.createElement("div",{className:"cfd-compare-accounts__table-wrapper"},o.createElement(u.Table,{className:"cfd-compare-accounts__table"},o.createElement(u.Table.Header,null,o.createElement(u.Table.Row,{className:"cfd-compare-accounts__table-row"},o.createElement(u.Table.Head,{fixed:!0}),o.createElement(u.Table.Head,null,(0,d.localize)("Deriv X")))),o.createElement(u.Table.Body,null,_.map((function(e,t){return o.createElement(u.Table.Row,{key:t,className:"cfd-compare-accounts__table-row"},Object.keys(e).map((function(t,a){return o.createElement(u.Table.Cell,{key:a,fixed:0===a},e[t])})))}))))),o.createElement(ve,{platform:n,show_risk_message:h,landing_companies:t,is_logged_in:a,is_uk:c})))};var we=function(e){var t=e.is_demo_tab,a=e.is_logged_in,n=e.landing_companies,r=e.platform,i=e.show_eu_related,c=e.residence,l=e.is_eu,s=e.is_uk;return t?o.createElement(ye,{is_logged_in:a,landing_companies:n,platform:r,show_eu_related:i,residence:c,is_eu:l,is_uk:s}):o.createElement(ae,{is_logged_in:a,landing_companies:n,platform:r,show_eu_related:i,residence:c,is_eu:l,is_uk:s})};const Ee=v((function(e){var t=e.modules,a=e.ui,n=e.client;return{disableApp:a.disableApp,enableApp:a.enableApp,is_compare_accounts_visible:t.cfd.is_compare_accounts_visible,is_loading:n.is_populating_mt5_account_list,is_eu:n.is_eu,is_uk:n.is_uk,is_eu_country:n.is_eu_country,is_logged_in:n.is_logged_in,landing_companies:n.landing_companies,residence:n.residence,toggleCompareAccounts:t.cfd.toggleCompareAccountsModal,openDerivRealAccountNeededModal:a.openDerivRealAccountNeededModal}}))((function(e){var t,a,n,r=e.disableApp,i=e.enableApp,c=e.is_compare_accounts_visible,l=e.landing_companies,_=e.is_loading,p=e.is_logged_in,m=e.is_eu,f=e.is_uk,g=e.is_eu_country,h=e.is_real_enabled,b=e.platform,v=e.residence,y=e.is_demo_tab,w=e.toggleCompareAccounts,E=e.openPasswordModal,x=e.openDerivRealAccountNeededModal,z=p&&m||!p&&g,S=b&&b===s.CFD_PLATFORMS.DXTRADE,D=1===[null==l||null===(t=l.mt_gaming_company)||void 0===t?void 0:t.financial,null==l||null===(a=l.mt_financial_company)||void 0===a?void 0:a.financial,null==l||null===(n=l.mt_financial_company)||void 0===n?void 0:n.financial_stp].filter(Boolean).length||y&&b===s.CFD_PLATFORMS.DXTRADE?(0,d.localize)("Account Information"):(0,d.localize)("Compare accounts"),O=function(){return S?D:(0,d.localize)("Compare available accounts")},A=function(){return S?{height:"696px",width:"903px"}:z?{height:"506px",width:"300px"}:{height:"506px",width:"996px"}};return o.createElement(o.Fragment,null,o.createElement("div",{className:"cfd-compare-accounts-modal__wrapper",style:{marginTop:S?"5rem":"2.4rem"}},!(y&&"mt5"===b)&&o.createElement(u.Button,{className:"cfd-dashboard__welcome-message--button",has_effect:!0,text:D,onClick:w,secondary:!0,disabled:_}),o.createElement(o.Suspense,{fallback:o.createElement(u.UILoader,null)},o.createElement(u.DesktopWrapper,null,o.createElement(u.Modal,{className:S?"cfd-dashboard__compare-accounts":"cfd-real-compare-accounts",disableApp:r,enableApp:i,is_open:c,title:O(),toggleModal:w,type:"button",height:A().height,width:A().width,exit_classname:S?"":"cfd-modal--custom-exit"},S?o.createElement(we,{is_demo_tab:y,is_logged_in:p,landing_companies:l,platform:b,show_eu_related:z,residence:v,is_eu:m,is_uk:f}):o.createElement(pe,{is_logged_in:p,openDerivRealAccountNeededModal:x,openPasswordModal:E,is_demo_tab:y,show_eu_related:z,is_real_enabled:h,toggleCompareAccounts:w}))),o.createElement(u.MobileWrapper,null,o.createElement(u.MobileDialog,{portal_element_id:"deriv_app",title:O(),wrapper_classname:"cfd-dashboard__compare-accounts",visible:c,onClose:w,header_classname:S?"":"cfd-real-compare-accounts-mobile-header"},S?o.createElement(we,{is_demo_tab:y,is_logged_in:p,landing_companies:l,platform:b,show_eu_related:z,residence:v,is_eu:m,is_uk:f}):o.createElement(pe,{is_logged_in:p,openDerivRealAccountNeededModal:x,openPasswordModal:E,is_demo_tab:y,show_eu_related:z,is_real_enabled:h,toggleCompareAccounts:w}))))))}));const xe=function(e){var t=e.account_status,a=e.class_name,n=e.is_checked,r=e.jurisdiction_selected_shortcode,i=e.onCheck,c=e.should_restrict_bvi_account_creation,l=(0,s.getAuthenticationStatusInfo)(t),_=l.poi_verified_for_bvi_labuan_maltainvest,p=l.poi_verified_for_vanuatu,m=l.poa_not_submitted,f=l.poi_poa_verified_for_bvi_labuan_maltainvest,g={bvi:{name:"Deriv (BVI) Ltd",tnc_url:"tnc/deriv-(bvi)-ltd.pdf"},labuan:{name:"Deriv (FX) Ltd",tnc_url:"tnc/deriv-(fx)-ltd.pdf"},maltainvest:{name:"Deriv Investments (Europe) Limited",tnc_url:"tnc/deriv-investments-(europe)-limited.pdf"},vanuatu:{name:"Deriv (V) Ltd",tnc_url:"tnc/general-terms.pdf"}};return o.createElement(o.Fragment,null,function(){if(r){if("svg"===r)return!1;if("vanuatu"===r&&p&&!m)return!0;if("bvi"===r&&!c&&_&&!m)return!0;if(["labuan","maltainvest"].includes(r)&&f)return!0}return!1}()&&o.createElement("div",{className:a},o.createElement(u.Checkbox,{onChange:i,value:n,label:o.createElement(u.Text,{as:"p",align:(0,s.isMobile)()?"":"center",size:"xs",line_height:"xs"},o.createElement(d.Localize,{i18n_default_text:"I confirm and accept {{company}} 's <0>Terms and Conditions</0>",values:{company:g[r].name},components:[o.createElement(u.StaticUrl,{key:0,className:"link",href:g[r].tnc_url})]}))})))};var ze={svg:{is_over_header_available:!1,header:(0,d.localize)("St. Vincent & Grenadines"),synthetic_contents:["".concat((0,d.localize)("Selecting this will onboard you through Deriv (SVG) LLC (company no. 273 LLC 2020)")),"".concat((0,d.localize)("25+ assets: synthetics")),"".concat((0,d.localize)("Leverage up to 1:1000"))],financial_contents:["".concat((0,d.localize)("Selecting this will onboard you through Deriv (SVG) LLC (company no. 273 LLC 2020)")),"".concat((0,d.localize)("Registered with the Financial Commission")),"".concat((0,d.localize)("170+ assets: forex (standard/micro), stocks, stock indices, commodities, basket indices, and cryptocurrencies")),"".concat((0,d.localize)("Leverage up to 1:1000"))]},vanuatu:{over_header:(0,d.localize)("Better spreads"),is_over_header_available:!0,header:(0,d.localize)("Vanuatu"),synthetic_contents:["".concat((0,d.localize)("Regulated by the Vanuatu Financial Services Commission")),"".concat((0,d.localize)("Registered with the Financial Commission")),"".concat((0,d.localize)("30+ assets: forex and commodities")),"".concat((0,d.localize)("Leverage up to 1:1000"))],financial_contents:["".concat((0,d.localize)("Regulated by the Vanuatu Financial Services Commission")),"".concat((0,d.localize)("Registered with the Financial Commission")),"".concat((0,d.localize)("30+ assets: forex and commodities")),"".concat((0,d.localize)("Leverage up to 1:1000"))]},labuan:{over_header:(0,d.localize)("Straight-through processing"),is_over_header_available:!0,header:(0,d.localize)("Labuan"),synthetic_contents:["".concat((0,d.localize)("Regulated by the Labuan Financial Services Authority (Licence no. MB/18/0024)")),"".concat((0,d.localize)("Registered with the Financial Commission")),"".concat((0,d.localize)("80+ assets: forex and cryptocurrencies")),"".concat((0,d.localize)("Leverage up to 1:100"))],financial_contents:["".concat((0,d.localize)("Regulated by the Labuan Financial Services Authority (Licence no. MB/18/0024)")),"".concat((0,d.localize)("Registered with the Financial Commission")),"".concat((0,d.localize)("80+ assets: forex and cryptocurrencies")),"".concat((0,d.localize)("Leverage up to 1:100")),"".concat((0,d.localize)("Straight-through processing"))]},maltainvest:{over_header:(0,d.localize)("Better spreads"),is_over_header_available:!0,header:(0,d.localize)("Malta Financial"),synthetic_contents:["".concat((0,d.localize)("Regulated by the Malta Financial Services Authority (MFSA) (licence no. IS/70156)")),"".concat((0,d.localize)("Registered with the Financial Commission")),"".concat((0,d.localize)("50+ assets: forex, stocks, stock indices, synthetics indices, and cryptocurrencies.")),"".concat((0,d.localize)("Leverage up to 1:30"))],financial_contents:["".concat((0,d.localize)("Regulated by the Malta Financial Services Authority (MFSA) (licence no. IS/70156)")),"".concat((0,d.localize)("Registered with the Financial Commission")),"".concat((0,d.localize)("50+ assets: forex, stocks, stock indices, synthetics indices, and cryptocurrencies.")),"".concat((0,d.localize)("Leverage up to 1:30"))]},bvi:{over_header:(0,d.localize)("Better spreads"),is_over_header_available:!0,header:(0,d.localize)("British Virgin Islands"),synthetic_contents:["".concat((0,d.localize)("Regulated by the British Virgin Islands Financial Services Commission (License no. SIBA/L/18/1114)")),"".concat((0,d.localize)("25+ assets: synthetics")),"".concat((0,d.localize)("Leverage up to 1:1000"))],financial_contents:["".concat((0,d.localize)("Regulated by the British Virgin Islands Financial Services Commission (License no. SIBA/L/18/1114)")),"".concat((0,d.localize)("Registered with the Financial Commission")),"".concat((0,d.localize)("170+ assets: forex (standard/micro), stocks, stock indices, commodities, basket indices, and cryptocurrencies")),"".concat((0,d.localize)("Leverage up to 1:1000"))]}},Se=function(e){var t=e.account_status,a=e.account_type,n=e.card_classname,r=e.disabled,i=e.is_virtual,c=e.type_of_card,l=e.should_restrict_bvi_account_creation,_=(0,s.getAuthenticationStatusInfo)(t),p=_.poi_not_submitted_for_vanuatu,m=_.poi_or_poa_not_submitted,f=_.poi_verified_for_vanuatu,g=_.poi_verified_for_bvi_labuan_maltainvest,h=_.poi_pending_for_bvi_labuan_maltainvest,b=_.poi_pending_for_vanuatu,v=_.poi_resubmit_for_vanuatu,y=_.poi_resubmit_for_bvi_labuan_maltainvest,w=_.poi_poa_verified_for_bvi_labuan_maltainvest,E=_.poi_acknowledged_for_bvi_labuan_maltainvest,x=_.poa_acknowledged,z=_.need_poa_resubmission,S=_.need_poi_for_bvi_labuan_maltainvest,D=_.poa_pending,O="svg"===c,A="vanuatu"===c,k="bvi"===c,T=["labuan","maltainvest"].includes(c);return i&&O?o.createElement("div",{className:"".concat(n,"__verification-status--not_submitted")},o.createElement(u.Text,{as:"p",size:"xxxs",align:"center",color:"prominent"},o.createElement(d.Localize,{i18n_default_text:"Switch to your real account to create a DMT5 {{account_title}} {{type_title}} account.",values:{account_title:function(){switch(a){case"synthetic":return"Derived";case"financial":return"Financial";default:return""}}(),type_title:function(){switch(c){case"bvi":return"BVI";case"vanuatu":return"Vanuatu";case"labuan":return"STP";default:return""}}()}}))):r?o.createElement("div",{className:"".concat(n,"__verification-status--account_added")},o.createElement(u.Text,{size:"xxs",weight:"bold",color:"colored-background"},o.createElement(d.Localize,{i18n_default_text:"Account added"}))):O?o.createElement("div",{className:"".concat(n,"__verification-status--hint")},o.createElement(u.Text,{size:"xxxs",align:"center","line-height":"s",color:"less-prominent"},o.createElement(d.Localize,{i18n_default_text:"You will need to submit proof of identity and address once you reach certain thresholds"}))):m?o.createElement("div",{className:"".concat(n,"__verification-status--not_submitted")},o.createElement(u.Text,{as:"p",size:"xxs",align:"center",color:"prominent"},o.createElement(d.Localize,{i18n_default_text:"Proof of identity and address are required"}))):k&&l?D?o.createElement("div",{className:"".concat(n,"__verification-status--pending")},o.createElement(u.Text,{size:"xxs",color:"prominent"},o.createElement(d.Localize,{i18n_default_text:"Pending proof of address review"}))):o.createElement("div",{className:"".concat(n,"__verification-status--failed")},o.createElement(u.Text,{size:"xxs",color:"colored-background"},o.createElement(d.Localize,{i18n_default_text:"Resubmit proof of address"}))):A&&f||k&&g||T&&w?o.createElement("div",{className:"".concat(n,"__verification-status--poi_verified")},o.createElement(u.Text,{as:"p",size:"xxs",align:"center",color:"colored-background"},o.createElement(d.Localize,{i18n_default_text:"You are verified to add this account"}))):A&&p?o.createElement("div",{className:"".concat(n,"__verification-status--not_submitted")},o.createElement(u.Text,{as:"p",size:"xxs",align:"center",color:"prominent"},o.createElement(d.Localize,{i18n_default_text:"You will need to submit proof of identity"}))):A&&b||k&&h?o.createElement("div",{className:"".concat(n,"__verification-status--pending")},o.createElement(u.Text,{size:"xxs",color:"prominent"},o.createElement(d.Localize,{i18n_default_text:"Pending proof of identity review"}))):T&&E&&x&&!w?o.createElement("div",{className:"".concat(n,"__verification-status--pending")},o.createElement(u.Text,{size:"xxs",color:"prominent"},o.createElement(d.Localize,{i18n_default_text:"Pending verification"}))):T&&z&&S?o.createElement("div",{className:"".concat(n,"__verification-status--failed")},o.createElement(u.Text,{size:"xxs",color:"colored-background"},o.createElement(d.Localize,{i18n_default_text:"Resubmit proof of identity and address"}))):A&&v||(k||T)&&y?o.createElement("div",{className:"".concat(n,"__verification-status--failed")},o.createElement(u.Text,{size:"xxs",color:"colored-background"},o.createElement(d.Localize,{i18n_default_text:"Resubmit proof of identity"}))):T&&z?o.createElement("div",{className:"".concat(n,"__verification-status--failed")},o.createElement(u.Text,{size:"xxs",color:"colored-background"},o.createElement(d.Localize,{i18n_default_text:"Resubmit proof of address"}))):null};const De=v((function(e){var t=e.client;return{account_status:t.account_status,is_virtual:t.is_virtual,should_restrict_bvi_account_creation:t.should_restrict_bvi_account_creation}}))((function(e){return o.createElement("div",{className:"".concat(e.card_classname,"__verification-status")},o.createElement(Se,e))}));function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const ke=function(e){var t,a,n,r=e.account_type,i=e.disabled,c=e.jurisdiction_selected_shortcode,l=e.financial_available_accounts,s=e.setJurisdictionSelectedShortcode,_=e.synthetic_available_accounts,p=e.type_of_card,m="cfd-jurisdiction-card--".concat(r),f=null==_?void 0:_.length,g=null==l?void 0:l.length,h="synthetic"===r,b=Oe(o.useState(h?f:g),1)[0],v=[1,2].includes(b),y=ze[p],w=h?y.synthetic_contents:y.financial_contents,x=function(){return o.createElement(u.Icon,{icon:"IcCheckmark",className:"".concat(m,"__bullet-wrapper--checkmark"),color:"green",size:18})};return o.createElement(o.Fragment,null,o.createElement("div",{className:E()(m,(t={},a="".concat(m,"--selected"),n=c===p,a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t)),onClick:i?function(){}:function(){var e;s(c===(e=p)?"":e)},style:v?{width:"32em"}:{width:"27.6em"}},y.is_over_header_available&&o.createElement("div",{className:E()("".concat(m,"__over-header"))},o.createElement(u.Text,{as:"p",color:"info-blue",line_height:"xxl",weight:"bold"},o.createElement(d.Localize,{i18n_default_text:y.over_header}))),o.createElement("div",{className:"".concat(m,"__info-container")},o.createElement(u.Text,{as:"p",color:"prominent",weight:"bold",size:"sm",className:"".concat(m,"__h2-header")},o.createElement(d.Localize,{i18n_default_text:y.header})),w.map((function(e,t){return o.createElement("div",{className:"".concat(m,"__bullet-wrapper"),key:t},o.createElement("div",null,o.createElement(x,null)),o.createElement(u.Text,{as:"p",size:"xs",color:"prominent"},o.createElement(d.Localize,{i18n_default_text:e})),/Straight-through processing/.test(e)&&o.createElement(u.Popover,{alignment:"left",className:"cfd-compare-accounts-tooltip",classNameBubble:"cfd-compare-accounts-tooltip--msg",icon:"info",disable_message_icon:!0,is_bubble_hover_enabled:!0,message:(0,d.localize)("Choosing this jurisdiction will give you a Financial STP account. Your trades will go directly to the market and have tighter spreads."),zIndex:9999}))}))),o.createElement(De,{type_of_card:p,card_classname:m,disabled:i,account_type:r})))};var Te=function(e){var t=e.account_status,a=e.account_type,n=e.jurisdiction_selected_shortcode,r=e.card_classname,i=e.should_restrict_bvi_account_creation,c=(0,s.getAuthenticationStatusInfo)(t),l=c.poi_or_poa_not_submitted,u=c.poi_pending_for_vanuatu,_=c.poi_verified_for_bvi_labuan_maltainvest,p=c.poi_pending_for_bvi_labuan_maltainvest,m=c.poi_verified_for_vanuatu,f=c.need_poi_for_vanuatu,g=c.poi_resubmit_for_bvi_labuan_maltainvest,h=c.poi_acknowledged_for_bvi_labuan_maltainvest,b=c.poa_acknowledged,v=c.poi_poa_verified_for_bvi_labuan_maltainvest,y=c.need_poa_resubmission,w=c.need_poi_for_bvi_labuan_maltainvest,E=c.poa_pending,x="svg"===n,z="vanuatu"===n,S="bvi"===n,D=["labuan","maltainvest"].includes(n),O="synthetic"===a?"Derived":"Financial";return x?o.createElement(d.Localize,{i18n_default_text:"Add your Deriv MT5 <0>{{account_type_name}}</0> account under Deriv (SVG) LLC (company no. 273 LLC 2020).",values:{account_type_name:O}}):l&&(z||S||D)?o.createElement(d.Localize,{i18n_default_text:"To create this account first we need your proof of identity and address."}):S&&i?E?o.createElement(d.Localize,{i18n_default_text:"<0>You can open this account once your submitted documents have been verified.</0>",components:[o.createElement("span",{key:0,className:"".concat(r,"__footnote--pending")})]}):o.createElement(d.Localize,{i18n_default_text:"To create this account first we need you to resubmit your proof of address."}):_&&S?o.createElement(d.Localize,{i18n_default_text:"Add your Deriv MT5 <0>{{account_type_name}}</0>  account under Deriv (BVI) Ltd, regulated by the British Virgin Islands Financial Services Commission (License no. SIBA/L/18/1114).",values:{account_type_name:O}}):m&&z?o.createElement(d.Localize,{i18n_default_text:"Add Your Deriv MT5 <0>{{account_type_name}}</0>  account under Deriv (V) Ltd, regulated by the Vanuatu Financial Services Commission.",values:{account_type_name:O}}):v&&"labuan"===n?o.createElement(d.Localize,{i18n_default_text:"Add your Deriv MT5 <0>{{account_type_name}}</0>  STP account under Deriv (FX) Ltd regulated by Labuan Financial Services Authority (Licence no. MB/18/0024).",values:{account_type_name:O}}):v&&"maltainvest"===n?o.createElement(d.Localize,{i18n_default_text:"Add your Deriv MT5 CFDs account under Deriv Investments (Europe) Limited regulated by the Malta Financial Services Authority (MFSA) (licence no. IS/70156)."}):z&&u||S&&p||D&&h&&b&&!v?o.createElement(d.Localize,{i18n_default_text:"<0>You can open this account once your submitted documents have been verified.</0>",components:[o.createElement("span",{key:0,className:"".concat(r,"__footnote--pending")})]}):D&&y&&w?o.createElement(d.Localize,{i18n_default_text:"To create this account first we need you to resubmit your proof of identity and address."}):z&&f||(S||D)&&g?o.createElement(d.Localize,{i18n_default_text:"To create this account first we need you to resubmit your proof of identity."}):D&&y?o.createElement(d.Localize,{i18n_default_text:"To create this account first we need you to resubmit your proof of address."}):null};const Pe=function(e){return o.createElement("div",{className:"".concat(e.card_classname,"__footnote")},o.createElement(u.Text,{as:"p",color:"prominent",align:"center",size:"xs",weight:"bold",line_height:"xs"},o.createElement(Te,e)))};const Me=function(e){var t=e.account_status,a=e.account_type,n=e.is_virtual,r=e.jurisdiction_selected_shortcode,i=e.setJurisdictionSelectedShortcode,c=e.synthetic_available_accounts,l=e.financial_available_accounts,s=e.checked,u=e.setChecked,d=e.real_synthetic_accounts_existing_data,_=e.real_financial_accounts_existing_data,p=e.should_restrict_bvi_account_creation,m="cfd-jurisdiction-card--".concat(a),f=function(e){return!(!n||"svg"===e)||("synthetic"===a?null==d?void 0:d.some((function(t){return t.landing_company_short===e})):null==_?void 0:_.some((function(t){return t.landing_company_short===e})))};return o.createElement(o.Fragment,null,o.createElement("div",{className:"".concat(m,"__wrapper")},["svg","bvi","vanuatu","labuan","maltainvest"].map((function(e){return t=e,("synthetic"===a?null==c?void 0:c.some((function(e){return e.shortcode===t})):null==l?void 0:l.some((function(e){return e.shortcode===t})))&&o.createElement(ke,{key:"".concat(a,"_").concat(e),type_of_card:e,disabled:f(e),jurisdiction_selected_shortcode:r,synthetic_available_accounts:c,financial_available_accounts:l,account_type:a,setJurisdictionSelectedShortcode:i});var t}))),o.createElement(Pe,{account_status:t,card_classname:m,account_type:a,jurisdiction_selected_shortcode:r,should_restrict_bvi_account_creation:p}),o.createElement(xe,{account_status:t,is_checked:s,onCheck:function(){return u(!s)},class_name:"".concat(m,"__jurisdiction-checkbox"),jurisdiction_selected_shortcode:r,should_restrict_bvi_account_creation:p}))};function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const Ne=v((function(e){var t=e.modules.cfd,a=e.ui,n=e.client;return{account_type:t.account_type,account_settings:n.account_settings,account_status:n.account_status,disableApp:a.disableApp,enableApp:a.enableApp,is_eu:n.is_eu,is_jurisdiction_modal_visible:t.is_jurisdiction_modal_visible,is_virtual:n.is_virtual,jurisdiction_selected_shortcode:t.jurisdiction_selected_shortcode,real_financial_accounts_existing_data:t.real_financial_accounts_existing_data,real_synthetic_accounts_existing_data:t.real_synthetic_accounts_existing_data,setAccountSettings:n.setAccountSettings,setJurisdictionSelectedShortcode:t.setJurisdictionSelectedShortcode,should_restrict_bvi_account_creation:n.should_restrict_bvi_account_creation,trading_platform_available_accounts:n.trading_platform_available_accounts,toggleCFDVerificationModal:t.toggleCFDVerificationModal,toggleCFDPersonalDetailsModal:t.toggleCFDPersonalDetailsModal,toggleJurisdictionModal:t.toggleJurisdictionModal,updateAccountStatus:n.updateAccountStatus}}))((function(e){var t=e.account_status,a=e.account_settings,n=e.account_type,r=e.disableApp,i=e.enableApp,c=e.is_jurisdiction_modal_visible,l=e.is_eu,_=e.is_virtual,p=e.jurisdiction_selected_shortcode,m=e.openPasswordModal,f=e.real_synthetic_accounts_existing_data,g=e.real_financial_accounts_existing_data,h=e.trading_platform_available_accounts,b=e.toggleCFDPersonalDetailsModal,v=e.toggleJurisdictionModal,y=e.setAccountSettings,w=e.setJurisdictionSelectedShortcode,E=e.should_restrict_bvi_account_creation,x=e.toggleCFDVerificationModal,z=e.updateAccountStatus,S=Ce(o.useState(!1),2),D=S[0],O=S[1],A=Ce(o.useState(!1),2),k=A[0],T=A[1],P=(0,s.getAuthenticationStatusInfo)(t),M=P.poi_pending_for_vanuatu,C=P.poi_verified_for_vanuatu,F=P.poi_pending_for_bvi_labuan_maltainvest,N=P.poi_resubmit_for_bvi_labuan_maltainvest,j=P.poi_resubmit_for_vanuatu,L=P.poi_verified_for_bvi_labuan_maltainvest,R=P.poi_or_poa_not_submitted,I=P.poi_poa_verified_for_bvi_labuan_maltainvest,V=P.need_poa_resubmission,B=P.poi_acknowledged_for_bvi_labuan_maltainvest,U=P.poa_acknowledged,W=P.poa_pending;o.useEffect((function(){if(c&&(z(),w(""),!k)){var e={};a?e=a:s.WS.authorized.storage.getSettings().then((function(t){e=t.get_settings,y(t.get_settings)}));var t=e,n=t.citizen,r=t.place_of_birth,o=t.tax_residence,i=t.tax_identification_number,l=t.account_opening_reason;n&&r&&o&&i&&l&&T(!0)}}),[c]),o.useEffect((function(){p&&O(!1)}),[p,c]);var X=h.filter((function(e){return"financial"===e.market_type})),q=h.filter((function(e){return"gaming"===e.market_type})),J=l?(0,d.localize)("Jurisdiction for your Deriv MT5 CFDs account"):(0,d.localize)("Choose a jurisdiction for your Deriv MT5 {{account_type}} account",{account_type:"synthetic"===n.type?"Derived":"Financial"}),G="svg"===p,Y="bvi"===p,H="vanuatu"===p,$="labuan"===p,K="maltainvest"===p,Z=function(){if(p){if(!("synthetic"===n.type?null==f?void 0:f.some((function(e){return e.landing_company_short===p})):null==g?void 0:g.some((function(e){return e.landing_company_short===p})))){if(G||R)return!1;if(H)return M||C&&!D;if(Y)return E&&W||F||L&&!D&&!E;if($||K)return B&&U&&!I||I&&!D}return!0}return!0},Q=function(e){k?m(e):b()},ee=function(){return o.createElement(o.Fragment,null,o.createElement(Me,{account_status:t,account_type:n.type,checked:D,financial_available_accounts:X,is_virtual:_,real_financial_accounts_existing_data:g,real_synthetic_accounts_existing_data:f,jurisdiction_selected_shortcode:p,setChecked:O,setJurisdictionSelectedShortcode:w,synthetic_available_accounts:q,should_restrict_bvi_account_creation:E}),o.createElement(u.Modal.Footer,{has_separator:!0},o.createElement(u.Button,{disabled:Z(),primary:!0,style:{width:(0,s.isMobile)()?"100%":"unset"},onClick:function(){var e;v(),e={category:n.category,type:n.type},l&&K?I?m(e):x():G?m(e):H?C&&!R?Q(e):x():Y?!L||R||E?x():Q(e):$&&(I?Q(e):x())}},($||K)&&N&&V?o.createElement(d.Localize,{i18n_default_text:"Resubmit"}):(H&&j||(Y||$||K)&&N)&&!R?o.createElement(d.Localize,{i18n_default_text:"Resubmit proof of identity"}):($||K)&&V||Y&&E&&!U?o.createElement(d.Localize,{i18n_default_text:"Resubmit proof of address"}):o.createElement(d.Localize,{i18n_default_text:"Next"}))))};return o.createElement("div",null,o.createElement(o.Suspense,{fallback:o.createElement(u.UILoader,null)},o.createElement(u.DesktopWrapper,null,o.createElement(u.Modal,{disableApp:r,enableApp:i,is_open:c,title:J,toggleModal:v,type:"button",height:"664px",width:"synthetic"===n.type?"1040px":"1200px",exit_classname:"cfd-modal--custom-exit"},o.createElement(ee,null))),o.createElement(u.MobileWrapper,null,o.createElement(u.MobileDialog,{portal_element_id:"deriv_app",title:J,visible:c,onClose:v},o.createElement(ee,null)))))}));var je=function(e){var t=e.text,a=e.className;return o.createElement("div",{className:a,"data-testid":"cfd_account_copy_main_div"},o.createElement(u.Clipboard,{text_copy:t,info_message:(0,s.isMobile)()?"":(0,d.localize)("copy"),success_message:(0,d.localize)("copied!"),popoverAlignment:(0,s.isMobile)()?"left":"bottom"}))},Le=function(e){switch(e){case"ios":return"https://apps.apple.com/us/app/deriv-x/id1563337503";case"huawei":return"https://appgallery.huawei.com/app/C104633219";default:return"https://play.google.com/store/apps/details?id=com.deriv.dx"}},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;switch(e||(0,s.OSDetect)()){case"windows":return"https://download.mql5.com/cdn/web/deriv.limited/mt5/derivmt5setup.exe";case"linux":return"https://www.metatrader5.com/en/terminal/help/start_advanced/install_linux";case"macos":return"https://download.mql5.com/cdn/web/metaquotes.software.corp/mt5/MetaTrader5.dmg";case"huawei":return"https://appgallery.huawei.com/#/app/C102015329";case"android":return"https://download.mql5.com/cdn/mobile/mt5/android?server=Deriv-Demo,Deriv-Server";default:return Ve({category:"real"})}},Ie=function(e,t){var a="real"===e?"https://dx.deriv.com":"https://dx-demo.deriv.com";return t&&(a+="?token=".concat(t)),a},Ve=function(e){var t=e.category,a=e.loginid,n=e.server_name,r="demo"===t?"Deriv-Demo":void 0===n?"Deriv-Server":n,o=null!=a?a:"";return"https://trade.mql5.com/trade?servers=".concat(r,"&trade_server=").concat(r).concat(o&&"&login=".concat(o))},Be=function(e){var t=e.platform,a=e.onClick;return o.createElement("div",{className:"cfd-trade-modal__password-box"},o.createElement("div",{className:"cfd-trade-modal__password-text"},o.createElement(u.Popover,{alignment:"right",message:(0,d.localize)("Use these credentials to log in to your {{platform}} account on the website and mobile apps.",{platform:(0,s.getCFDPlatformLabel)(t)}),classNameBubble:"cfd-trade-modal__password-tooltip",zIndex:9999},o.createElement(u.Text,{size:"xs"},"***************"))),o.createElement(u.Popover,{alignment:"bottom",message:(0,d.localize)("Change Password"),zIndex:9999},o.createElement(u.Button,{className:"cfd-trade-modal__password-action",transparent:!0,onClick:a,icon:o.createElement(u.Icon,{icon:"IcEdit",className:"da-article__learn-more-icon",custom_color:"var(--text-less-prominent)"})})))},Ue=function(e){var t=e.value,a=e.is_bold;return o.createElement("div",{className:"cfd-trade-modal__spec-box"},o.createElement(u.Text,{size:"xs",weight:a?"bold":"",className:"cfd-trade-modal__spec-text"},t),o.createElement(je,{text:t,className:"cfd-trade-modal__spec-copy"}))},We={mt5:{synthetic:"IcMt5SyntheticPlatform",financial:"IcMt5FinancialPlatform",cfd:"IcMt5CfdPlatform"}};const Xe=v((function(e){var t=e.modules,a=e.ui;return{disableApp:a.disableApp,enableApp:a.enableApp,mt5_trade_account:t.cfd.mt5_trade_account}}))((function(e){var t=e.mt5_trade_account,a=e.disableApp,n=e.enableApp,r=e.is_eu_user,i=e.is_open,c=e.onPasswordManager,l=e.toggleModal,_=function(){if("demo"===t.account_type&&"financial"===t.market_type&&"labuan"===t.landing_company_short||"real"===t.account_type)return t.landing_company_short},p=function(){var e,a;return o.createElement("div",{className:"cfd-trade-modal-container"},o.createElement("div",{className:"cfd-trade-modal"},o.createElement(u.Icon,{icon:We.mt5[r?"cfd":t.market_type],size:24}),o.createElement("div",{className:"cfd-trade-modal__desc"},o.createElement(u.Text,{size:"xs",line_height:"l",className:"cfd-trade-modal__desc-heading"},(0,s.getCFDAccountDisplay)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:s.CFD_PLATFORMS.MT5,is_eu:r,shortcode:_(),is_mt5_trade_modal:!0})),(null==t?void 0:t.display_login)&&o.createElement(u.Text,{color:"less-prominent",size:"xxxs",line_height:"xxxs"},null==t?void 0:t.display_login)),(null==t?void 0:t.display_balance)&&o.createElement(u.Text,{size:"xs",color:"profit-success",className:"cfd-trade-modal__desc-balance",weight:"bold"},o.createElement(u.Money,{amount:t.display_balance,currency:t.currency,has_sign:!!t.balance&&t.balance<0,show_currency:!0}))),o.createElement("div",{className:"cfd-trade-modal__login-specs"},o.createElement("div",{className:"cfd-trade-modal__login-specs-item"},o.createElement(u.Text,{className:"cfd-trade-modal--paragraph"},(0,d.localize)("Broker")),o.createElement(Ue,{value:"Deriv Limited"})),o.createElement("div",{className:"cfd-trade-modal__login-specs-item"},o.createElement(u.Text,{className:"cfd-trade-modal--paragraph"},(0,d.localize)("Server")),o.createElement(Ue,{value:null==t||null===(e=t.server_info)||void 0===e?void 0:e.environment})),o.createElement("div",{className:"cfd-trade-modal__login-specs-item"},o.createElement(u.Text,{className:"cfd-trade-modal--paragraph"},(0,d.localize)("Login ID")),o.createElement(Ue,{value:null==t?void 0:t.display_login})),o.createElement("div",{className:"cfd-trade-modal__login-specs-item"},o.createElement(u.Text,{className:"cfd-trade-modal--paragraph"},(0,d.localize)("Password")),o.createElement("div",{className:"cfd-trade-modal--paragraph"},o.createElement(Be,{platform:"mt5",onClick:function(){var e=(0,s.getCFDAccountKey)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:s.CFD_PLATFORMS.DMT5,shortcode:t.landing_company_short});c(null==t?void 0:t.login,function(e,t){return t&&(0,d.localize)("MT5 CFDs"),e}(t.market_type,r),t.account_type,e,null==t?void 0:t.server),l()}})))),o.createElement("div",{className:"cfd-trade-modal__download-center-app"},o.createElement("div",{className:"cfd-trade-modal__download-center-app--option"},o.createElement(u.Icon,{icon:"IcMt5Logo",size:32}),o.createElement(u.Text,{className:"cfd-trade-modal__download-center-app--option-item",size:"xs"},(0,d.localize)("MetaTrader 5 web")),o.createElement("a",{className:"dc-btn cfd-trade-modal__download-center-app--option-link",type:"button",href:Ve({category:t.account_type,loginid:t.display_login,server_name:null==t||null===(a=t.server_info)||void 0===a?void 0:a.environment}),target:"_blank",rel:"noopener noreferrer"},o.createElement(u.Text,{size:"xxs",weight:"bold"},(0,d.localize)("Open")))),o.createElement("div",{className:"cfd-trade-modal__download-center-app--option"},o.createElement(u.Icon,{icon:"IcWindowsLogo",size:32}),o.createElement(u.Text,{className:"cfd-trade-modal__download-center-app--option-item",size:"xs"},(0,d.localize)("MetaTrader 5 Windows app")),o.createElement("a",{className:"dc-btn cfd-trade-modal__download-center-app--option-link",type:"button",href:Re("windows"),target:"_blank",rel:"noopener noreferrer"},o.createElement(u.Text,{size:"xxs",weight:"bold"},(0,d.localize)("Download")))),o.createElement("div",{className:"cfd-trade-modal__download-center-app--option"},o.createElement(u.Icon,{icon:"IcMacosLogo",size:32}),o.createElement(u.Text,{className:"cfd-trade-modal__download-center-app--option-item",size:"xs"},(0,d.localize)("MetaTrader 5 MacOS app")),o.createElement("a",{className:"dc-btn cfd-trade-modal__download-center-app--option-link",type:"button",href:Re("macos"),target:"_blank",rel:"noopener noreferrer"},o.createElement(u.Text,{size:"xxs",weight:"bold"},(0,d.localize)("Download")))),o.createElement("div",{className:"cfd-trade-modal__download-center-app--option"},o.createElement(u.Icon,{icon:"IcLinuxLogo",size:32}),o.createElement(u.Text,{className:"cfd-trade-modal__download-center-app--option-item",size:"xs"},(0,d.localize)("MetaTrader 5 Linux app")),o.createElement("a",{className:"dc-btn cfd-trade-modal__download-center-app--option-link",type:"button",href:Re("linux"),target:"_blank",rel:"noopener noreferrer"},o.createElement(u.Text,{size:"xxs",weight:"bold"},(0,d.localize)("Learn more"))))),o.createElement("div",{className:"cfd-trade-modal__download-center-options"},o.createElement("div",{className:"cfd-trade-modal__download-center-options--mobile-links"},o.createElement("a",{href:Re("android"),target:"_blank",rel:"noopener noreferrer"},o.createElement(u.Icon,{icon:"IcInstallationGoogle",width:135,height:40})),o.createElement("a",{href:Re("huawei"),target:"_blank",rel:"noopener noreferrer"},o.createElement(u.Icon,{icon:"IcInstallationHuawei",width:135,height:40}))),o.createElement("div",{className:"cfd-trade-modal__download-center-options--qrcode"},o.createElement("img",{src:(0,s.getUrlBase)("/public/images/common/mt5_download.png"),width:80,height:80}),o.createElement(u.Text,{align:"center",size:"xxs"},(0,d.localize)("Scan the QR code to download Deriv MT5.")))))};return o.createElement(o.Suspense,{fallback:o.createElement(u.UILoader,null)},o.createElement(u.DesktopWrapper,null,o.createElement(u.Modal,{disableApp:a,enableApp:n,is_open:i,title:"Trade",toggleModal:l,should_header_stick_body:!1,width:"600px",height:"709px",exit_classname:"cfd-modal--custom-exit"},p())),o.createElement(u.MobileWrapper,null,o.createElement(u.PageOverlay,{className:"cfd-trade-modal__mobile-view",is_open:i,portal_id:"deriv_app",header:"Trade",onClickClose:l},o.createElement(u.Div100vhContainer,{className:"cfd-trade-modal__mobile-view-wrapper",height_offset:"80px"},p()))))}));var qe,Je=a("@deriv/account/dist/account/js/poi-poa-docs-submitted"),Ge=a.n(Je),Ye=a("@deriv/account/dist/account/js/file-uploader-container"),He=a.n(Ye),$e=a("@deriv/account/dist/account/js/poa-status-codes"),Ke=a.n($e),Ze=["onSave","index","onSubmit","refreshNotifications"];function Qe(e,t,a,n,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void a(e)}c.done?t(l):Promise.resolve(l).then(n,r)}function et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function tt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?et(Object(a),!0).forEach((function(t){at(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):et(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function at(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function ot(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const it=function(e){var t=e.onSave,a=e.index,n=e.onSubmit,r=e.refreshNotifications,i=ot(e,Ze),c=o.useRef(null),l=nt(o.useState(!0),2),_=l[0],p=l[1],m=nt((0,u.useStateCallback)({poa_status:"none",has_poi:!1,form_error:""}),2),f=m[0],g=m[1],h=nt((0,u.useStateCallback)({files:[],error_message:null}),2),b=h[0],v=h[1],y=nt(o.useState({}),2),w=y[0],E=y[1],x=nt(o.useState(!1),2),z=x[0],D=x[1],A=function(){var e,r=(e=regeneratorRuntime.mark((function e(r,o){var i,c,l,u,d,_,p,m,h,v,y,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(i=tt({},r)).document_file,o.setSubmitting(!0),e.next=5,s.WS.setSettings(i);case 5:if(!(c=e.sent).error){e.next=10;break}return g(tt(tt({},f),{form_error:c.error.message})),o.setSubmitting(!1),e.abrupt("return");case 10:return e.next=12,s.WS.authorized.storage.getSettings();case 12:if(l=e.sent,u=l.error,d=l.get_settings,!u){e.next=18;break}return g(tt(tt({},f),{form_error:u.message})),e.abrupt("return");case 18:return _=d._address_line_1,p=d._address_line_2,m=d._address_city,h=d._address_state,v=d._address_postcode,E({_address_line_1:_,_address_line_2:p,_address_city:m,_address_postcode:v,_address_state:h}),g(tt(tt({},f),{form_error:""})),e.prev=21,e.next=24,null===(y=qe.current)||void 0===y?void 0:y.upload();case 24:if(!(x=e.sent)||null==x||!x.warning){e.next=29;break}return g(tt(tt({},f),{form_error:x.warning})),o.setSubmitting(!1),e.abrupt("return");case 29:return e.next=31,s.WS.authorized.storage.getAccountStatus();case 31:if(!e.sent.error){e.next=37;break}return g(tt(tt({},f),{form_error:u.message})),o.setSubmitting(!1),e.abrupt("return");case 37:z=void 0,S=void 0,z=b.files,S=b.error_message,n(a,tt(tt(tt({},w),f),{document_file:z,file_error_message:S})),e.next=43;break;case 40:e.prev=40,e.t0=e.catch(21),g(tt(tt({},f),{form_error:e.t0.message}));case 43:t(a,r),n(a,r);case 45:case"end":return e.stop()}var z,S}),e,null,[[21,40]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){Qe(o,n,r,i,c,"next",e)}function c(e){Qe(o,n,r,i,c,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}();o.useEffect((function(){s.WS.authorized.getAccountStatus().then((function(e){s.WS.wait("states_list").then((function(){var t,a,n,o,i,c,l=null===(t=e.get_account_status)||void 0===t||null===(a=t.authentication)||void 0===a||null===(n=a.document)||void 0===n?void 0:n.status,s=null===(o=e.get_account_status)||void 0===o||null===(i=o.authentication)||void 0===i||null===(c=i.identity)||void 0===c?void 0:c.status;if(l&&s){var u="none"===s;g(tt(tt({},f),{poa_status:l,needs_poi:u,identity_status:s}),(function(){p(!1),r()}))}l&&["rejected","expired","suspected"].includes(l)&&D(!0)}))}))}),[r,g]);var k=function(e,t){return f.poa_status!==Ke().verified&&0!==Object.keys(t).length},T=i.states_list,P=i.value,M=P.address_line_1,C=P.address_line_2,F=P.address_city,N=P.address_state,L=P.address_postcode,R=f.form_error,I=f.poa_status,V=!_&&I!==Ke().verified;return o.createElement(S.J9,{initialValues:{address_line_1:M,address_line_2:C,address_city:F,address_state:N,address_postcode:L,document_file:b.files},validateOnMount:!0,validate:function(e){if([Ke().verified,Ke().pending].includes(f.poa_status))return{};var t={address_line_1:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return(0,s.validAddress)(e)},function(e){return(0,s.validLength)(e,{max:70})}],address_line_2:[function(e){return!e||(0,s.validAddress)(e)},function(e){return(0,s.validLength)(e,{max:70})}],address_city:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return(0,s.validLength)(e,{min:1,max:35})},function(e){return(0,s.validLetterSymbol)(e)}],address_state:[function(e){return(0,s.validLength)(e,{max:35})}],address_postcode:[function(e){return(0,s.validLength)(e,{max:20})},function(e){return!e||(0,s.validPostCode)(e)}]},a={address_line_1:[(0,d.localize)("First line of address is required"),(0,d.localize)("First line of address is not in a proper format."),(0,d.localize)("This should not exceed {{max}} characters.",{max:70})],address_line_2:[(0,d.localize)("Second line of address is not in a proper format."),(0,d.localize)("This should not exceed {{max}} characters.",{max:70})],address_city:[(0,d.localize)("Town/City is required."),(0,d.localize)("This should not exceed {{max_number}} characters.",{max_number:35}),(0,d.localize)("Town/City is not in a proper format.")],address_state:[(0,d.localize)("State/Province is not in a proper format.")],address_postcode:[(0,d.localize)("This should not exceed {{max_number}} characters.",{max_number:20}),(0,d.localize)("Only letters, numbers, space, and hyphen are allowed.")]},n={};return Object.entries(t).forEach((function(t){var r=nt(t,2),o=r[0],i=r[1].findIndex((function(t){return!t(e[o])}));-1!==i&&(n[o]=a[o][i])})),n},enableReinitialize:!0,onSubmit:A,innerRef:c},(function(e){e.dirty;var n=e.errors,r=e.handleSubmit,i=e.isSubmitting,c=e.handleBlur,l=e.handleChange,p=e.setFieldTouched,m=e.setFieldValue,f=e.values,g=e.touched;return o.createElement(u.AutoHeightWrapper,{default_height:200},(function(e){var h=e.setRef,y=e.height;return o.createElement("form",{ref:h,onSubmit:r,className:"cfd-proof-of-address"},o.createElement(u.Div100vhContainer,{className:"details-form",height_offset:"100px",is_disabled:(0,s.isDesktop)()},_&&o.createElement(u.Loading,{is_fullscreen:!1}),V&&o.createElement(u.ThemedScrollbars,{autohide:!1,height:"".concat(y-77,"px"),is_bypassed:(0,s.isMobile)()},o.createElement("div",{className:"cfd-proof-of-address__field-area"},z&&o.createElement(u.Text,{size:"xs",align:"center",color:"loss-danger"},(0,d.localize)("We were unable to verify your address with the details you provided. Please check and resubmit or choose a different document type.")),o.createElement(O(),{title:(0,d.localize)("Address information")}),o.createElement(j,{name:"address_line_1",maxLength:255,required:!0,label:(0,d.localize)("First line of address*"),placeholder:(0,d.localize)("First line of address*"),onBlur:c}),o.createElement(j,{name:"address_line_2",maxLength:255,label:(0,d.localize)("Second line of address (optional)"),optional:!0,placeholder:(0,d.localize)("Second line of address"),onBlur:c}),o.createElement("div",{className:"cfd-proof-of-address__inline-fields"},o.createElement(j,{maxLength:255,name:"address_city",required:!0,label:(0,d.localize)("Town/City*"),placeholder:(0,d.localize)("Town/City*"),onBlur:c}),o.createElement("fieldset",{className:"address-state__fieldset"},(null==T?void 0:T.length)>0?o.createElement(o.Fragment,null,o.createElement(u.DesktopWrapper,null,o.createElement(S.gN,{name:"address_state"},(function(e){var t=e.field;return o.createElement(u.Dropdown,{id:"address_state",className:"address_state-dropdown",is_align_text_left:!0,list:T,error:g[t.name]&&n[t.name],name:"address_state",value:f.address_state,onChange:l,placeholder:(0,d.localize)("State/Province"),list_portal_id:"modal_root"})}))),o.createElement(u.MobileWrapper,null,o.createElement(u.SelectNative,{label:(0,d.localize)("State/Province"),value:f.address_state,list_items:T,error:g.address_state&&n.address_state,onChange:function(e){l(e),m("address_state",e.target.value,!0)}}))):o.createElement(j,{name:"address_state",label:(0,d.localize)("State/Province"),placeholder:(0,d.localize)("State/Province"),value:f.address_state,onBlur:c})),o.createElement(j,{maxLength:255,name:"address_postcode",label:(0,d.localize)("Postal/ZIP code"),placeholder:(0,d.localize)("Postal/ZIP code"),onBlur:c,optional:!0})),o.createElement("div",{className:"cfd-proof-of-address__file-upload"},o.createElement(He(),{onRef:function(e){return qe=e},getSocket:s.WS.getSocket,onFileDrop:function(e){return function(e,n,r,o,i){r("document_file",!0),o("document_file",e),v({files:e,error_message:n},(function(){"function"==typeof t&&t(a,tt(tt({},i),{document_file:e}))}))}(e.files,e.error_message,p,m,f)}})))),o.createElement(u.Modal.Footer,{is_bypassed:(0,s.isMobile)()},(I===Ke().none||V)&&o.createElement(u.FormSubmitButton,{is_disabled:k(0,n)||I!==Ke().verified&&b.files&&b.files.length<1||!!b.error_message,label:I===Ke().verified?(0,d.localize)("Submit"):(0,d.localize)("Next"),is_absolute:(0,s.isMobile)(),is_loading:i,form_error:R}))))}))}))};var ct=a("@deriv/account/dist/account/js/proof-of-identity-container-for-mt5"),lt=a.n(ct),st=(a("@deriv/account/dist/account/css/proof-of-identity-container-for-mt5.css"),["index","onSave","onSubmit","height"]);function ut(){return ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ut.apply(this,arguments)}function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _t(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function pt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const mt=v((function(e){var t=e.client,a=e.common,n=e.notifications;return{account_status:t.account_status,app_routing_history:a.app_routing_history,fetchResidenceList:t.fetchResidenceList,is_switching:t.is_switching,is_virtual:t.is_virtual,is_high_risk:t.is_high_risk,is_withdrawal_lock:t.is_withdrawal_lock,refreshNotifications:n.refreshNotifications,routeBackInApp:a.routeBackInApp,should_allow_authentication:t.should_allow_authentication,account_settings:t.account_settings,residence_list:t.residence_list}}))((function(e){var t,a,n,r=e.index,i=e.onSave,c=e.onSubmit,l=e.height,s=pt(e,st),u=dt(o.useState("none"),2),d=u[0],_=u[1],p=(null===(t=s.account_settings)||void 0===t?void 0:t.citizen)||(null===(a=s.account_settings)||void 0===a?void 0:a.country_code),m=null===(n=s.residence_list)||void 0===n?void 0:n.find((function(e){return e.value===p}));return o.createElement(lt(),ut({},s,{height:l,is_from_external:!0,onStateChange:function(e){return function(e){_(e),i(r,{poi_state:e}),c(r,{poi_state:d})}(e)},citizen_data:m}))}));function ft(){return ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ft.apply(this,arguments)}function gt(e){return function(e){if(Array.isArray(e))return vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||bt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){if(e){if("string"==typeof e)return vt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?vt(e,t):void 0}}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const yt=v((function(e){var t=e.client,a=e.modules.cfd,n=e.notifications;return{addNotificationByKey:n.addNotificationMessageByKey,authentication_status:t.authentication_status,get_settings:t.account_settings,client_email:t.email,is_fully_authenticated:t.is_fully_authenticated,landing_company:t.landing_company,refreshNotifications:n.refreshNotifications,removeNotificationMessage:n.removeNotificationMessage,removeNotificationByKey:n.removeNotificationByKey,residence_list:t.residence_list,states_list:t.states_list,fetchStatesList:t.fetchStatesList,storeProofOfAddress:a.storeProofOfAddress,account_status:t.account_status,jurisdiction_selected_shortcode:a.jurisdiction_selected_shortcode}}))((function(e){var t=e.account_status,a=e.authentication_status,n=e.fetchStatesList,r=e.refreshNotifications,i=ht(o.useState(0),2),c=i[0],l=i[1],_=ht(o.useState(""),2),p=_[0],m=_[1],f=c,g=o.useRef(!0).current,h=(0,s.getAuthenticationStatusInfo)(t),b=h.need_poi_for_vanuatu,v=h.need_poi_for_bvi_labuan_maltainvest,y={header:{active_title:(0,d.localize)("Complete your proof of identity"),title:(0,d.localize)("Proof of identity")},body:mt,form_value:{poi_state:"unknown"},forwarded_props:["addNotificationByKey","authentication_status","refreshNotifications","removeNotificationMessage","removeNotificationByKey","jurisdiction_selected_shortcode"]},w={header:{active_title:(0,d.localize)("Complete your proof of address"),title:(0,d.localize)("Proof of address")},body:it,form_value:{address_line_1:e.get_settings.address_line_1,address_line_2:e.get_settings.address_line_2,address_city:e.get_settings.address_city,address_state:e.get_settings.address_state,address_postcode:e.get_settings.address_postcode,upload_file:""},forwarded_props:["states_list","get_settings","storeProofOfAddress","refreshNotifications"]},E=!("pending"===a.document_status||"verified"===a.document_status),x=[].concat(gt("vanuatu"===e.jurisdiction_selected_shortcode&&b||v?[y]:[]),gt(E?[w]:[])),z=ht(o.useState(x),2),S=z[0],D=z[1];o.useEffect((function(){r()}),[S,r]),o.useEffect((function(){n()}),[n]);var O=function(){g=!1,e.onFinish()},A=function(e,t){if(g){var a=gt(S);a[e].form_value=t,D(a)}},k=function(e){return e?S[f][e]:S[f]},T=k("body"),P=k("form_value"),M=(k("forwarded_props")||[]).reduce((function(t,a){return Object.assign(t,(n={},r=a,o=e[a],r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n));var n,r,o}),{});return o.createElement(u.Div100vhContainer,{className:"cfd-financial-stp-modal",id:"real_mt5_financial_stp_account_opening",is_disabled:(0,s.isDesktop)(),height_offset:"40px"},o.createElement("div",{className:"cfd-financial-stp-modal__body","data-testid":"dt_cfd_financial_stp_modal_body"},o.createElement(T,ft({value:P,index:f,onSubmit:function(e,t){m(""),c+1<S.length?(A(e,t),l(c+1)):O()},height:"auto",onCancel:function(){c-1>=0?(l(c-1),m("")):O()},onSave:A,form_error:p},M))))}));function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Et(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const xt=v((function(e){var t=e.client,a=e.modules,n=e.ui;return{disableApp:n.disableApp,enableApp:n.enableApp,is_cfd_verification_modal_visible:a.cfd.is_cfd_verification_modal_visible,toggleCFDVerificationModal:a.cfd.toggleCFDVerificationModal,jurisdiction_selected_shortcode:a.cfd.jurisdiction_selected_shortcode,updateAccountStatus:t.updateAccountStatus,account_status:t.account_status}}))((function(e){var t=e.disableApp,a=e.enableApp,n=e.is_cfd_verification_modal_visible,r=e.toggleCFDVerificationModal,i=e.jurisdiction_selected_shortcode,c=e.updateAccountStatus,l=e.account_status,_=wt(o.useState(!1),2),p=_[0],m=_[1],f=wt(o.useState(!1),2),g=f[0],h=f[1],b="vanuatu"===i,v=function(){s.WS.authorized.getAccountStatus().then((function(e){var t=e.get_account_status;if(null!=t&&t.authentication){var a=(0,s.getAuthenticationStatusInfo)(t),n=a.need_poi_for_vanuatu,r=a.poi_acknowledged_for_bvi_labuan_maltainvest,o=a.poa_acknowledged;m((!b||!n)&&!(!r||!o))}h(!1)}))};o.useEffect((function(){n&&(h(!0),v())}),[n]);var y=function(){return p?o.createElement(Ge(),{onClickOK:r,updateAccountStatus:c,account_status:l,is_vanuatu_selected:b}):o.createElement(yt,{onFinish:function(){m(!0)}})};return g?o.createElement(u.Loading,null):o.createElement(o.Suspense,{fallback:o.createElement(u.UILoader,null)},o.createElement(u.DesktopWrapper,null,o.createElement(u.Modal,{className:"cfd-financial-stp-modal",disableApp:t,enableApp:a,is_open:n,title:(0,d.localize)("Submit your proof of identity and address"),toggleModal:r,height:"700px",width:"996px",onMount:function(){return v()},exit_classname:"cfd-modal--custom-exit"},y())),o.createElement(u.MobileWrapper,null,o.createElement(u.MobileDialog,{portal_element_id:"deriv_app",title:(0,d.localize)("Submit your proof of identity and address"),wrapper_classname:"cfd-financial-stp-modal",visible:n,onClose:r},y())))}));var zt=a("../../node_modules/react-qrcode/lib/qrcode.js"),St=function(e,t){return t===s.CFD_PLATFORMS.DXTRADE?e?(0,d.localize)("Welcome to your Deriv X dashboard"):(0,d.localize)("Welcome to Deriv X"):t===s.CFD_PLATFORMS.MT5?(0,d.localize)("Welcome to Deriv MT5 (DMT5) dashboard"):(0,d.localize)("")},Dt=function(e){return e===s.CFD_PLATFORMS.DXTRADE?(0,d.localize)("Run Deriv X on your browser or download the mobile app"):e===s.CFD_PLATFORMS.MT5?(0,d.localize)("Run MT5 from your browser or download the MT5 app for your devices"):""},Ot=function(e,t){return e===s.CFD_PLATFORMS.DXTRADE?(0,d.localize)("Trade forex, basket indices, commodities, and cryptocurrencies with high leverage."):e===s.CFD_PLATFORMS.MT5?t?(0,d.localize)("Trade CFDs on forex, stocks, stock indices, synthetic indices, and commodities with leverage."):(0,d.localize)("Trade CFDs on forex, stocks & stock indices, commodities, and crypto."):""},At=function(e,t){return e===s.CFD_PLATFORMS.MT5?Re(t):Le(t)},kt=function(e){var t=e.active_index,a=e.dxtrade_tokens;return o.createElement(o.Fragment,null,o.createElement("h1",{className:"cfd-dashboard__download-container-heading"},(0,d.localize)("Run Deriv X on your browser")),o.createElement("a",{className:"cfd-dashboard__download-container-dxtrade-button",href:Ie(0===t?"real":"demo",a&&a[0===t?"real":"demo"]),target:"_blank",rel:"noopener noreferrer"},o.createElement(u.Icon,{className:"cfd-dashboard__download-container-dxtrade-button-icon",icon:"IcBrandDxtrade",width:32,height:32}),o.createElement("div",{className:"cfd-dashboard__download-container-dxtrade-button-text"},o.createElement(u.Text,{color:"colored-background",size:"xxs",weight:"bold"},o.createElement(d.Localize,{i18n_default_text:"Web terminal"})))))},Tt=function(){return o.createElement(o.Fragment,null,o.createElement("div",{className:"cfd-dashboard__download-container-links-icons"},o.createElement(u.Icon,{icon:"IcMt5DeviceDesktop",width:118,height:85}),o.createElement(u.Icon,{icon:"IcMt5DeviceLaptop",width:75,height:51})),o.createElement("div",{className:"cfd-dashboard__download-container-links-download-buttons"},o.createElement("a",{href:Re("windows"),target:"_blank",rel:"noopener noreferrer"},o.createElement(u.Icon,{icon:"IcInstallationWindows",width:138,height:40})),o.createElement("a",{href:Re("macos"),target:"_blank",rel:"noopener noreferrer"},o.createElement(u.Icon,{icon:"IcInstallationMacos",width:138,height:40})),o.createElement("a",{href:Re("linux"),target:"_blank",rel:"noopener noreferrer"},o.createElement(u.Icon,{icon:"IcInstallationLinux",width:138,height:40}))),o.createElement(u.Text,{as:"p",align:"center",size:"xxxs",className:"cfd-dashboard__download-center--hint"},o.createElement(d.Localize,{i18n_default_text:"The MT5 desktop app is not supported by Windows XP, Windows 2003, and Windows Vista."})))},Pt=function(e){var t=e.is_dark_mode_on,a=e.platform;return o.createElement(o.Fragment,null,a===s.CFD_PLATFORMS.DXTRADE&&o.createElement("h1",{className:"cfd-dashboard__download-container-heading"},(0,d.localize)("Download the Deriv X mobile app")),o.createElement("div",{className:E()({"cfd-dashboard__download-container-links-icons":(0,s.isMobile)()||a===s.CFD_PLATFORMS.MT5})},(0,s.isMobile)()&&a===s.CFD_PLATFORMS.DXTRADE&&o.createElement(o.Fragment,null,o.createElement(u.Icon,{icon:t?"IcDxtradeDeviceTabletLight":"IcDxtradeDeviceTablet",width:133,height:106}),o.createElement(u.Icon,{icon:t?"IcDxtradeDevicePhoneLight":"IcDxtradeDevicePhone",width:48,height:74})),a===s.CFD_PLATFORMS.MT5&&o.createElement(o.Fragment,null,o.createElement(u.Icon,{icon:"IcMt5DeviceTablet",width:133,height:106}),o.createElement(u.Icon,{icon:"IcMt5DevicePhone",width:48,height:74}))),o.createElement("div",{className:E()("cfd-dashboard__download-container-links-download-buttons",{"cfd-dashboard__download-container-links-download-buttons--column":(0,s.isMobile)()&&a===s.CFD_PLATFORMS.MT5})},o.createElement("a",{className:"cfd-dashboard__download-center-options--mobile-link",href:At(a,"android"),target:"_blank",rel:"noopener noreferrer"},o.createElement(u.Icon,{icon:"IcInstallationGoogle",width:135,height:40})),a===s.CFD_PLATFORMS.DXTRADE&&o.createElement("a",{className:"cfd-dashboard__download-center-options--mobile-link",href:At(a,"ios"),target:"_blank",rel:"noopener noreferrer"},o.createElement(u.Icon,{icon:"IcInstallationApple",width:120,height:40})),o.createElement("a",{className:"cfd-dashboard__download-center-options--mobile-link",href:At(a,"huawei"),target:"_blank",rel:"noopener noreferrer"},o.createElement(u.Icon,{icon:"IcInstallationHuawei",width:120,height:40}))))},Mt=function(e){var t=e.platform;return o.createElement(u.DesktopWrapper,null,o.createElement("div",{className:"cfd-dashboard__download-container-qrcode"},o.createElement(zt.s,{value:At(t,"android"),size:160}),o.createElement("span",{className:"cfd-dashboard__download-container-qrcode__hint"},(0,d.localize)("Scan the QR code to download the Deriv X Mobile App"))))};const Ct=function(e){var t=e.platform,a=e.is_dark_mode_on,n=e.active_index,r=e.dxtrade_tokens;return o.createElement(o.Fragment,null,o.createElement(u.MobileWrapper,null,o.createElement(u.Text,{className:"cfd-dashboard__download-container-mobile-hint",color:"general",size:"xxs",weight:"400",align:"center"},o.createElement(d.Localize,{i18n_default_text:"If you have the app, launch it to start trading."}))),o.createElement("div",{className:E()("cfd-dashboard__download-container",{"cfd-dashboard__download-container--is-mt5":t===s.CFD_PLATFORMS.MT5}),"data-testid":"dt_cfd_dashboard_download_center_container"},t===s.CFD_PLATFORMS.MT5&&o.createElement("h1",{className:"cfd-dashboard__download-container-heading"},(0,s.isDesktop)()?Dt(t):(0,d.localize)("Download the MT5 app")),o.createElement("div",{className:E()("cfd-dashboard__download-container-links",{"cfd-dashboard__download-container-links--is-mt5":t===s.CFD_PLATFORMS.MT5})},o.createElement(u.DesktopWrapper,null,o.createElement("div",{className:"cfd-dashboard__download-container-links--desktop"},t===s.CFD_PLATFORMS.DXTRADE&&o.createElement(kt,{active_index:n,dxtrade_tokens:r}),t===s.CFD_PLATFORMS.MT5&&o.createElement(Tt,null))),o.createElement("div",{className:"cfd-dashboard__download-container-links--mobile"},o.createElement(Pt,{is_dark_mode_on:a,platform:t}))),t===s.CFD_PLATFORMS.DXTRADE&&o.createElement(Mt,{platform:t})))};var Ft=a("mobx"),Nt=a("./src/_common/utility.js");function jt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const Lt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors={}}var t,a,n;return t=e,(a=[{key:"add",value:function(e,t){this.has(e)||(this.errors[e]=[]),-1===this.errors[e].indexOf(t)&&this.errors[e].push(t)}},{key:"all",value:function(){return this.errors}},{key:"first",value:function(e){return this.has(e)?this.errors[e][0]:null}},{key:"get",value:function(e){return this.has(e)?this.errors[e]:[]}},{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.errors,e)}}])&&jt(t.prototype,a),n&&jt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const Vt=function(){function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Rt(this,e),this.input=t,this.rules=a,this.store=n,this.errors=new Lt,this.error_count=0}var t,a,n;return t=e,n=[{key:"getRuleObject",value:function(e){var t="string"==typeof e,a={name:t?e:e[0],options:t?{}:e[1]||{}};return a.validator="custom"===a.name?e[1].func:(0,s.getPreBuildDVRs)()[a.name].func,a}}],(a=[{key:"addFailure",value:function(e,t,a){var n=a||t.options.message||(0,s.getPreBuildDVRs)()[t.name].message();"length"===t.name?n=(0,Nt.template)(n,[t.options.min===t.options.max?t.options.min:"".concat(t.options.min,"-").concat(t.options.max)]):"min"===t.name?n=(0,Nt.template)(n,[t.options.min]):"not_equal"===t.name&&(n=(0,Nt.template)(n,[t.options.name1,t.options.name2])),this.errors.add(e,n),this.error_count++}},{key:"check",value:function(){var t=this;return Object.keys(this.input).forEach((function(a){Object.prototype.hasOwnProperty.call(t.rules,a)&&t.rules[a].forEach((function(n){var r=e.getRuleObject(n);if((r.validator||"function"==typeof r.validator)&&(!r.options.condition||r.options.condition(t.store))&&(""!==t.input[a]||"req"===r.name)){var o,i;if("number"===r.name){var c=r.validator(t.input[a],r.options,t.store,t.input);o=c.is_ok,i=c.message}else o=r.validator(t.input[a],r.options,t.store,t.input);o||t.addFailure(a,r,i)}}))})),!this.error_count}},{key:"isPassed",value:function(){return this.check()}}])&&It(t.prototype,a),n&&It(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var Bt,Ut,Wt,Xt,qt,Jt,Gt,Yt,Ht,$t,Kt,Zt,Qt,ea,ta,aa,na,ra,oa,ia,ca,la;function sa(e,t,a,n,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void a(e)}c.done?t(l):Promise.resolve(l).then(n,r)}function ua(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){sa(o,n,r,i,c,"next",e)}function c(e){sa(o,n,r,i,c,"throw",e)}i(void 0)}))}}function da(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?da(Object(a),!0).forEach((function(t){pa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):da(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function pa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ma(e,t,a,n){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(n):void 0})}function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ga(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ha(e,t,a,n,r){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=a.slice().reverse().reduce((function(a,n){return n(e,t,a)||a}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var ba,va,ya,wa,Ea,xa,za,Sa,Da,Oa,Aa,ka,Ta,Pa,Ma,Ca,Fa,Na,ja,La,Ra,Ia,Va,Ba,Ua,Wa,Xa,qa,Ja,Ga,Ya,Ha,$a,Ka,Za,Qa,en,tn,an,nn,rn,on,cn,ln,sn,un,dn,_n,pn,mn,fn,gn,hn,bn,vn,yn,wn,En,xn,zn,Sn=(Bt=Ft.action.bound,Ut=Ft.action.bound,Wt=Ft.action.bound,Xt=Ft.action.bound,qt=Ft.action.bound,Jt=Ft.action.bound,Gt=Ft.action.bound,Yt=Ft.action.bound,Ht=Ft.action.bound,$t=Ft.action.bound,Kt=Ft.action.bound,Zt=Ft.action.bound,Qt=Ft.action.bound,ea=Ft.action.bound,ta=Ft.action.bound,aa=Ft.action.bound,la=ca=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fa(this,e),ma(this,"validation_errors",ra,this),ma(this,"validation_rules",oa,this),this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,ma(this,"partial_fetch_time",ia,this);var a=t.root_store,n=t.local_storage_properties,r=t.session_storage_properties,o=t.validation_rules,i=t.store_name;Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0});var c=n&&n.length||r&&r.length;if(c){if(!i)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:i,enumerable:!1,writable:!1})}this.root_store=a,this.local_storage_properties=n||[],this.session_storage_properties=r||[],this.setValidationRules(o),this.setupReactionForLocalStorage(),this.setupReactionForSessionStorage(),this.retrieveFromStorage()}var t,a,n;return t=e,a=[{key:"getSnapshot",value:function(e){var t=(0,Ft.toJS)(this);return(0,s.isEmptyObject)(this.root_store)||(t.root_store=this.root_store),e&&e.length&&(t=e.reduce((function(e,a){return Object.assign(e,pa({},a,t[a]))}),{})),t}},{key:"setupReactionForLocalStorage",value:function(){var t=this;this.local_storage_properties.length&&(0,Ft.reaction)((function(){return t.local_storage_properties.map((function(e){return t[e]}))}),(function(){return t.saveToStorage(t.local_storage_properties,e.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var t=this;this.session_storage_properties.length&&(0,Ft.reaction)((function(){return t.session_storage_properties.map((function(e){return t[e]}))}),(function(){return t.saveToStorage(t.session_storage_properties,e.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(t,a){var n=JSON.stringify(this.getSnapshot(t),(function(e,t){if(null!==t)return t}));a===e.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,n):a===e.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,n)}},{key:"retrieveFromStorage",value:function(){var e=this,t=JSON.parse(localStorage.getItem(this.store_name,{})),a=JSON.parse(sessionStorage.getItem(this.store_name,{})),n=_a(_a({},t),a);Object.keys(n).forEach((function(t){return e[t]=n[t]}))}},{key:"setValidationErrorMessages",value:function(e,t){var a=this;this.validation_errors[e]&&!a.validation_errors[e].filter((function(e){return!t.includes(e)})).concat(t.filter((function(t){return!a.validation_errors[e].includes(t)}))).length||(this.validation_errors[e]=t)}},{key:"setValidationRules",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach((function(a){e.addRule(a,t[a])}))}},{key:"addRule",value:function(e,t){var a=this;this.validation_rules[e]=t,(0,Ft.intercept)(this,e,(function(t){return a.validateProperty(e,t.newValue),t}))}},{key:"validateProperty",value:function(e,t){var a=this,n=this.validation_rules[e].trigger,r=pa({},e,void 0!==t?t:this[e]),o=pa({},e,this.validation_rules[e].rules||[]);n&&Object.hasOwnProperty.call(this,n)&&(r[n]=this[n],o[n]=this.validation_rules[n].rules||[]);var i=new Vt(r,o,this);i.isPassed(),Object.keys(r).forEach((function(e){a.setValidationErrorMessages(e,i.errors.get(e))}))}},{key:"validateAllProperties",value:function(){var e=this,t=Object.keys(this.validation_rules),a=Object.keys(this.validation_errors);t.forEach((function(t){e.validateProperty(t,e[t])})),a.forEach((function(a){t.includes(a)||delete e.validation_errors[a]}))}},{key:"onSwitchAccount",value:function(e){var t=this;e&&(this.switch_account_listener=e,this.switchAccountDisposer=(0,Ft.when)((function(){return t.root_store.client.switch_broadcast}),(function(){try{var e=t.switch_account_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Switching account listeners are required to return a promise.");e.then((function(){t.root_store.client.switchEndSignal(),t.onSwitchAccount(t.switch_account_listener)}))}catch(e){(0,s.isProduction)()||console.error(e)}})))}},{key:"onPreSwitchAccount",value:function(e){var t=this;e&&(this.pre_switch_account_listener=e,this.preSwitchAccountDisposer=(0,Ft.when)((function(){return t.root_store.client.pre_switch_broadcast}),(function(){try{var e=t.pre_switch_account_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Pre-switch account listeners are required to return a promise.");e.then((function(){t.root_store.client.setPreSwitchAccount(!1),t.onPreSwitchAccount(t.pre_switch_account_listener)}))}catch(e){(0,s.isProduction)()||console.error(e)}})))}},{key:"onLogout",value:function(e){var t=this;this.logoutDisposer=(0,Ft.when)((function(){return t.root_store.client.has_logged_out}),ua(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=t.logout_listener())||!a.then||"function"!=typeof a.then){e.next=6;break}a.then((function(){t.root_store.client.setLogout(!1),t.onLogout(t.logout_listener)})),e.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,s.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.logout_listener=e}},{key:"onClientInit",value:function(e){var t=this;this.clientInitDisposer=(0,Ft.when)((function(){return t.root_store.client.initialized_broadcast}),ua(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=t.client_init_listener())||!a.then||"function"!=typeof a.then){e.next=6;break}a.then((function(){t.root_store.client.setInitialized(!1),t.onClientInit(t.client_init_listener)})),e.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,s.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.client_init_listener=e}},{key:"onNetworkStatusChange",value:function(e){var t=this;this.networkStatusChangeDisposer=(0,Ft.reaction)((function(){return t.root_store.common.is_network_online}),(function(e){try{t.network_status_change_listener(e)}catch(e){(0,s.isProduction)()||console.error(e)}})),this.network_status_change_listener=e}},{key:"onThemeChange",value:function(e){var t=this;this.themeChangeDisposer=(0,Ft.reaction)((function(){return t.root_store.ui.is_dark_mode_on}),(function(e){try{t.theme_change_listener(e)}catch(e){(0,s.isProduction)()||console.error(e)}})),this.theme_change_listener=e}},{key:"onRealAccountSignupEnd",value:function(e){var t=this;this.realAccountSignupEndedDisposer=(0,Ft.when)((function(){return t.root_store.ui.has_real_account_signup_ended}),(function(){try{var e=t.real_account_signup_ended_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Real account signup listeners are required to return a promise.");e.then((function(){t.root_store.ui.setRealAccountSignupEnd(!1),t.onRealAccountSignupEnd(t.real_account_signup_ended_listener)}))}catch(e){(0,s.isProduction)()||console.error(e)}})),this.real_account_signup_ended_listener=e}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(e){if(this.root_store.client.loginid!==e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];a.forEach((function(e){return e()})),this.partial_fetch_time=!1}}}],a&&ga(t.prototype,a),n&&ga(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ca.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")}),ra=ha((na=la).prototype,"validation_errors",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),oa=ha(na.prototype,"validation_rules",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ia=ha(na.prototype,"partial_fetch_time",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ha(na.prototype,"retrieveFromStorage",[Ft.action],Object.getOwnPropertyDescriptor(na.prototype,"retrieveFromStorage"),na.prototype),ha(na.prototype,"setValidationErrorMessages",[Ft.action],Object.getOwnPropertyDescriptor(na.prototype,"setValidationErrorMessages"),na.prototype),ha(na.prototype,"setValidationRules",[Ft.action],Object.getOwnPropertyDescriptor(na.prototype,"setValidationRules"),na.prototype),ha(na.prototype,"addRule",[Ft.action],Object.getOwnPropertyDescriptor(na.prototype,"addRule"),na.prototype),ha(na.prototype,"validateProperty",[Ft.action],Object.getOwnPropertyDescriptor(na.prototype,"validateProperty"),na.prototype),ha(na.prototype,"validateAllProperties",[Ft.action],Object.getOwnPropertyDescriptor(na.prototype,"validateAllProperties"),na.prototype),ha(na.prototype,"onSwitchAccount",[Bt],Object.getOwnPropertyDescriptor(na.prototype,"onSwitchAccount"),na.prototype),ha(na.prototype,"onPreSwitchAccount",[Ut],Object.getOwnPropertyDescriptor(na.prototype,"onPreSwitchAccount"),na.prototype),ha(na.prototype,"onLogout",[Wt],Object.getOwnPropertyDescriptor(na.prototype,"onLogout"),na.prototype),ha(na.prototype,"onClientInit",[Xt],Object.getOwnPropertyDescriptor(na.prototype,"onClientInit"),na.prototype),ha(na.prototype,"onNetworkStatusChange",[qt],Object.getOwnPropertyDescriptor(na.prototype,"onNetworkStatusChange"),na.prototype),ha(na.prototype,"onThemeChange",[Jt],Object.getOwnPropertyDescriptor(na.prototype,"onThemeChange"),na.prototype),ha(na.prototype,"onRealAccountSignupEnd",[Gt],Object.getOwnPropertyDescriptor(na.prototype,"onRealAccountSignupEnd"),na.prototype),ha(na.prototype,"disposePreSwitchAccount",[Yt],Object.getOwnPropertyDescriptor(na.prototype,"disposePreSwitchAccount"),na.prototype),ha(na.prototype,"disposeSwitchAccount",[Ht],Object.getOwnPropertyDescriptor(na.prototype,"disposeSwitchAccount"),na.prototype),ha(na.prototype,"disposeLogout",[$t],Object.getOwnPropertyDescriptor(na.prototype,"disposeLogout"),na.prototype),ha(na.prototype,"disposeClientInit",[Kt],Object.getOwnPropertyDescriptor(na.prototype,"disposeClientInit"),na.prototype),ha(na.prototype,"disposeNetworkStatusChange",[Zt],Object.getOwnPropertyDescriptor(na.prototype,"disposeNetworkStatusChange"),na.prototype),ha(na.prototype,"disposeThemeChange",[Qt],Object.getOwnPropertyDescriptor(na.prototype,"disposeThemeChange"),na.prototype),ha(na.prototype,"disposeRealAccountSignupEnd",[ea],Object.getOwnPropertyDescriptor(na.prototype,"disposeRealAccountSignupEnd"),na.prototype),ha(na.prototype,"onUnmount",[ta],Object.getOwnPropertyDescriptor(na.prototype,"onUnmount"),na.prototype),ha(na.prototype,"assertHasValidCache",[aa],Object.getOwnPropertyDescriptor(na.prototype,"assertHasValidCache"),na.prototype),na),Dn=function(e){var t={account_type:"",leverage:500,short_title:(0,d.localize)("CFDs")},a={account_type:"",leverage:500,short_title:(0,d.localize)("Derived")},n={account_type:"financial",leverage:1e3,short_title:e?(0,d.localize)("CFDs"):(0,d.localize)("Financial")},r={account_type:"financial_stp",leverage:100,short_title:(0,d.localize)("Financial STP")};return{demo:{all:{mt5_account_type:t.account_type,leverage:t.leverage,title:(0,d.localize)("Demo"),short_title:t.short_title},synthetic:{mt5_account_type:a.account_type,leverage:a.leverage,title:(0,d.localize)("Demo Derived"),short_title:a.short_title},financial:{mt5_account_type:n.account_type,leverage:n.leverage,title:e?(0,d.localize)("Demo CFDs"):(0,d.localize)("Demo Financial"),short_title:n.short_title},synthetic_svg:{mt5_account_type:a.account_type,leverage:a.leverage,title:(0,d.localize)("Demo Derived SVG"),short_title:a.short_title},financial_svg:{mt5_account_type:n.account_type,leverage:n.leverage,title:e?(0,d.localize)("Demo CFDs"):(0,d.localize)("Demo Financial SVG"),short_title:n.short_title},financial_stp:{mt5_account_type:r.account_type,leverage:r.leverage,title:(0,d.localize)("Demo Financial STP"),short_title:r.short_title}},real:{synthetic:{mt5_account_type:a.account_type,leverage:a.leverage,title:(0,d.localize)("Derived"),short_title:a.short_title},synthetic_svg:{mt5_account_type:a.account_type,leverage:a.leverage,title:(0,d.localize)("Derived SVG"),short_title:a.short_title},synthetic_bvi:{mt5_account_type:a.account_type,leverage:a.leverage,title:(0,d.localize)("Derived BVI"),short_title:a.short_title},financial:{mt5_account_type:n.account_type,leverage:n.leverage,title:e?(0,d.localize)("CFDs"):(0,d.localize)("Financial"),short_title:n.short_title},financial_svg:{mt5_account_type:n.account_type,leverage:n.leverage,title:e?(0,d.localize)("CFDs"):(0,d.localize)("Financial SVG"),short_title:n.short_title},financial_bvi:{mt5_account_type:n.account_type,leverage:n.leverage,title:e?(0,d.localize)("CFDs"):(0,d.localize)("Financial BVI"),short_title:n.short_title},financial_fx:{mt5_account_type:n.account_type,leverage:n.leverage,title:e?(0,d.localize)("CFDs"):(0,d.localize)("Financial Labuan"),short_title:n.short_title},financial_v:{mt5_account_type:n.account_type,leverage:n.leverage,title:e?(0,d.localize)("CFDs"):(0,d.localize)("Financial Vanuatu"),short_title:n.short_title},financial_stp:{mt5_account_type:r.account_type,leverage:r.leverage,title:(0,d.localize)("Financial STP"),short_title:r.short_title}}}},On=function(e){var t="";switch(e){case"svg":t=(0,d.localize)("SVG");break;case"bvi":t=(0,d.localize)("BVI");break;case"labuan":t=(0,d.localize)("Labuan");break;case"vanuatu":t=(0,d.localize)("Vanuatu");break;default:t=null==e?void 0:e.toUpperCase()}return t};function An(e){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(e)}function kn(e,t,a,n,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void a(e)}c.done?t(l):Promise.resolve(l).then(n,r)}function Tn(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){kn(o,n,r,i,c,"next",e)}function c(e){kn(o,n,r,i,c,"throw",e)}i(void 0)}))}}function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Mn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Cn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(a),!0).forEach((function(t){Nn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Nn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jn(e,t,a,n){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(n):void 0})}function Ln(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rn(e,t){return Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rn(e,t)}function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Un(e);if(t){var r=Un(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Vn(this,a)}}function Vn(e,t){if(t&&("object"===An(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bn(e)}function Bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Un(e){return Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Un(e)}function Wn(e,t,a,n,r){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=a.slice().reverse().reduce((function(a,n){return n(e,t,a)||a}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Xn=(ba=Ft.action.bound,va=Ft.action.bound,ya=Ft.action.bound,wa=Ft.action.bound,Ea=Ft.action.bound,xa=Ft.action.bound,za=Ft.action.bound,Sa=Ft.action.bound,Da=Ft.action.bound,Oa=Ft.action.bound,Aa=Ft.action.bound,ka=Ft.action.bound,Ta=Ft.action.bound,Pa=Ft.action.bound,Ma=Ft.action.bound,Ca=Ft.action.bound,Fa=Ft.action.bound,Na=Ft.action.bound,ja=Ft.action.bound,La=Ft.action.bound,Ra=Ft.action.bound,Ia=Ft.action.bound,Va=Ft.action.bound,Ba=Ft.action.bound,Ua=Ft.action.bound,Wa=Ft.action.bound,Xa=Ft.action.bound,qa=Ft.action.bound,Ja=Ft.action.bound,Ga=Ft.action.bound,Ya=Ft.action.bound,Ha=Ft.action.bound,$a=Ft.action.bound,Ka=Ft.action.bound,Za=Ft.action.bound,Qa=Ft.action.bound,en=Ft.action.bound,tn=Ft.action.bound,an=Ft.action.bound,nn=Ft.action.bound,rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rn(e,t)}(m,e);var t,a,n,r,o,i,c,l,u,_,p=In(m);function m(e){var t,a=e.root_store;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),jn(t=p.call(this,{root_store:a}),"is_compare_accounts_visible",on,Bn(t)),jn(t,"is_cfd_personal_details_modal_visible",cn,Bn(t)),jn(t,"is_jurisdiction_modal_visible",ln,Bn(t)),jn(t,"is_mt5_trade_modal_visible",sn,Bn(t)),jn(t,"jurisdiction_selected_shortcode",un,Bn(t)),jn(t,"account_type",dn,Bn(t)),jn(t,"mt5_trade_account",_n,Bn(t)),jn(t,"new_account_response",pn,Bn(t)),jn(t,"map_type",mn,Bn(t)),jn(t,"has_cfd_error",fn,Bn(t)),jn(t,"error_message",gn,Bn(t)),jn(t,"is_cfd_success_dialog_enabled",hn,Bn(t)),jn(t,"is_mt5_financial_stp_modal_open",bn,Bn(t)),jn(t,"is_cfd_password_modal_enabled",vn,Bn(t)),jn(t,"is_cfd_reset_password_modal_enabled",yn,Bn(t)),jn(t,"current_account",wn,Bn(t)),jn(t,"error_type",En,Bn(t)),jn(t,"is_cfd_verification_modal_visible",xn,Bn(t)),jn(t,"dxtrade_tokens",zn,Bn(t)),t.real_synthetic_accounts_existing_data=[],t.real_financial_accounts_existing_data=[],(0,Ft.reaction)((function(){return[t.root_store.client.dxtrade_accounts_list]}),(function(){t.root_store.client.dxtrade_accounts_list.length>0&&t.loadDxtradeTokens()})),t}return t=m,a=[{key:"account_title",get:function(){return this.account_type.category?Dn(this.root_store.client.is_eu)[this.account_type.category][this.account_type.type].title:""}},{key:"current_list",get:function(){var e={};return this.root_store.client.mt5_login_list.forEach((function(t){e[(0,s.getAccountListKey)(t,s.CFD_PLATFORMS.MT5,t.landing_company_short)]=Fn({},t)})),this.root_store.client.dxtrade_accounts_list.forEach((function(t){e[(0,s.getAccountListKey)(t,s.CFD_PLATFORMS.DXTRADE)]=Fn({},t)})),e}},{key:"mt5_companies",get:function(){return Dn(this.root_store.client.is_eu)}},{key:"dxtrade_companies",get:function(){return e={account_type:"",leverage:500,short_title:(0,d.localize)("Derived")},t={account_type:"financial",leverage:1e3,short_title:(0,d.localize)("Financial")},{demo:{synthetic:{dxtrade_account_type:e.account_type,leverage:e.leverage,title:(0,d.localize)("Demo Derived"),short_title:e.short_title},financial:{dxtrade_account_type:t.account_type,leverage:t.leverage,title:(0,d.localize)("Demo Financial"),short_title:t.short_title}},real:{synthetic:{dxtrade_account_type:e.account_type,leverage:e.leverage,title:(0,d.localize)("Derived"),short_title:e.short_title},financial:{dxtrade_account_type:t.account_type,leverage:t.leverage,title:(0,d.localize)("Financial"),short_title:t.short_title}}};var e,t}},{key:"onMount",value:function(){this.checkShouldOpenAccount(),this.onRealAccountSignupEnd(this.realAccountSignupEndListener),this.root_store.ui.is_cfd_page=!0}},{key:"onUnmount",value:function(){this.disposeRealAccountSignupEnd(),this.root_store.ui.is_cfd_page=!1}},{key:"checkShouldOpenAccount",value:function(){var e=sessionStorage.getItem("open_cfd_account_type");if(e){var t=Pn(e.split("."),4),a=t[0],n=t[1],r=t[2],o=t[3];this.createCFDAccount({category:a,platform:n,type:r,set_password:o}),sessionStorage.removeItem("open_cfd_account_type")}}},{key:"realAccountSignupEndListener",value:function(){var e=JSON.parse(sessionStorage.getItem("post_real_account_signup"));return e&&e.category&&e.type&&(sessionStorage.removeItem("post_real_account_signup"),this.enableCFDPasswordModal()),Promise.resolve()}},{key:"resetFormErrors",value:function(){this.error_message="",this.error_type=void 0,this.has_cfd_error=!1}},{key:"clearCFDError",value:function(){this.resetFormErrors(),this.is_cfd_password_modal_enabled=!1}},{key:"createCFDAccount",value:function(e){var t=e.category,a=e.platform,n=e.type,r=e.set_password;this.clearCFDError(),this.setAccountType({category:t,type:n}),a===s.CFD_PLATFORMS.DXTRADE?"real"===t?this.realCFDSignup(r):this.demoCFDSignup():a===s.CFD_PLATFORMS.MT5&&("real"===t?this.toggleJurisdictionModal():(this.root_store.client.is_eu?this.setJurisdictionSelectedShortcode("maltainvest"):this.setJurisdictionSelectedShortcode("svg"),this.demoCFDSignup()))}},{key:"demoCFDSignup",value:function(){this.enableCFDPasswordModal()}},{key:"disableCFDPasswordModal",value:function(){this.is_cfd_password_modal_enabled=!1}},{key:"enableCFDPasswordModal",value:function(){this.is_cfd_password_modal_enabled=!0}},{key:"getName",value:function(){var e=(this.root_store.client.account_settings&&this.root_store.client.account_settings).first_name,t=this.mt5_companies[this.account_type.category][this.account_type.type].title;return e?[e,t].join(" "):t}},{key:"openMT5Account",value:function(e){var t=this.getName(),a=this.mt5_companies[this.account_type.category][this.account_type.type].leverage,n=(0,s.getAccountTypeFields)(this.account_type),r=this.root_store.client.account_settings,o=r.address_line_1,i=r.address_line_2,c=r.address_postcode,l=r.address_city,u=r.address_state,d=r.country_code,_=r.phone;return s.WS.mt5NewAccount(Fn(Fn(Fn({mainPassword:e.password,email:this.root_store.client.email_address,leverage:a,name:t,address:o||i,city:l,country:d,phone:_,state:u,zipCode:c},e.server?{server:e.server}:{}),this.jurisdiction_selected_shortcode?{company:this.jurisdiction_selected_shortcode}:{}),"labuan"!==this.jurisdiction_selected_shortcode?n:{account_type:"financial",mt5_account_type:"financial_stp"}))}},{key:"openCFDAccount",value:function(e){return s.WS.tradingPlatformNewAccount({password:e.password,platform:e.platform,account_type:this.account_type.category,market_type:this.account_type.type})}},{key:"beginRealSignupForMt5",value:function(){sessionStorage.setItem("post_real_account_signup",JSON.stringify(this.account_type)),this.root_store.ui.openRealAccountSignup()}},{key:"realCFDSignup",value:function(e){switch(this.account_type.type){case"financial":case"synthetic":this.enableCFDPasswordModal();break;case"financial_stp":this.root_store.client.fetchResidenceList(),this.root_store.client.fetchStatesList(),this.root_store.client.fetchAccountSettings(),e?this.enableCFDPasswordModal():this.enableMt5FinancialStpModal();break;default:throw new Error("Cannot determine mt5 account signup.")}}},{key:"enableMt5FinancialStpModal",value:function(){this.is_mt5_financial_stp_modal_open=!0}},{key:"setAccountType",value:function(e){this.account_type=e}},{key:"setCurrentAccount",value:function(e,t){this.current_account=Fn(Fn({},t),e)}},{key:"setMT5TradeAccount",value:function(e){this.mt5_trade_account=e}},{key:"setError",value:function(e,t){var a;this.has_cfd_error=e,this.error_message=t?t.message:"",this.error_type=null!==(a=null==t?void 0:t.code)&&void 0!==a?a:void 0}},{key:"setCFDNewAccount",value:function(e){this.new_account_response=e}},{key:"setCFDSuccessDialog",value:function(e){this.is_cfd_success_dialog_enabled=!!e}},{key:"storeProofOfAddress",value:function(e,t,a){var n=this,r=a.setStatus;return new Promise((function(a,o){r({msg:""}),n.setState({is_btn_loading:!0}),s.WS.setSettings(t).then((function(t){t.error?(r({msg:t.error.message}),o(t)):(n.root_store.fetchAccountSettings(),e.current.upload().then((function(e){e.warning?(r({msg:e.message}),o(e)):s.WS.authorized.storage.getAccountStatus().then((function(e){var t=e.error,n=e.get_account_status;t&&o(t);var r=n.authentication.identity,i=!(r&&"none"===r.status);a({identity:r,has_poi:i})}))})))}))}))}},{key:"getAccountStatus",value:(_=Tn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t===s.CFD_PLATFORMS.MT5&&this.root_store.client.is_mt5_password_not_set||t===s.CFD_PLATFORMS.DXTRADE&&this.root_store.client.is_dxtrade_password_not_set)){e.next=4;break}return e.next=4,s.WS.getAccountStatus();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"creatMT5Password",value:(u=Tn(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.WS.tradingPlatformPasswordChange({new_password:t.password,platform:s.CFD_PLATFORMS.MT5});case 2:if(!(n=e.sent).error){e.next=9;break}return this.setError(!0,n.error),a.resetForm({}),a.setSubmitting(!1),a.setStatus({success:!1}),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"submitMt5Password",value:(l=Tn(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.root_store.client.is_mt5_password_not_set){e.next=6;break}return e.next=3,this.creatMT5Password(t,a);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:return this.resetFormErrors(),e.next=9,this.openMT5Account(t);case 9:if((n=e.sent).error){e.next=30;break}return a.setStatus({success:!0}),a.setSubmitting(!1),this.setError(!1),this.setCFDSuccessDialog(!0),e.next=17,this.getAccountStatus(s.CFD_PLATFORMS.MT5);case 17:return e.next=19,s.WS.authorized.mt5LoginList();case 19:return r=e.sent,this.root_store.client.responseMt5LoginList(r),s.WS.transferBetweenAccounts(),e.t0=this.root_store.client,e.next=25,s.WS.tradingServers(s.CFD_PLATFORMS.MT5);case 25:e.t1=e.sent,e.t0.responseMT5TradingServers.call(e.t0,e.t1),this.setCFDNewAccount(n.mt5_new_account),e.next=36;break;case 30:return e.next=32,this.getAccountStatus(s.CFD_PLATFORMS.MT5);case 32:this.setError(!0,n.error),a.resetForm({}),a.setSubmitting(!1),a.setStatus({success:!1});case 36:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"createCFDPassword",value:(c=Tn(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.WS.tradingPlatformPasswordChange({new_password:t.password,platform:s.CFD_PLATFORMS.DXTRADE});case 2:if(!(n=e.sent).error){e.next=9;break}return this.setError(!0,n.error),a.resetForm({}),a.setSubmitting(!1),a.setStatus({success:!1}),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"submitCFDPassword",value:(i=Tn(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.root_store.client.is_dxtrade_password_not_set){e.next=6;break}return e.next=3,this.createCFDPassword(t,a);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.openCFDAccount(t);case 8:if((n=e.sent).error){e.next=24;break}return a.setStatus({success:!0}),a.setSubmitting(!1),this.setError(!1),this.setCFDSuccessDialog(!0),e.next=16,this.getAccountStatus(s.CFD_PLATFORMS.DXTRADE);case 16:return e.next=18,s.WS.tradingPlatformAccountsList(t.platform);case 18:r=e.sent,this.root_store.client.responseTradingPlatformAccountsList(r),s.WS.transferBetweenAccounts(),this.setCFDNewAccount(n.trading_platform_new_account),e.next=30;break;case 24:return e.next=26,this.getAccountStatus(s.CFD_PLATFORMS.DXTRADE);case 26:this.setError(!0,n.error),a.resetForm({}),a.setSubmitting(!1),a.setStatus({success:!1});case 30:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"toggleCompareAccountsModal",value:function(){this.is_compare_accounts_visible=!this.is_compare_accounts_visible}},{key:"getRealSyntheticAccountsExistingData",value:function(e){this.real_synthetic_accounts_existing_data=e}},{key:"getRealFinancialAccountsExistingData",value:function(e){this.real_financial_accounts_existing_data=e}},{key:"toggleJurisdictionModal",value:function(){this.is_jurisdiction_modal_visible=!this.is_jurisdiction_modal_visible}},{key:"toggleMT5TradeModal",value:function(){this.is_mt5_trade_modal_visible=!this.is_mt5_trade_modal_visible}},{key:"disableMt5FinancialStpModal",value:function(){this.is_mt5_financial_stp_modal_open=!1}},{key:"topUpVirtual",value:(o=Tn(regeneratorRuntime.mark((function e(t){var a,n,r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.root_store.ui.setTopUpInProgress(!0),e.t0=t,e.next=e.t0===s.CFD_PLATFORMS.DXTRADE?4:e.t0===s.CFD_PLATFORMS.MT5?8:12;break;case 4:return e.next=6,s.WS.authorized.send({trading_platform_deposit:1,platform:s.CFD_PLATFORMS.DXTRADE,to_account:this.current_account.account_id});case 6:return a=e.sent,e.abrupt("break",14);case 8:return e.next=10,s.WS.authorized.mt5Deposit({to_mt5:this.current_account.login});case 10:return a=e.sent,e.abrupt("break",14);case 12:return a.error="Invalid platform",e.abrupt("break",14);case 14:if(a.error){e.next=31;break}e.t1=t,e.next=e.t1===s.CFD_PLATFORMS.DXTRADE?18:e.t1===s.CFD_PLATFORMS.MT5?22:26;break;case 18:return e.next=20,s.WS.authorized.tradingPlatformAccountsList(s.CFD_PLATFORMS.DXTRADE).then(this.root_store.client.responseTradingPlatformAccountsList);case 20:return n=null===(r=this.root_store.client.dxtrade_accounts_list.find((function(e){return e.account_id===i.current_account.account_id})))||void 0===r?void 0:r.balance,e.abrupt("break",27);case 22:return e.next=24,s.WS.authorized.mt5LoginList().then(this.root_store.client.responseMt5LoginList);case 24:return n=null===(o=this.root_store.client.mt5_login_list.find((function(e){return e.login===i.current_account.login})))||void 0===o?void 0:o.balance,e.abrupt("break",27);case 26:return e.abrupt("break",27);case 27:(0,Ft.runInAction)((function(){i.root_store.ui.is_top_up_virtual_open=!1,i.current_account.balance=n})),setTimeout((function(){(0,Ft.runInAction)((function(){i.root_store.ui.is_top_up_virtual_success=!0}))}),250),e.next=32;break;case 31:console.error(a);case 32:this.root_store.ui.setTopUpInProgress(!1);case 33:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"sendVerifyEmail",value:function(){return s.WS.verifyEmail(this.root_store.client.email,"trading_platform_investor_password_reset")}},{key:"setCFDPasswordResetModal",value:function(e){this.is_cfd_reset_password_modal_enabled=!!e}},{key:"setDxtradeToken",value:function(e,t){if(!e.error){var a=e.service_token.dxtrade;this.dxtrade_tokens[t]=a.token}}},{key:"loadDxtradeTokens",value:function(){var e=this;["demo","real"].forEach((function(t){var a=e.root_store.client.dxtrade_accounts_list.some((function(e){return e.account_type===t}));!e.dxtrade_tokens[t]&&a&&s.WS.getServiceToken(s.CFD_PLATFORMS.DXTRADE,t).then((function(a){return e.setDxtradeToken(a,t)}))}))}},{key:"toggleCFDPersonalDetailsModal",value:function(){this.is_cfd_personal_details_modal_visible=!this.is_cfd_personal_details_modal_visible}},{key:"setJurisdictionSelectedShortcode",value:function(e){this.jurisdiction_selected_shortcode=e}},{key:"toggleCFDVerificationModal",value:function(){this.is_cfd_verification_modal_visible=!this.is_cfd_verification_modal_visible}}],n=[{key:"changePassword",value:(r=Tn(regeneratorRuntime.mark((function e(t){var a,n,r,o,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.login,o=t.old_password,i=t.new_password,"investor"!==t.password_type){e.next=7;break}return e.next=4,s.WS.authorized.tradingPlatformInvestorPasswordChange({account_id:r,old_password:o,new_password:i,platform:s.CFD_PLATFORMS.MT5});case 4:c=e.sent,e.next=10;break;case 7:return e.next=9,s.WS.authorized.tradingPlatformPasswordChange({account_id:r,old_password:o,new_password:i,platform:s.CFD_PLATFORMS.MT5});case 9:c=e.sent;case 10:return e.abrupt("return",null===(a=c)||void 0===a||null===(n=a.error)||void 0===n?void 0:n.message);case 11:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})}],a&&Ln(t.prototype,a),n&&Ln(t,n),Object.defineProperty(t,"prototype",{writable:!1}),m}(Sn),on=Wn(rn.prototype,"is_compare_accounts_visible",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cn=Wn(rn.prototype,"is_cfd_personal_details_modal_visible",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ln=Wn(rn.prototype,"is_jurisdiction_modal_visible",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sn=Wn(rn.prototype,"is_mt5_trade_modal_visible",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),un=Wn(rn.prototype,"jurisdiction_selected_shortcode",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),dn=Wn(rn.prototype,"account_type",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{category:void 0,type:void 0}}}),_n=Wn(rn.prototype,"mt5_trade_account",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),pn=Wn(rn.prototype,"new_account_response",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),mn=Wn(rn.prototype,"map_type",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),fn=Wn(rn.prototype,"has_cfd_error",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gn=Wn(rn.prototype,"error_message",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),hn=Wn(rn.prototype,"is_cfd_success_dialog_enabled",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bn=Wn(rn.prototype,"is_mt5_financial_stp_modal_open",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vn=Wn(rn.prototype,"is_cfd_password_modal_enabled",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yn=Wn(rn.prototype,"is_cfd_reset_password_modal_enabled",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wn=Wn(rn.prototype,"current_account",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),En=Wn(rn.prototype,"error_type",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),xn=Wn(rn.prototype,"is_cfd_verification_modal_visible",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zn=Wn(rn.prototype,"dxtrade_tokens",[Ft.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{demo:"",real:""}}}),Wn(rn.prototype,"account_title",[Ft.computed],Object.getOwnPropertyDescriptor(rn.prototype,"account_title"),rn.prototype),Wn(rn.prototype,"current_list",[Ft.computed],Object.getOwnPropertyDescriptor(rn.prototype,"current_list"),rn.prototype),Wn(rn.prototype,"onMount",[ba],Object.getOwnPropertyDescriptor(rn.prototype,"onMount"),rn.prototype),Wn(rn.prototype,"onUnmount",[va],Object.getOwnPropertyDescriptor(rn.prototype,"onUnmount"),rn.prototype),Wn(rn.prototype,"checkShouldOpenAccount",[ya],Object.getOwnPropertyDescriptor(rn.prototype,"checkShouldOpenAccount"),rn.prototype),Wn(rn.prototype,"realAccountSignupEndListener",[wa],Object.getOwnPropertyDescriptor(rn.prototype,"realAccountSignupEndListener"),rn.prototype),Wn(rn.prototype,"resetFormErrors",[Ea],Object.getOwnPropertyDescriptor(rn.prototype,"resetFormErrors"),rn.prototype),Wn(rn.prototype,"clearCFDError",[xa],Object.getOwnPropertyDescriptor(rn.prototype,"clearCFDError"),rn.prototype),Wn(rn.prototype,"createCFDAccount",[za],Object.getOwnPropertyDescriptor(rn.prototype,"createCFDAccount"),rn.prototype),Wn(rn.prototype,"disableCFDPasswordModal",[Sa],Object.getOwnPropertyDescriptor(rn.prototype,"disableCFDPasswordModal"),rn.prototype),Wn(rn.prototype,"enableCFDPasswordModal",[Da],Object.getOwnPropertyDescriptor(rn.prototype,"enableCFDPasswordModal"),rn.prototype),Wn(rn.prototype,"getName",[Oa],Object.getOwnPropertyDescriptor(rn.prototype,"getName"),rn.prototype),Wn(rn.prototype,"openMT5Account",[Aa],Object.getOwnPropertyDescriptor(rn.prototype,"openMT5Account"),rn.prototype),Wn(rn.prototype,"openCFDAccount",[ka],Object.getOwnPropertyDescriptor(rn.prototype,"openCFDAccount"),rn.prototype),Wn(rn.prototype,"beginRealSignupForMt5",[Ta],Object.getOwnPropertyDescriptor(rn.prototype,"beginRealSignupForMt5"),rn.prototype),Wn(rn.prototype,"enableMt5FinancialStpModal",[Pa],Object.getOwnPropertyDescriptor(rn.prototype,"enableMt5FinancialStpModal"),rn.prototype),Wn(rn.prototype,"setAccountType",[Ma],Object.getOwnPropertyDescriptor(rn.prototype,"setAccountType"),rn.prototype),Wn(rn.prototype,"setCurrentAccount",[Ca],Object.getOwnPropertyDescriptor(rn.prototype,"setCurrentAccount"),rn.prototype),Wn(rn.prototype,"setMT5TradeAccount",[Fa],Object.getOwnPropertyDescriptor(rn.prototype,"setMT5TradeAccount"),rn.prototype),Wn(rn.prototype,"setError",[Na],Object.getOwnPropertyDescriptor(rn.prototype,"setError"),rn.prototype),Wn(rn.prototype,"setCFDNewAccount",[ja],Object.getOwnPropertyDescriptor(rn.prototype,"setCFDNewAccount"),rn.prototype),Wn(rn.prototype,"setCFDSuccessDialog",[La],Object.getOwnPropertyDescriptor(rn.prototype,"setCFDSuccessDialog"),rn.prototype),Wn(rn.prototype,"storeProofOfAddress",[Ra],Object.getOwnPropertyDescriptor(rn.prototype,"storeProofOfAddress"),rn.prototype),Wn(rn.prototype,"getAccountStatus",[Ia],Object.getOwnPropertyDescriptor(rn.prototype,"getAccountStatus"),rn.prototype),Wn(rn.prototype,"creatMT5Password",[Va],Object.getOwnPropertyDescriptor(rn.prototype,"creatMT5Password"),rn.prototype),Wn(rn.prototype,"submitMt5Password",[Ba],Object.getOwnPropertyDescriptor(rn.prototype,"submitMt5Password"),rn.prototype),Wn(rn.prototype,"createCFDPassword",[Ua],Object.getOwnPropertyDescriptor(rn.prototype,"createCFDPassword"),rn.prototype),Wn(rn.prototype,"submitCFDPassword",[Wa],Object.getOwnPropertyDescriptor(rn.prototype,"submitCFDPassword"),rn.prototype),Wn(rn.prototype,"toggleCompareAccountsModal",[Xa],Object.getOwnPropertyDescriptor(rn.prototype,"toggleCompareAccountsModal"),rn.prototype),Wn(rn.prototype,"getRealSyntheticAccountsExistingData",[qa],Object.getOwnPropertyDescriptor(rn.prototype,"getRealSyntheticAccountsExistingData"),rn.prototype),Wn(rn.prototype,"getRealFinancialAccountsExistingData",[Ja],Object.getOwnPropertyDescriptor(rn.prototype,"getRealFinancialAccountsExistingData"),rn.prototype),Wn(rn.prototype,"toggleJurisdictionModal",[Ga],Object.getOwnPropertyDescriptor(rn.prototype,"toggleJurisdictionModal"),rn.prototype),Wn(rn.prototype,"toggleMT5TradeModal",[Ya],Object.getOwnPropertyDescriptor(rn.prototype,"toggleMT5TradeModal"),rn.prototype),Wn(rn.prototype,"disableMt5FinancialStpModal",[Ha],Object.getOwnPropertyDescriptor(rn.prototype,"disableMt5FinancialStpModal"),rn.prototype),Wn(rn.prototype,"topUpVirtual",[$a],Object.getOwnPropertyDescriptor(rn.prototype,"topUpVirtual"),rn.prototype),Wn(rn.prototype,"sendVerifyEmail",[Ka],Object.getOwnPropertyDescriptor(rn.prototype,"sendVerifyEmail"),rn.prototype),Wn(rn.prototype,"setCFDPasswordResetModal",[Za],Object.getOwnPropertyDescriptor(rn.prototype,"setCFDPasswordResetModal"),rn.prototype),Wn(rn.prototype,"setDxtradeToken",[Qa],Object.getOwnPropertyDescriptor(rn.prototype,"setDxtradeToken"),rn.prototype),Wn(rn.prototype,"loadDxtradeTokens",[en],Object.getOwnPropertyDescriptor(rn.prototype,"loadDxtradeTokens"),rn.prototype),Wn(rn.prototype,"toggleCFDPersonalDetailsModal",[tn],Object.getOwnPropertyDescriptor(rn.prototype,"toggleCFDPersonalDetailsModal"),rn.prototype),Wn(rn.prototype,"setJurisdictionSelectedShortcode",[an],Object.getOwnPropertyDescriptor(rn.prototype,"setJurisdictionSelectedShortcode"),rn.prototype),Wn(rn.prototype,"toggleCFDVerificationModal",[nn],Object.getOwnPropertyDescriptor(rn.prototype,"toggleCFDVerificationModal"),rn.prototype),rn);const qn=function(e){var t=e.confirm_label,a=e.className,n=e.platform,r=e.onConfirm,i=e.onCancel;return o.createElement(S.J9,{initialValues:{password:""},onSubmit:r},(function(e){var r,c,l,_=e.isSubmitting,p=e.handleSubmit;return o.createElement("form",{onSubmit:p,"data-testid":"dt_cfd_change_password_form"},o.createElement("div",{className:E()("cfd-change-password-confirmation__wrapper",(r={},c="".concat(a,"-wrapper"),l=a,c in r?Object.defineProperty(r,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[c]=l,r))},o.createElement("div",{className:E()("cfd-change-password-confirmation",a)},o.createElement(u.Icon,{className:"cfd-change-password__icon",icon:n===s.CFD_PLATFORMS.MT5?"IcMt5OnePassword":"IcDxtradeOnePassword",width:"122",height:"108"}),o.createElement(u.Text,{as:"p",align:"center",size:"s",weight:"bold"},o.createElement(d.Localize,{i18n_default_text:"Confirm to change your {{platform}} password",values:{platform:(0,s.getCFDPlatformLabel)(n)}})),o.createElement(u.Text,{className:"cfd-change-password-confirmation__description",as:"p",align:"center",color:"loss-danger",size:"xs"},o.createElement(d.Localize,{i18n_default_text:"This will change the password to all of your {{platform}} accounts.",values:{platform:(0,s.getCFDPlatformLabel)(n)}})),o.createElement(u.FormSubmitButton,{is_center:!0,label:t||(0,d.localize)("Create"),cancel_label:(0,d.localize)("Cancel"),is_loading:_,has_cancel:!0,onCancel:i}))))}))};var Jn=function(e){var t=e.platform,a=e.onConfirm;return o.createElement("div",{className:"cfd-change-password"},o.createElement(u.Icon,{className:"cfd-change-password__icon",icon:t===s.CFD_PLATFORMS.MT5?"IcMt5OnePassword":"IcDxtradeOnePassword",width:"122",height:"108"}),o.createElement(u.Text,{as:"p",align:"center",size:"s",weight:"bold"},o.createElement(d.Localize,{i18n_default_text:"{{platform}} password",values:{platform:(0,s.getCFDPlatformLabel)(t)}})),o.createElement(u.Text,{as:"p",align:"center",className:"cfd-change-password__description",size:"xs"},t===s.CFD_PLATFORMS.MT5?o.createElement(d.Localize,{i18n_default_text:"Use this password to log in to your Deriv MT5 accounts on the desktop, web, and mobile apps."}):o.createElement(d.Localize,{i18n_default_text:"Use this password to log in to your Deriv X accounts on the web and mobile apps."})),o.createElement(u.Button,{className:"dc-btn dc-btn--primary dc-btn__large dc-modal__container_cfd-reset-password-modal__button",onClick:a},o.createElement(u.Text,{size:"xs",weight:"bold",color:"colored-background"},o.createElement(d.Localize,{i18n_default_text:"Change password"}))))},Gn=function(e){var t=e.email,a=e.platform,n=e.account_group,r=o.useCallback((function(){var e=a===s.CFD_PLATFORMS.MT5?1:2;"real"===n?e=Number("".concat(e,"0")):"demo"===n&&(e=Number("".concat(e,"1")));var r=a===s.CFD_PLATFORMS.MT5?"trading_platform_mt5_password_reset":"trading_platform_dxtrade_password_reset";s.WS.verifyEmail(t,r,{url_parameters:{redirect_to:e}})}),[t,a,n]);return o.useEffect((function(){r()}),[r]),o.createElement(u.SendEmailTemplate,{title:(0,d.localize)("We've sent you an email"),subtitle:(0,d.localize)("Please click on the link in the email to change your {{platform}} password.",{platform:(0,s.getCFDPlatformLabel)(a)}),lbl_no_receive:(0,d.localize)("Didn't receive the email?"),txt_resend:(0,d.localize)("Resend email"),txt_resend_in:(0,d.localize)("Resend email in"),onClickSendEmail:r})};const Yn=function(e){var t=e.platform,a=e.email,n=e.account_group,r=o.useRef(),i=[{component:o.createElement(Jn,{platform:t,onConfirm:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.goNextStep()}})},{component:o.createElement(qn,{confirm_label:(0,d.localize)("Confirm"),platform:t,onConfirm:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.goNextStep()},onCancel:function(){var e;return null===(e=r.current)||void 0===e?void 0:e.goPrevStep()}})},{component:o.createElement(Gn,{platform:t,email:a,account_group:n})}];return o.createElement("div",{className:"cfd-trading-password"},o.createElement(u.MultiStep,{ref:r,steps:i}))};function Hn(){return Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Hn.apply(this,arguments)}var $n=function(e){var t=e.toggleModal,a=e.is_investor;return o.createElement("div",{className:"cfd-password-manager__success"},o.createElement(u.Icon,{icon:"IcPasswordUpdated",size:128}),o.createElement(u.Text,{as:"p",size:"xxs",align:"center"},a?o.createElement(d.Localize,{i18n_default_text:"Your investor password has been changed."}):o.createElement(d.Localize,{i18n_default_text:"Your password has been changed."})),o.createElement(u.Button,{onClick:t,className:"cfd-password-manager__success-btn",primary:!0,large:!0},o.createElement("p",{className:"dc-btn__text"},(0,d.localize)("OK"))))},Kn=function(e){var t=e.error_message_investor,a=e.is_submit_success_investor,n=e.multi_step_ref,r=e.onSubmit,i=e.setPasswordType,c=e.toggleModal,l=e.validatePassword;if(a)return o.createElement($n,{toggleModal:c,is_investor:!0});var _={old_password:"",new_password:"",password_type:"".concat("investor")};return o.createElement("div",{className:"cfd-password-manager__investor-wrapper"},o.createElement(u.Text,{as:"p",size:"xs",className:"cfd-password-manager--paragraph"},o.createElement(d.Localize,{i18n_default_text:"Use this password to grant viewing access to another user. While they may view your trading account, they will not be able to trade or take any other actions."})),o.createElement(u.Text,{as:"p",size:"xs",className:"cfd-password-manager--paragraph"},o.createElement(d.Localize,{i18n_default_text:"If this is the first time you try to create a password, or you have forgotten your password, please reset it."})),t&&o.createElement(u.Text,{as:"p",color:"loss-danger",size:"xs",className:"cfd-password-manager--error-message","data-testid":"dt_error_message_investor"},t),o.createElement(S.J9,{initialValues:_,validate:l,onSubmit:r},(function(e){var t=e.isSubmitting,a=e.errors,r=e.setFieldTouched,c=e.values,l=e.touched;return o.createElement(S.l0,{className:"cfd-password-manager__investor-form",noValidate:!0},o.createElement(S.gN,{name:"old_password"},(function(e){var t=e.field;return o.createElement(u.PasswordInput,Hn({},t,{autoComplete:"current-password",label:(0,d.localize)("Current investor password"),error:l.old_password&&a.old_password,required:!0}))})),o.createElement(S.gN,{name:"new_password"},(function(e){var t=e.field;return o.createElement(u.PasswordMeter,{input:t.value,has_error:!(!l.new_password||!a.new_password),custom_feedback_messages:(0,s.getErrorMessages)().password_warnings},(function(e){var n=e.has_warning;return o.createElement(u.PasswordInput,Hn({},t,{autoComplete:"new-password",label:(0,d.localize)("New investor password"),hint:!n&&(0,d.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters and numbers."),error:l.new_password&&a.new_password,onChange:function(e){r("new_password",!0,!0),t.onChange(e)},className:"cfd-password-manager__new-password",required:!0}))}))})),o.createElement("div",{className:"cfd-password-manager__actions"},o.createElement(u.Button,{className:"cfd-password-manager--button",is_disabled:t||!c.old_password||!c.new_password||Object.keys(a).length>0,is_loading:t,text:(0,d.localize)("Change investor password"),primary:!0,large:!0}),o.createElement(u.Button,{className:"cfd-password-manager--button",type:"button",onClick:function(){var e;i("investor"),null===(e=n.current)||void 0===e||e.goNextStep()},text:(0,d.localize)("Create or reset investor password"),tertiary:!0,large:!0})))})))};Kn.propTypes={error_message_investor:r().string,is_submit_success_investor:r().bool,multi_step_ref:r().object,onSubmit:r().func,setPasswordType:r().func,toggleModal:r().func,validatePassword:r().func};const Zn=Kn;function Qn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function er(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(a),!0).forEach((function(t){tr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function tr(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ar(e,t,a,n,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void a(e)}c.done?t(l):Promise.resolve(l).then(n,r)}function nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var or=function(e){var t=e.count_from,a=void 0===t?60:t,n=e.onTimeout,r=nr(o.useState(a),2),i=r[0],c=r[1];return o.useEffect((function(){var e;return 0!==i?e=setTimeout((function(){c(i-1)}),1e3):n(),function(){clearTimeout(e)}}),[i]),o.createElement("span",{className:"countdown"},i)},ir=function(e){var t=e.sendVerifyEmail,a=e.account_type,n=e.account_group,r=e.server,i=e.password_type,c=nr(o.useState(!1),2),l=c[0],s=c[1],_=nr(o.useState(!1),2),p=_[0],m=_[1];o.useEffect((function(){localStorage.setItem("cfd_reset_password_intent",[r,n,a].join(".")),localStorage.setItem("cfd_reset_password_type",i),t()}),[]);return o.createElement("div",{className:"cfd-verification-email-sent"},o.createElement(u.Icon,{icon:"IcEmailSent",size:128}),o.createElement("h2",{className:"cfd-verification-email-sent__title"},o.createElement(d.Localize,{i18n_default_text:"We've sent you an email"})),o.createElement(u.Text,{as:"p",size:"xs",align:"center"},o.createElement(d.Localize,{i18n_default_text:"Please click on the link in the email to reset your password."})),!l&&o.createElement(u.Button,{className:"cfd-verification-email-sent__resend-button",primary:!0,onClick:function(){s(!0)}},o.createElement(d.Localize,{i18n_default_text:"Didn't receive the email?"})),l&&o.createElement(o.Fragment,null,o.createElement(u.Text,{as:"p",size:"xs",align:"center",weight:"bold",className:"cfd-verification-email-sent__title--sub"},o.createElement(d.Localize,{i18n_default_text:"Didn't receive the email?"})),o.createElement(u.Text,{as:"p",size:"xs",align:"center"},o.createElement(d.Localize,{i18n_default_text:"Check your spam or junk folder. If it's not there, try resending the email."})),o.createElement(u.Button,{className:"cfd-verification-email-sent__resend-button",large:!0,primary:!0,disabled:p,onClick:function(){t(),m(!0)}},!p&&o.createElement(d.Localize,{i18n_default_text:"Resend email"}),p&&o.createElement(o.Fragment,null,o.createElement(d.Localize,{i18n_default_text:"Resend in <0 /> seconds",components:[o.createElement(or,{key:0,onTimeout:function(){return m(!1)},count_from:60})]})))))},cr=function(e){var t=e.multi_step_ref,a=e.steps;return o.createElement(u.MultiStep,{ref:t,steps:a,className:"cfd-password-manager",lbl_previous:(0,d.localize)("Back")})},lr=function(e){var t=e.toggleModal,a=e.selected_login,n=e.email,r=e.setPasswordType,i=e.multi_step_ref,c=e.platform,l=e.onChangeActiveTabIndex,_=e.account_group,p=nr(o.useState(0),2),m=p[0],f=p[1],g=nr(o.useState(""),2),h=g[0],b=g[1],v=nr(o.useState(!1),2),y=v[0],w=v[1],E="calc(100vh - 84px - 5.6rem - 8.8rem - 4rem)",x=function(e){var t={};return(0,s.validLength)(e.new_password,{min:8,max:25})?(0,s.validPassword)(e.new_password)?e.new_password.toLowerCase()===n.toLowerCase()&&(t.new_password=(0,d.localize)("Your password cannot be the same as your email address.")):t.new_password=(0,s.getErrorMessages)().password():t.new_password=(0,d.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),e.old_password||void 0===e.old_password||(t.old_password=(0,d.localize)("This field is required")),t},z=o.useCallback(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Xn.changePassword(er({login:a},t));case 4:(n=e.sent)?b(n):(b(""),w(!0));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function i(e){ar(o,n,r,i,c,"next",e)}function c(e){ar(o,n,r,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[a]),S=o.createElement(o.Fragment,null,o.createElement(u.DesktopWrapper,null,o.createElement(u.ThemedScrollbars,{height:E,is_bypassed:(0,s.isMobile)(),autohide:!1},o.createElement(Yn,{toggleModal:t,platform:c,email:n,account_group:_}))),o.createElement(u.MobileWrapper,null,o.createElement(u.Div100vhContainer,{className:"cfd-password-manager__scroll-wrapper",height_offset:"120px"},o.createElement(Yn,{toggleModal:t,platform:c,email:n,account_group:_}))));return c===s.CFD_PLATFORMS.DXTRADE?S:o.createElement(u.Tabs,{active_index:m,onTabItemClick:function(e){f(e),l(e),b(""),w(!1)},top:!0},o.createElement("div",{label:(0,d.localize)("{{platform}} password",{platform:(0,s.getCFDPlatformLabel)(c)})},S),o.createElement("div",{label:(0,d.localize)("Investor password")},o.createElement(u.DesktopWrapper,null,o.createElement(u.ThemedScrollbars,{height:E},o.createElement(Zn,{is_submit_success_investor:y,toggleModal:t,error_message_investor:h,validatePassword:x,onSubmit:z,setPasswordType:r,multi_step_ref:i}))),o.createElement(u.MobileWrapper,null,o.createElement(u.Div100vhContainer,{className:"cfd-password-manager__scroll-wrapper",height_offset:"120px"},o.createElement(Zn,{is_submit_success_investor:y,toggleModal:t,error_message_investor:h,validatePassword:x,onSubmit:z,setPasswordType:r,multi_step_ref:i})))))},sr=function(e){var t=e.enableApp,a=e.email,n=e.disableApp,r=e.is_visible,i=e.platform,c=(e.is_eu,e.selected_login),l=(e.selected_account,e.toggleModal),_=e.selected_account_type,p=e.selected_account_group,m=e.selected_server,f=e.sendVerifyEmail,g=o.useRef(),h=nr(o.useState(0),2),b=h[0],v=h[1],y=nr(o.useState("main"),2),w=y[0],E=y[1];if(!c)return null;var x,z=[{component:o.createElement(lr,{email:a,selected_login:c,toggleModal:l,setPasswordType:E,multi_step_ref:g,platform:i,onChangeActiveTabIndex:function(e){v(e)},account_group:p})},{component:o.createElement(ir,{server:m,sendVerifyEmail:f,account_type:_,account_group:p,password_type:w})}];return o.createElement(o.Suspense,{fallback:o.createElement(u.UILoader,null)},o.createElement(u.DesktopWrapper,null,o.createElement(u.Modal,{className:"cfd-password-manager__modal",disableApp:n,enableApp:t,is_open:r,title:(0,d.localize)("Manage {{platform}} password",{platform:(0,s.getCFDPlatformLabel)(i)}),toggleModal:l,height:"688px",width:"904px",should_header_stick_body:!1},o.createElement(cr,{steps:z,multi_step_ref:g}))),o.createElement(u.MobileWrapper,null,o.createElement(u.PageOverlay,{is_open:r,portal_id:"deriv_app",header:(x=b,0===x?(0,d.localize)("Manage {{platform}} password",{platform:(0,s.getCFDPlatformLabel)(i)}):(0,d.localize)("Manage password")),onClickClose:l},o.createElement(cr,{steps:z,multi_step_ref:g}))))};sr.propTypes={disableApp:r().func,enableApp:r().func,email:r().string,is_visible:r().bool,selected_account:r().string,selected_account_type:r().string,selected_account_group:r().string,selected_server:r().string,selected_login:r().string,sendVerifyEmail:r().func,toggleModal:r().func,platform:r().string};const ur=v((function(e){var t=e.modules.cfd,a=e.client,n=e.ui;return{email:a.email,enableApp:n.enableApp,disableApp:n.disableApp,is_eu:a.is_eu,sendVerifyEmail:t.sendVerifyEmail}}))(sr);var dr=a("@deriv/account/dist/account/js/sent-email-modal"),_r=a.n(dr);function pr(){return pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},pr.apply(this,arguments)}var mr=function(e){var t=e.className;return o.createElement(u.Icon,{className:t,icon:"IcCheckmarkCircle",custom_color:"var(--status-success)",size:24})},fr=function(e){var t=e.classNameMessage,a=void 0===t?"":t,n=e.has_cancel,r=e.has_submit,i=e.icon,c=e.message,l=e.onCancel,s=e.onSubmit,_=e.heading,p=e.icon_size,m=e.text_submit,f=e.text_cancel,g=e.is_open,h=e.toggleModal,b=e.title,v=e.has_close_icon,y=e.width,w=void 0===y?"":y,x=e.is_medium_button;return o.createElement(u.Modal,{className:"cfd-success-dialog",is_open:g,toggleModal:h,has_close_icon:v,small:!b,title:b,width:w},o.createElement(u.Modal.Body,null,o.createElement("div",{className:E()("success-change__icon-area",{"success-change__icon-area--large":"large"===p,"success-change__icon-area--xlarge":"xlarge"===p})},i,o.createElement(mr,{className:"bottom-right-overlay"})),!_&&o.createElement(u.Text,{as:"h2",weight:"bold",size:"s",className:"dc-modal-header__title"},o.createElement(d.Localize,{i18n_default_text:"Success!"})),_&&_,o.isValidElement(c)&&c,!o.isValidElement(c)&&o.createElement("p",{className:a},c)),o.createElement(u.Modal.Footer,null,n&&o.createElement(u.Button,pr({onClick:l,has_effect:!0,text:f||(0,d.localize)("Maybe later"),secondary:!0},x?{medium:!0}:{large:!0})),r&&o.createElement(u.Button,pr({has_effect:!0,onClick:s,text:m,primary:!0},x?{medium:!0}:{large:!0}))))};fr.defaultProps={icon_size:"large",has_cancel:!1,has_submit:!0},fr.propTypes={classNameMessage:r().string,has_cancel:r().bool,has_close_icon:r().bool,has_submit:r().bool,heading:r().oneOfType([r().string,r().object]),icon:r().object,icon_size:r().string,icon_type:r().string,is_medium_button:r().bool,is_open:r().bool,message:r().oneOfType([r().string,r().object]),onCancel:r().func,onSubmit:r().func,text_cancel:r().string,text_submit:r().string,title:r().string,toggleModal:r().func,width:r().string};const gr=fr;function hr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function br(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return yr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var wr=function(e){var t=e.should_set_trading_password,a=e.is_password_reset_error,n=e.platform,r=(0,s.isMobile)()?"p":"span",i=(0,s.isMobile)()?{padding:"2rem"}:{};return o.createElement(u.Text,{styles:i,as:r,line_height:"m",weight:"bold",size:"s",align:"center"},!t&&!a&&o.createElement(d.Localize,{i18n_default_text:"Enter your {{platform}} password",values:{platform:(0,s.getCFDPlatformLabel)(n)}}),a&&o.createElement(d.Localize,{i18n_default_text:"Too many attempts"}))},Er=function(e,t,a,n,r,i){if(!i&&!r)return"";var c="real"===i?(0,d.localize)("real"):(0,d.localize)("demo"),l=Dn(t)[i][r].short_title,u=On(n);return"real"===i?a?(0,d.localize)("We need proof of your identity and address before you can start trading."):o.createElement(d.Localize,{i18n_default_text:"Congratulations, you have successfully created your {{category}} {{platform}} <0>{{type}} {{jurisdiction_selected_shortcode}}</0> account. To start trading, transfer funds from your Deriv account into this account.",values:{type:"dxtrade"===e&&"Derived"===l?"Synthetic":l,platform:(0,s.getCFDPlatformLabel)(e),category:c,jurisdiction_selected_shortcode:u},components:[o.createElement("strong",{className:"cfd-account__platform",key:0})]}):o.createElement(d.Localize,{i18n_default_text:"Congratulations, you have successfully created your {{category}} {{platform}} <0>{{type}}</0> account.",values:{type:l,platform:(0,s.getCFDPlatformLabel)(e),category:c},components:[o.createElement("strong",{className:"cfd-account__platform",key:0})]})},xr=o.memo((function(e){var t=e.platform,a=e.type,n=e.is_eu;if(t===s.CFD_PLATFORMS.DXTRADE)switch(a){case"synthetic":return o.createElement(u.Icon,{icon:"IcDxtradeSyntheticPlatform",size:128});case"financial":return o.createElement(u.Icon,{icon:"IcDxtradeFinancialPlatform",size:128});default:return o.createElement(u.Icon,{icon:"IcDxtradeDerivxPlatform",size:128})}switch(a){case"synthetic":return o.createElement(u.Icon,{icon:"IcMt5SyntheticPlatform",size:128});case"financial":return n?o.createElement(u.Icon,{icon:"IcMt5CfdPlatform",size:128}):o.createElement(u.Icon,{icon:"IcMt5FinancialPlatform",size:128});default:return o.createElement(u.Icon,{icon:"IcMt5FinancialStpPlatform",size:128})}}));xr.displayName="IconType";var zr=function(e,t,a,n){t(e),a().then((function(){n("password",!0)}))},Sr=function(e){var t=e.password,a=e.platform,n=e.validatePassword,r=e.onSubmit,i=e.error_message,c=e.is_real_financial_stp;return o.createElement(S.J9,{initialValues:{password:t},enableReinitialize:!0,validate:n,onSubmit:r},(function(e){var t=e.errors,n=e.isSubmitting,r=e.handleBlur,l=e.handleChange,_=e.handleSubmit,p=e.setFieldTouched,m=e.touched,f=e.values,g=e.validateForm;return o.createElement("form",{onSubmit:_},o.createElement("div",{className:"cfd-password-modal__content dc-modal__container_cfd-password-modal__body cfd-password-modal__create-password-content","data-testid":"dt_create_password"},o.createElement(u.Icon,{icon:a===s.CFD_PLATFORMS.MT5?"IcMt5OnePassword":"IcDxtradeOnePassword",width:"122",height:"108"}),o.createElement(u.Text,{size:"s",weight:"bold",className:"cfd-password-modal__create-password-title"},o.createElement(d.Localize,{i18n_default_text:"Create a {{platform}} password",values:{platform:(0,s.getCFDPlatformLabel)(a)}})),o.createElement(u.Text,{size:"xs",align:"center",className:"cfd-password-modal__create-password-description"},o.createElement(d.Localize,{i18n_default_text:"You can use this password for all your {{platform}} accounts.",values:{platform:(0,s.getCFDPlatformLabel)(a)}})),o.createElement("div",{className:"input-element"},o.createElement(u.PasswordMeter,{input:f.password,has_error:!(!m.password||!t.password),custom_feedback_messages:(0,s.getErrorMessages)().password_warnings},(function(){return o.createElement(u.PasswordInput,{autoComplete:"new-password",label:(0,d.localize)("{{platform}} password",{platform:(0,s.getCFDPlatformLabel)(a)}),error:m.password&&t.password||(0===f.password.length?i:""),name:"password",value:f.password,onBlur:r,onChange:function(e){zr(e,l,g,p)},data_testId:"dt_".concat(a,"_password")})}))),c&&o.createElement("div",{className:"dc-modal__container_cfd-password-modal__description"},o.createElement(d.Localize,{i18n_default_text:"Your MT5 Financial STP account will be opened through Deriv (FX) Ltd. All trading in this account is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA). None of your other accounts, including your Deriv account, is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA)."})),o.createElement(u.FormSubmitButton,{is_disabled:!f.password||Object.keys(t).length>0,is_loading:n,label:(0,d.localize)("Create {{platform}} password",{platform:(0,s.getCFDPlatformLabel)(a)}),is_center:!0})))}))},Dr=function(e){var t=e.has_mt5_account,a=e.platform,n=e.error_message,r=e.validatePassword,i=e.submitPassword,c=e.is_real_financial_stp,l=o.useRef(),d=vr(o.useState(""),2),_=d[0],p=d[1],m=[{component:o.createElement(Sr,{password:_,platform:a,error_message:n,validatePassword:r,onSubmit:function(e,n){var r;a===s.CFD_PLATFORMS.MT5&&t?(p(e.password),null===(r=l.current)||void 0===r||r.goNextStep()):i(e,n)},is_real_financial_stp:c})},{component:o.createElement(qn,{className:"cfd-password-modal__change-password-confirmation",platform:a,onConfirm:function(e,t){return i({password:_},t)},onCancel:function(){var e;return null===(e=l.current)||void 0===e?void 0:e.goPrevStep()}})}];return o.createElement(u.MultiStep,{ref:l,steps:m})},Or=function(e){var t,a,n,r=o.useMemo((function(){return"PasswordReset"===e.error_type?(0,d.localize)("Try later"):(0,d.localize)("Add account")}),[e.error_type]),i=!(0,s.isDesktop)()||!e.should_set_trading_password||"PasswordReset"===e.error_type,c=(a=(t=e).should_set_trading_password,n=t.error_type,a&&"PasswordReset"!==n?(0,s.isDesktop)()?null:(0,d.localize)("Cancel"):(0,d.localize)("Forgot password?")),l=function(){if(i)return e.should_set_trading_password?e.onCancel():e.onForgotPassword()};return"PasswordReset"===e.error_type?o.createElement(o.Fragment,null,o.createElement("div",{className:"cfd-password-reset"},o.createElement("div",{className:"cfd-password-modal__content cfd-password-modal__content--password-reset"},o.createElement(u.Text,{as:"p",line_height:"24",size:"xs"},o.createElement(d.Localize,{i18n_default_text:"Please try again in a minute."}))),o.createElement(S.J9,{onSubmit:e.closeModal,initialValues:{}},(function(e){var t=e.handleSubmit;return o.createElement("form",{onSubmit:t},o.createElement(u.FormSubmitButton,{has_cancel:i,cancel_label:c,onCancel:l,is_absolute:(0,s.isMobile)(),label:r}))})))):e.should_set_trading_password?o.createElement(Dr,{platform:e.platform,error_message:e.error_message,validatePassword:e.validatePassword,submitPassword:e.submitPassword,has_mt5_account:e.has_mt5_account,is_real_financial_stp:e.is_real_financial_stp}):o.createElement(S.J9,{initialValues:{password:""},enableReinitialize:!0,validate:e.validatePassword,onSubmit:e.submitPassword},(function(t){var a=t.errors,n=t.isSubmitting,_=t.handleBlur,p=t.handleChange,m=t.handleSubmit,f=t.setFieldTouched,g=t.touched,h=t.values,b=t.validateForm;return o.createElement("form",{onSubmit:m},o.createElement("div",{className:"cfd-password-modal__content dc-modal__container_cfd-password-modal__body"},!e.should_set_trading_password&&o.createElement(u.Text,{size:"xs",className:"dc-modal__container_cfd-password-modal__account-title"},"real"===e.account_type.category&&o.createElement(d.Localize,{i18n_default_text:"Enter your {{platform}} password to add a {{platform}} {{account}} {{jurisdiction_shortcode}} account.",values:{platform:(0,s.getCFDPlatformLabel)(e.platform),account:e.account_title,jurisdiction_shortcode:On(e.jurisdiction_selected_shortcode)}}),"demo"===e.account_type.category&&o.createElement(d.Localize,{i18n_default_text:"Enter your {{platform}} password to add a {{platform}} {{account}} account.",values:{platform:(0,s.getCFDPlatformLabel)(e.platform),account:e.account_title}})),o.createElement("div",{className:"input-element"},o.createElement(u.PasswordInput,{autoComplete:"new-password",label:(0,d.localize)("{{platform}} password",{platform:(0,s.getCFDPlatformLabel)(e.platform)}),error:g.password&&a.password||(0===h.password.length?e.error_message:""),name:"password",value:h.password,onBlur:_,onChange:function(e){zr(e,p,b,f)},data_testId:"dt_".concat(e.platform,"_password")})),e.is_real_financial_stp&&o.createElement("div",{className:"dc-modal__container_cfd-password-modal__description"},o.createElement(d.Localize,{i18n_default_text:"Your MT5 Financial STP account will be opened through {{legal_entity_name}}. All trading in this account is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA). None of your other accounts, including your Deriv account, is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA).",values:{legal_entity_name:(0,s.getLegalEntityName)("fx")}})),"PasswordError"===e.error_type&&o.createElement(u.Text,{size:"xs",as:"p",className:"dc-modal__container_mt5-password-modal__hint"},o.createElement(d.Localize,{i18n_default_text:"Hint: You may have entered your Deriv password, which is different from your {{platform}} password.",values:{platform:(0,s.getCFDPlatformLabel)(e.platform)}}))),o.createElement(u.FormSubmitButton,{is_disabled:!h.password,has_cancel:i,cancel_label:c,onCancel:l,is_absolute:(0,s.isMobile)(),is_loading:n,label:r,is_center:e.should_set_trading_password,form_error:e.form_error}))}))};const Ar=v((function(e){var t=e.client,a=e.modules;return{email:t.email,account_title:a.cfd.account_title,account_type:a.cfd.account_type,account_status:t.account_status,disableCFDPasswordModal:a.cfd.disableCFDPasswordModal,error_message:a.cfd.error_message,error_type:a.cfd.error_type,getAccountStatus:a.cfd.getAccountStatus,has_cfd_error:a.cfd.has_cfd_error,landing_companies:t.landing_companies,is_eu:t.is_eu,is_eu_country:t.is_eu_country,is_logged_in:t.is_logged_in,is_cfd_success_dialog_enabled:a.cfd.is_cfd_success_dialog_enabled,is_cfd_password_modal_enabled:a.cfd.is_cfd_password_modal_enabled,is_dxtrade_allowed:t.is_dxtrade_allowed,jurisdiction_selected_shortcode:a.cfd.jurisdiction_selected_shortcode,setMt5Error:a.cfd.setError,setCFDSuccessDialog:a.cfd.setCFDSuccessDialog,submitMt5Password:a.cfd.submitMt5Password,submitCFDPassword:a.cfd.submitCFDPassword,cfd_new_account:a.cfd.new_account_response,mt5_trading_servers:t.mt5_trading_servers,mt5_login_list:t.mt5_login_list,is_fully_authenticated:t.is_fully_authenticated}}))((0,c.withRouter)((function(e){var t,a,n=e.account_title,r=e.account_type,i=e.account_status,c=e.disableCFDPasswordModal,l=e.email,_=e.error_message,p=e.error_type,m=e.form_error,f=e.getAccountStatus,g=e.history,h=e.is_eu,b=e.is_fully_authenticated,v=e.is_cfd_password_modal_enabled,y=e.is_cfd_success_dialog_enabled,w=e.is_dxtrade_allowed,E=e.jurisdiction_selected_shortcode,x=e.platform,z=e.has_cfd_error,S=e.landing_companies,D=e.mt5_login_list,O=e.cfd_new_account,A=e.setCFDSuccessDialog,k=e.setMt5Error,T=e.submitMt5Password,P=e.submitCFDPassword,M=vr(o.useState(!0),2),C=M[0],F=M[1],N="bvi"===(null==S||null===(t=S.mt_financial_company)||void 0===t||null===(a=t.financial_stp)||void 0===a?void 0:a.shortcode),j=Boolean(null==D?void 0:D.length),L=Array.isArray(null==i?void 0:i.status)&&i.status.includes(x===s.CFD_PLATFORMS.MT5?"mt5_password_not_set":"dxtrade_password_not_set"),R="PasswordError"===p,I="PasswordReset"===p,V=vr(o.useState(!1),2),B=V[0],U=V[1],W=function(){A(!1),k(!1)},X=function(){W(),c()},q=function(){X();var e=x===s.CFD_PLATFORMS.MT5?1:2;"real"===r.category?e=Number("".concat(e,"0")):"demo"===r.category&&(e=Number("".concat(e,"1")));var t=x===s.CFD_PLATFORMS.MT5?"trading_platform_mt5_password_reset":"trading_platform_dxtrade_password_reset";s.WS.verifyEmail(l,t,{url_parameters:{redirect_to:e}}),U(!0)},J=v&&!y&&(!z||R||I),G=!z&&y&&v&&C,Y=B&&C,H="real_financial_stp"===[r.category,r.type].join("_"),$=o.useMemo((function(){return!!J&&(!!L||(0,s.isDesktop)())}),[L,J]),K=o.useMemo((function(){return!(!J||L)&&(0,s.isMobile)()}),[L,J]),Z=h&&!b,Q=o.useMemo((function(){return"real"===r.category?Z?(0,d.localize)("Submit proof"):(0,d.localize)("Transfer now"):(0,d.localize)("Continue")}),[r,Z]),ee=o.createElement(Or,{is_bvi:N,account_title:n,account_type:r,closeModal:X,error_type:p,error_message:_,has_mt5_account:j,form_error:m,jurisdiction_selected_shortcode:E,should_set_trading_password:L,is_real_financial_stp:H,validatePassword:function(e){var t,a={};return(0,s.validLength)(e.password,{min:8,max:25})?(0,s.validPassword)(e.password)||(a.password=(0,s.getErrorMessages)().password()):a.password=(0,d.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),(null===(t=e.password)||void 0===t?void 0:t.toLowerCase())===l.toLowerCase()&&(a.password=(0,d.localize)("Your password cannot be the same as your email address.")),a},onForgotPassword:q,submitPassword:function(e,t){x===s.CFD_PLATFORMS.MT5?T(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(a),!0).forEach((function(t){br(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e),t):(e.platform=x,P(e,t))},platform:x,is_dxtrade_allowed:w,onCancel:X}),te=o.createElement(u.Modal,{className:"cfd-password-modal",has_close_icon:!0,is_open:$,toggleModal:X,should_header_stick_body:!0,renderTitle:function(){return o.createElement(wr,{should_set_trading_password:L,is_password_reset_error:I,platform:x})},onUnmount:function(){return f(x)},onExited:function(){return F(!0)},onEntered:function(){return F(!1)},width:(0,s.isMobile)()?"32.8rem":"auto"},ee),ae=o.createElement(u.MobileDialog,{has_full_height:!0,portal_element_id:"modal_root",visible:K,onClose:X,wrapper_classname:"cfd-password-modal"},o.createElement(wr,{should_set_trading_password:L,has_mt5_account:j,is_password_reset_error:I,platform:x}),ee),ne=Z?o.createElement(u.Text,{as:"h2",weight:"bold",size:"s",className:"dc-modal-header__title"},(0,d.localize)("Your account is ready")):"";return o.createElement(o.Fragment,null,te,ae,o.createElement(gr,{is_open:G,toggleModal:X,onCancel:X,onSubmit:function(){c(),W(),"real"===r.category&&(Z?g.push(s.routes.proof_of_identity):(sessionStorage.setItem("cfd_transfer_to_login_id",O.login||""),g.push(s.routes.cashier_acc_transfer)))},classNameMessage:"cfd-password-modal__message",heading:ne,message:Er(x,h,Z,E,r.type,r.category),icon:o.createElement(xr,{platform:x,type:r.type,is_eu:h}),icon_size:"xlarge",text_submit:Q,has_cancel:"real"===r.category,has_close_icon:!1,width:(0,s.isMobile)()?"32.8rem":"auto",is_medium_button:(0,s.isMobile)()}),o.createElement(_r(),{is_open:Y,identifier_title:"trading_password",onClose:function(){return U(!1)},onClickSendEmail:q}))})));const kr=v((function(e){var t=e.ui,a=e.modules;return{clearCFDError:a.cfd.clearCFDError,disableApp:t.disableApp,enableApp:t.enableApp,error_message:a.cfd.error_message,error_type:a.cfd.error_type,has_cfd_error:a.cfd.has_cfd_error,is_cfd_success_dialog_enabled:a.cfd.is_cfd_success_dialog_enabled}}))((function(e){var t=e.clearCFDError,a=e.disableApp,n=e.enableApp,r=e.error_message,i=e.error_type,c=e.has_cfd_error,l=e.is_cfd_success_dialog_enabled,s=c&&!l&&i&&!["PasswordReset","PasswordError"].includes(i);return o.createElement(u.Dialog,{title:(0,d.localize)("Something’s not right"),confirm_button_text:(0,d.localize)("OK"),onConfirm:t,disableApp:a,enableApp:n,is_visible:s},r||o.createElement(d.Localize,{i18n_default_text:"Sorry, an error occured while processing your request."}))}));const Tr=v((function(e){var t=e.ui,a=e.modules;return{is_top_up_virtual_open:t.is_top_up_virtual_open,is_top_up_virtual_in_progress:t.is_top_up_virtual_in_progress,is_top_up_virtual_success:t.is_top_up_virtual_success,closeTopUpModal:t.closeTopUpModal,closeSuccessTopUpModal:t.closeSuccessTopUpModal,current_account:a.cfd.current_account,dxtrade_companies:a.cfd.dxtrade_companies,mt5_companies:a.cfd.mt5_companies,topUpVirtual:a.cfd.topUpVirtual}}))((function(e){var t=e.dxtrade_companies,a=e.mt5_companies,n=e.current_account,r=e.closeSuccessTopUpModal,i=e.closeTopUpModal,c=e.is_top_up_virtual_open,l=e.is_top_up_virtual_in_progress,_=e.is_top_up_virtual_success,p=e.platform,m=e.topUpVirtual,f=o.useCallback((function(){return(a||t)&&n?a[n.category][n.type].title:""}),[a,t,n]),g=(0,s.getCFDPlatformLabel)(p);if(!a&&!t||!n)return null;var h={minimum_amount:1e3,additional_amount:1e4},b=h.minimum_amount,v=h.additional_amount;return o.createElement(o.Fragment,null,o.createElement(u.Modal,{toggleModal:i,is_open:c,className:"top-up-virtual",title:(0,d.localize)("Fund top up"),width:"384px"},o.createElement("div",{className:"dc-modal__container_top-up-virtual__body"},o.createElement(u.Text,{as:"p",align:"center",size:"xxs",line_height:"xs",className:"dc-modal__container_top-up-virtual__description","data-testid":"dt_top_up_virtual_description"},o.createElement(d.Localize,{i18n_default_text:"You can top up your demo account with an additional <0></0> if your balance is <1></1> or less.",components:[o.createElement(u.Money,{key:0,amount:v,currency:n.currency,show_currency:!0}),o.createElement(u.Money,{key:1,amount:b,currency:n.currency,show_currency:!0})]})),o.createElement("h4",{className:"dc-modal__container_top-up-virtual--h4"},o.createElement(d.Localize,{i18n_default_text:"{{ platform }} {{ account_title }} account",values:{platform:g,account_title:f()}})),o.createElement("div",null,o.createElement(u.Text,{as:"p",align:"center",size:"xxs"},o.createElement(d.Localize,{i18n_default_text:"Current balance"})),o.createElement("div",{className:"dc-modal__container_top-up-virtual--balance"},o.createElement(u.Money,{amount:n.display_balance,currency:n.currency,has_sign:n.balance<0}))),o.createElement("div",{className:"dc-modal__container_top-up-virtual--button"},o.createElement(u.Button,{is_disabled:n.balance>1e3||l,type:"button",is_loading:l,onClick:function(){return m(p)},primary:!0,large:!0},!l&&o.createElement(d.Localize,{i18n_default_text:"Top up  <0></0>",components:[o.createElement(u.Money,{key:0,amount:v,currency:n.currency,show_currency:!0})]}))))),o.createElement(gr,{is_open:_,toggleModal:function(){r()},has_close_icon:!0,title:(0,d.localize)("Fund top up"),icon:o.createElement(u.Icon,{icon:"IcCashierWallet",size:128}),heading:o.createElement("h3",{className:"cfd-success-topup__heading"},o.createElement(d.Localize,{i18n_default_text:"<0></0> has been credited into your {{platform}} {{title}} account.",values:{platform:g,title:f()},components:[o.createElement(u.Money,{key:0,amount:v,currency:n.currency,show_currency:!0})]})),message:o.createElement("div",{className:"cfd-success-topup__description"},o.createElement("p",null,o.createElement(d.Localize,{i18n_default_text:"New current balance"})),o.createElement("div",{className:"dc-modal__container_top-up-virtual--balance"},o.createElement(u.Money,{amount:n.balance,currency:n.currency}))),icon_size:"large",has_cancel:!1,has_submit:!1,width:"384px"}))}));var Pr=["current_list","children","is_eu"];function Mr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Cr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(a),!0).forEach((function(t){Fr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Fr(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return jr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Lr(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Rr=function(e){var t,a,n,r,o,i=e.current_list,c=e.children,l=e.is_eu,s=Lr(e,Pr),u=localStorage.getItem("cfd_reset_password_intent"),d=localStorage.getItem("cfd_reset_password_type")||"main";if(u&&/(real|demo)\.(financial_stp|financial|synthetic|synthetic_svg|synthetic_bvi|financial_svg|financial_bvi|financial_fx|financial_v)/.test(u)&&i){var _=Nr(u.split("."),3);o=_[0],t=_[1],a=_[2],n=i["mt5.".concat(t,".").concat(a,"@").concat(o)].login,r=Dn(l)[t][a].title}else if(i){var p,m,f,g,h,b,v=Nr(Object.keys(i).pop().split("."),3);o=v[0],t=v[1],a=v[2],n=null!==(p=null===(m=i["mt5.".concat(t,".").concat(a,"@").concat(o)])||void 0===m?void 0:m.login)&&void 0!==p?p:"",r=null!==(f=null===(g=Dn(l))||void 0===g||null===(h=g[t])||void 0===h||null===(b=h[a])||void 0===b?void 0:b.title)&&void 0!==f?f:""}else n="",r="";return c(Cr({login:n,title:r,type:d},s))},Ir=function(e){var t=e.current_list,a=e.email,n=e.is_cfd_reset_password_modal_enabled,r=e.is_eu,i=e.is_logged_in,c=e.platform,l=e.setCFDPasswordResetModal,_=e.history,p=Nr(o.useState({error_code:void 0,has_error:!1,error_message:void 0,is_finished:!1,changed_password_type:""}),2),m=p[0],f=p[1],g=function(){localStorage.removeItem("cfd_reset_password_intent"),localStorage.removeItem("cfd_reset_password_type"),localStorage.removeItem("cfd_reset_password_code"),_.location.pathname!==s.routes.mt5&&_.push("".concat(s.routes.mt5))},h=function(e){var t={};return(0,s.validLength)(e.new_password,{min:8,max:25})?(0,s.validPassword)(e.new_password)||(t.new_password=(0,s.getErrorMessages)().password()):t.new_password=(0,d.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),e.new_password.toLowerCase()===a.toLowerCase()&&(t.new_password=(0,d.localize)("Your password cannot be the same as your email address.")),t},b=function(e,t,a,n){var r=n.setSubmitting;r(!0);var o={account_id:a,platform:s.CFD_PLATFORMS.MT5,new_password:e.new_password,verification_code:localStorage.getItem("cfd_reset_password_code")};s.WS.tradingPlatformInvestorPasswordReset(o).then((function(e){var a,n;null!=e&&null!==(a=e.error)&&void 0!==a&&a.code?(n=e.error,f(Cr(Cr({},m),{},{error_code:n.code,has_error:!0,error_message:n.message}))):(f(Cr(Cr({},m),{},{is_finished:!0,changed_password_type:t})),g()),r(!1)}))},v=function(){return 0!==Object.keys(t).length},y=!v()&&localStorage.getItem("cfd_reset_password_code");return o.createElement(u.Modal,{className:"cfd-reset-password-modal",is_open:n&&!y,toggleModal:function(){return l(!1)},title:c===s.CFD_PLATFORMS.DXTRADE?(0,d.localize)("Reset Deriv X investor password"):(0,d.localize)("Reset DMT5 investor password"),onMount:function(){return(0,s.redirectToLogin)(i,(0,d.getLanguage)(),!0)},should_header_stick_body:!1},!v()&&!m.has_error&&o.createElement(u.Loading,{is_fullscreen:!1}),v()&&!m.has_error&&!m.is_finished&&o.createElement(Rr,{current_list:t,is_eu:r},(function(e){var t=e.type,a=e.login;return o.createElement(S.J9,{initialValues:{new_password:""},validate:h,onSubmit:function(e,n){return b(e,t,a,n)}},(function(e){var a=e.handleSubmit,n=e.errors,r=e.values,i=e.isSubmitting,c=e.handleChange,l=e.handleBlur,_=e.touched;return o.createElement("form",{autoComplete:"off",onSubmit:a},o.createElement("div",{className:"cfd-reset-password"},o.createElement("div",{className:"cfd-reset-password__container"},o.createElement("div",{className:"cfd-reset-password__password-area"},o.createElement(u.PasswordMeter,{input:r.new_password,has_error:!(!_.new_password||!n.new_password),custom_feedback_messages:(0,s.getErrorMessages)().password_warnings},(function(e){var a=e.has_warning;return o.createElement(u.PasswordInput,{autoComplete:"new-password",className:"cfd-reset-password__password-field",name:"new_password",label:(0,d.localize)("New {{type}} password",{type:t}),onChange:c,onBlur:l,error:_.new_password&&n.new_password,value:r.new_password,"data-lpignore":"true",required:!0,hint:!a&&(0,d.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters, numbers, and symbols.")})}))),i&&o.createElement(u.Loading,{is_fullscreen:!1}),!i&&o.createElement(u.FormSubmitButton,{is_disabled:i||!r.new_password||Object.keys(n).length>0,errors:n,is_center:!0,large:!0,label:(0,d.localize)("Create {{type}} password",{type:t})}))))}))})),m.has_error&&o.createElement("div",{className:"cfd-reset-password__error"},o.createElement(u.Icon,{icon:"IcMt5Expired",size:128}),o.createElement(u.Text,{as:"p",size:"xs",weight:"bold",align:"center",className:"cfd-reset-password__heading"},m.error_message),"InvalidToken"===m.error_code&&o.createElement(u.Text,{as:"p",color:"prominent",size:"xs",align:"center",className:"cfd-reset-password__description--is-centered"},o.createElement(d.Localize,{i18n_default_text:"Please request a new password and check your email for the new token."})),o.createElement(u.Button,{primary:!0,large:!0,className:"cfd-reset-password__confirm-button",onClick:function(){g(),l(!1)}},o.createElement(d.Localize,{i18n_default_text:"Ok"}))),m.is_finished&&o.createElement("div",{className:"cfd-reset-password__success"},o.createElement(u.Icon,{icon:"IcMt5PasswordUpdated",size:128}),o.createElement("div",{className:"cfd-reset-password__description"},o.createElement(u.Text,{as:"p",size:"xs",align:"center",weight:"bold",line_height:"xxl"},o.createElement(d.Localize,{i18n_default_text:"Password saved"})),o.createElement(d.Localize,{i18n_default_text:"Your {{account_type}} password has been changed.",values:{account_type:"main"===m.changed_password_type?(0,d.localize)("main"):(0,d.localize)("investor")}})),o.createElement(u.Button,{primary:!0,large:!0,onClick:function(){return l(!1)}},o.createElement(d.Localize,{i18n_default_text:"Ok"}))))};Ir.propTypes={current_list:r().oneOfType([r().array,r().object]),email:r().string,is_cfd_reset_password_modal_enabled:r().bool,is_eu:r().bool,is_logged_in:r().bool,platform:r().string,setCFDPasswordResetModal:r().func,history:r().object};const Vr=o.memo((0,l.withRouter)(v((function(e){var t=e.modules.cfd,a=e.client;return{email:a.email,is_eu:a.is_eu,is_cfd_reset_password_modal_enabled:t.is_cfd_reset_password_modal_enabled,setCFDPasswordResetModal:t.setCFDPasswordResetModal,current_list:t.current_list,is_logged_in:a.is_logged_in}}))(Ir)));var Br=a("../../node_modules/react-transition-group/esm/CSSTransition.js"),Ur={mt5:{synthetic:"IcMt5SyntheticPlatform",financial:"IcMt5FinancialPlatform",financial_stp:"IcMt5FinancialStpPlatform",cfd:"IcMt5CfdPlatform"},dxtrade:{synthetic:"IcDxtradeSyntheticPlatform",financial:"IcDxtradeFinancialPlatform",cfd:"IcMt5CfdPlatform",all:"IcDxtradeDerivxPlatform"}},Wr=o.forwardRef((function(e,t){var a=e.onSelectAccount,n=e.is_disabled;return o.createElement("div",{onClick:n?function(){}:a,className:E()("cfd-account-card__add-server",{"cfd-account-card__add-server--disabled":n}),ref:t},o.createElement("span",{className:"cfd-account-card__add-server--icon"},"+"),o.createElement(d.Localize,{i18n_default_text:"Add account"}))}));Wr.displayName="AddAccountButton";var Xr=function(e){var t=e.value,a=e.is_bold;return o.createElement("div",{className:"cfd-account-card__spec-box"},o.createElement(u.Text,{size:"xs",weight:a?"bold":"",className:"cfd-account-card__spec-text"},t),o.createElement(je,{text:t,className:"cfd-account-card__spec-copy"}))},qr=function(e){var t=e.platform,a=e.onClick;return o.createElement("div",{className:"cfd-account-card__password-box"},o.createElement("div",{className:"cfd-account-card__password-text"},o.createElement(u.Popover,{alignment:"right",message:(0,d.localize)("Use these credentials to log in to your {{platform}} account on the website and mobile apps.",{platform:(0,s.getCFDPlatformLabel)(t)}),classNameBubble:"cfd-account-card__password-tooltip"},o.createElement(u.Text,{size:"xs"},"•••••••••••••••"))),o.createElement(u.Popover,{alignment:"bottom",message:(0,d.localize)("Change Password")},o.createElement(u.Button,{className:"cfd-account-card__password-action",transparent:!0,onClick:a,icon:o.createElement(u.Icon,{icon:"IcEdit",className:"da-article__learn-more-icon",custom_color:"var(--text-less-prominent)"})})))},Jr=function(e){var t=e.button_label,a=e.handleClickSwitchAccount,n=e.has_real_account,r=e.is_accounts_switcher_on,i=e.is_button_primary,c=e.is_disabled,l=e.is_virtual,_=e.onSelectAccount,p=e.type,m=e.platform,f=e.title;if(l&&"real"===p.category&&"function"==typeof a&&(m!==s.CFD_PLATFORMS.MT5||n&&"financial_stp"===p.type))return o.createElement("div",{className:"cfd-account-card__action-wrapper"},o.createElement(d.Localize,{i18n_default_text:"<0>Switch to your real account</0><1> to create a {{platform}} {{account_title}} account.</1>",values:{platform:(0,s.getCFDPlatformLabel)(m),account_title:f},components:[o.createElement("a",{className:E()("cfd-account-card__action-wrapper__link link link--orange",{"cfd-account-card__action-wrapper__link--disabled":r}),key:0,onClick:a}),o.createElement(u.Text,{key:1,line_height:"s",size:"xxs"})]}));var g="real"===p.category?o.createElement(d.Localize,{i18n_default_text:"Add real account"}):o.createElement(d.Localize,{i18n_default_text:"Add demo account"}),h=t||g;return o.createElement(u.Button,{className:"cfd-account-card__account-selection",onClick:_,type:"button",is_disabled:c,primary:i,secondary:!i,large:!0},h)},Gr=v((function(e){var t=e.modules.cfd,a=e.client;return{dxtrade_tokens:t.dxtrade_tokens,isEligibleForMoreDemoMt5Svg:a.isEligibleForMoreDemoMt5Svg,isEligibleForMoreRealMt5:a.isEligibleForMoreRealMt5,setMT5TradeAccount:t.setMT5TradeAccount}}))((function(e){var t,a=e.button_label,n=e.commission_message,r=e.descriptor,i=e.dxtrade_tokens,c=e.existing_accounts_data,l=e.has_banner,_=e.has_cfd_account_error,p=e.has_real_account,m=e.is_accounts_switcher_on,f=e.is_button_primary,g=e.is_disabled,h=e.is_logged_in,b=e.is_virtual,v=e.is_eu,y=e.isEligibleForMoreDemoMt5Svg,w=e.isEligibleForMoreRealMt5,x=e.platform,z=e.title,S=e.type,D=e.specs,O=e.onSelectAccount,A=e.onClickFund,k=e.onPasswordManager,T=e.toggleAccountsDialog,P=e.toggleMT5TradeModal,M=e.toggleShouldShowRealAccountsList,C=e.setMT5TradeAccount,F=null!=c&&c.length?null==c?void 0:c[0]:c,N=[],j=h&&!v&&x===s.CFD_PLATFORMS.MT5&&("demo"===S.category?y(S.type)&&!!F:w(S.type)&&!!F),L=v?"cfd":S.type,R=S.type?o.createElement(u.Icon,{icon:Ur[S.platform][L],size:64}):null,I="synthetic"===S.type,V="demo"===S.category,B=h&&F&&"real"===S.category&&"synthetic"===S.type&&(null==F?void 0:F.server_info),U=o.useRef(null),W=o.useRef(null),X=o.useRef(null),q=o.useCallback((function(e){if(e){var t,a,n,r,o,i,c=null===(t=e.server_info)||void 0===t||null===(a=t.geolocation)||void 0===a?void 0:a.region;if(c)return"".concat(c," ").concat(1===(null==e||null===(n=e.server_info)||void 0===n||null===(r=n.geolocation)||void 0===r?void 0:r.sequence)?"":null==e||null===(o=e.server_info)||void 0===o||null===(i=o.geolocation)||void 0===i?void 0:i.sequence)}return""}),[]),J=(0,s.isMobile)()&&x===s.CFD_PLATFORMS.DXTRADE,G=x===s.CFD_PLATFORMS.DXTRADE&&o.createElement(o.Fragment,null,o.createElement("tr",{className:"cfd-account-card__login-specs-table-row"},o.createElement("td",{className:"cfd-account-card__login-specs-table-attribute"},o.createElement("div",{className:"cfd-account-card--paragraph"},(0,d.localize)("Username"))),o.createElement("td",{className:"cfd-account-card__login-specs-table-data"},o.createElement("div",{className:"cfd-account-card--paragraph"},o.createElement(Xr,{value:null==F?void 0:F.login,is_bold:!0})))));return o.createElement("div",{ref:W,className:"cfd-account-card__wrapper"},o.createElement("div",{className:E()("cfd-account-card",{"cfd-account-card__logged-out":!h}),ref:U},I&&o.createElement("div",{className:"cfd-account-card__banner"},o.createElement(d.Localize,{i18n_default_text:"Most popular"})),V&&o.createElement("div",{className:"cfd-account-card__banner cfd-account-card__banner--demo"},o.createElement(d.Localize,{i18n_default_text:"DEMO"})),o.createElement("div",{className:E()("cfd-account-card__type",{"cfd-account-card__type--has-banner":l||I||B}),id:"".concat(x===s.CFD_PLATFORMS.DXTRADE?s.CFD_PLATFORMS.DXTRADE:s.CFD_PLATFORMS.MT5,"_").concat(S.category,"_").concat(S.type)},R,o.createElement("div",{className:"cfd-account-card__type--description"},o.createElement(u.Text,{size:"xxl",className:"cfd-account-card--heading"},z),x===s.CFD_PLATFORMS.DXTRADE?(!F||!h)&&o.createElement("p",{className:"cfd-account-card--paragraph"},r):o.createElement("p",{className:"cfd-account-card--paragraph"},r),(null==F?void 0:F.display_balance)&&h&&x===s.CFD_PLATFORMS.DXTRADE&&o.createElement(u.Text,{size:"xxl",className:"cfd-account-card__balance--value"},o.createElement(u.Money,{amount:F.display_balance,currency:F.currency,has_sign:!!F.balance&&F.balance<0,show_currency:!0})),(null==F?void 0:F.display_login)&&h&&x===s.CFD_PLATFORMS.DXTRADE&&o.createElement(u.Text,{color:"less-prominent",size:"xxxs",line_height:"s"},null==F?void 0:F.display_login))),F&&o.createElement("div",{className:"cfd-account-card__divider"}),o.createElement("div",{className:"cfd-account-card__cta",style:null!=F&&F.login?{}:{marginTop:"auto"}},o.createElement("div",{className:"cfd-account-card__cta-wrapper"},x===s.CFD_PLATFORMS.DXTRADE&&(!(null!=F&&F.login)||!h)&&o.createElement("div",{className:"cfd-account-card__specs"},o.createElement("table",{className:"cfd-account-card__specs-table"},o.createElement("tbody",null,void 0!==D&&Object.keys(D).map((function(e,t){return o.createElement("tr",{key:t,className:"cfd-account-card__specs-table-row"},o.createElement("td",{className:"cfd-account-card__specs-table-attribute"},o.createElement("p",{className:"cfd-account-card--paragraph"},D[e].key())),o.createElement("td",{className:"cfd-account-card__specs-table-data"},o.createElement("p",{className:"cfd-account-card--paragraph"},D[e].value())))}))))),(null==F?void 0:F.login)&&h&&x===s.CFD_PLATFORMS.MT5&&"demo"===S.category&&(null==c?void 0:c.length)&&(null==c?void 0:c.map((function(e,t){return o.createElement("div",{className:"cfd-account-card__item",key:t},(null==e?void 0:e.display_balance)&&h&&"labuan"===e.landing_company_short&&o.createElement("div",{className:"cfd-account-card__item--banner"},o.createElement(d.Localize,{i18n_default_text:"Labuan"})),(null==e?void 0:e.display_login)&&o.createElement("div",{className:"cfd-account-card--login-id".concat("labuan"===e.landing_company_short?"":"-demo")},o.createElement(u.Text,{size:"xxxs",weight:"bold"},null==e?void 0:e.display_login)),(null==e?void 0:e.display_balance)&&h&&o.createElement("div",{className:"cfd-account-card__balance"},o.createElement(u.Text,{size:"xxl",className:"cfd-account-card__balance--value"},o.createElement(u.Money,{amount:e.display_balance,currency:e.currency,has_sign:!!e.balance&&e.balance<0,show_currency:!0}))),o.createElement("div",{className:"cfd-account-card__manage--mt5"},e&&h&&o.createElement(u.Button,{onClick:function(){return A(e)},type:"button",secondary:!0},o.createElement(d.Localize,{i18n_default_text:"Top up"})),e&&h&&!J&&o.createElement(u.Button,{className:"dc-btn cfd-account-card__account-selection cfd-account-card__account-selection--primary",type:"button",onClick:function(){P(),C(e)},primary:!0,large:!0},o.createElement(d.Localize,{i18n_default_text:"Trade"}))))}))),(null==F?void 0:F.login)&&h&&x===s.CFD_PLATFORMS.MT5&&!(null!=c&&c.length)&&"demo"===S.category&&o.createElement("div",{className:"cfd-account-card__item"},(null==F?void 0:F.display_login)&&o.createElement("div",{className:"cfd-account-card--login-id-demo"},o.createElement(u.Text,{size:"xxxs",weight:"bold"},null==F?void 0:F.display_login)),(null==F?void 0:F.display_balance)&&h&&o.createElement("div",{className:"cfd-account-card__balance"},o.createElement(u.Text,{size:"xxl",className:"cfd-account-card__balance--value"},o.createElement(u.Money,{amount:F.display_balance,currency:F.currency,has_sign:!!F.balance&&F.balance<0,show_currency:!0}))),o.createElement("div",{className:"cfd-account-card__manage--mt5"},F&&h&&o.createElement(u.Button,{onClick:function(){return A(F)},type:"button",secondary:!0},o.createElement(d.Localize,{i18n_default_text:"Top up"})),F&&h&&!J&&o.createElement(u.Button,{className:"dc-btn cfd-account-card__account-selection cfd-account-card__account-selection--primary",type:"button",onClick:function(){P(),C(F)},primary:!0,large:!0},o.createElement(d.Localize,{i18n_default_text:"Trade"})))),(null==F?void 0:F.login)&&h&&x===s.CFD_PLATFORMS.MT5&&"real"===S.category&&(null==c?void 0:c.map((function(e,t){var a,n,r;return o.createElement("div",{className:"cfd-account-card__item",key:t},(null==F?void 0:F.display_balance)&&h&&!v&&o.createElement("div",{className:"cfd-account-card__item--banner"},o.createElement(d.Localize,{i18n_default_text:e.landing_company_short&&!["svg","bvi"].includes(null==e?void 0:e.landing_company_short)?(null===(a=e.landing_company_short)||void 0===a?void 0:a.charAt(0).toUpperCase())+e.landing_company_short.slice(1):null===(n=e.landing_company_short)||void 0===n?void 0:n.toUpperCase()})),(null==e?void 0:e.display_login)&&o.createElement("div",{className:"cfd-account-card--login-id"},o.createElement(u.Text,{size:"xxxs",weight:"bold"},null==e?void 0:e.display_login)),(null==F?void 0:F.display_balance)&&h&&o.createElement("div",{className:"cfd-account-card__balance"},o.createElement(u.Text,{size:"xxl",className:"cfd-account-card__balance--value"},o.createElement(u.Money,{amount:e.display_balance,currency:e.currency,has_sign:!!e.balance&&e.balance<0,show_currency:!0})),(null===(null==c||c.map((function(e){"svg"===e.landing_company_short&&(N.length?N.forEach((function(t){return t.server!==e.server&&N.push(e),N})):N.push(e))})),r=N)||void 0===r?void 0:r.length)>1&&"svg"===e.landing_company_short&&o.createElement(u.Text,{className:"cfd-account-card__balance--region",color:"colored-background",size:"xxxs",weight:"bold"},q(e))),o.createElement("div",{className:"cfd-account-card__manage--mt5"},F&&h&&o.createElement(u.Button,{onClick:function(){var t=null==c?void 0:c.find((function(t){return t.landing_company_short===e.landing_company_short&&t.login===e.login}));A(t)},type:"button",secondary:!0},o.createElement(d.Localize,{i18n_default_text:"Top up"})),F&&h&&!J&&o.createElement(u.Button,{className:"dc-btn cfd-account-card__account-selection cfd-account-card__account-selection--primary",type:"button",onClick:function(){var t=null==c?void 0:c.find((function(t){return t.landing_company_short===e.landing_company_short&&t.login===e.login}));P(),C(t)},primary:!0,large:!0},o.createElement(d.Localize,{i18n_default_text:"Trade"}))))}))),(null==F?void 0:F.login)&&h&&x===s.CFD_PLATFORMS.DXTRADE&&o.createElement(o.Fragment,null,o.createElement("div",{className:"cfd-account-card__login-specs"},o.createElement("table",{className:"cfd-account-card__login-specs-table"},o.createElement("tbody",null,G,o.createElement("tr",{className:"cfd-account-card__login-specs-table-row cfd-account-card__login-specs-table-row--account-id"},o.createElement("td",{className:"cfd-account-card__login-specs-table-attribute"},o.createElement("div",{className:"cfd-account-card--paragraph"},(0,d.localize)("Password"))),o.createElement("td",{className:"cfd-account-card__login-specs-table-data"},o.createElement("div",{className:"cfd-account-card--paragraph"},o.createElement(qr,{platform:x,onClick:function(){k(null==F?void 0:F.login,z,S.category,S.type,null==F?void 0:F.server)}})))))))),(!F&&n||!h)&&x===s.CFD_PLATFORMS.DXTRADE&&o.createElement("div",{className:"cfd-account-card__commission"},o.createElement(u.Text,{as:"p",color:"general",size:"xs",styles:{margin:"1.6rem auto"}},n)),F&&h&&x===s.CFD_PLATFORMS.DXTRADE&&o.createElement("div",{className:"cfd-account-card__manage"},o.createElement(u.Button,{onClick:function(){return A(F)},type:"button",secondary:!0},"real"===S.category&&o.createElement(d.Localize,{i18n_default_text:"Fund transfer"}),"demo"===S.category&&o.createElement(d.Localize,{i18n_default_text:"Top up"}))),F&&h&&!J&&x===s.CFD_PLATFORMS.DXTRADE&&o.createElement("a",{className:"dc-btn cfd-account-card__account-selection cfd-account-card__account-selection--primary",type:"button",href:Ie(S.category,i[S.category]),target:"_blank",rel:"noopener noreferrer"},o.createElement(d.Localize,{i18n_default_text:"Trade on web terminal"})),F&&h&&J&&o.createElement("a",{className:"dc-btn cfd-account-card__account-selection cfd-account-card__account-selection--primary",type:"button",href:(t=(0,s.mobileOSDetect)(),Le("iOS"===t?"ios":"android")),target:"_blank",rel:"noopener noreferrer"},o.createElement(d.Localize,{i18n_default_text:"Download the app"})),!F&&h&&o.createElement(Jr,{button_label:a,handleClickSwitchAccount:function(){null==M||M(!0),null==T||T(!0)},has_real_account:p,is_accounts_switcher_on:m,is_button_primary:f,is_disabled:g,is_virtual:b,onSelectAccount:O,type:S,platform:x,title:z}))),o.createElement(o.Fragment,null,j&&o.createElement(u.MobileWrapper,null,o.createElement(Wr,{ref:X,onSelectAccount:O,is_disabled:_})))),o.createElement(u.DesktopWrapper,null,o.createElement(Br.Z,{in:j,timeout:0,classNames:"cfd-account-card__add-server",unmountOnExit:!0},o.createElement(Wr,{ref:X,onSelectAccount:O,is_disabled:_}))))}));const Yr={mt5:{real_synthetic_specs:{leverage:{key:function(){return(0,d.localize)("Leverage")},value:function(){return(0,d.localize)("Up to 1:1000")}},"margin-call":{key:function(){return(0,d.localize)("Margin call")},value:function(){return(0,d.localize)("100%")}},"stop-out-level":{key:function(){return(0,d.localize)("Stop out level")},value:function(){return(0,d.localize)("50%")}},"number-of-assets":{key:function(){return(0,d.localize)("Number of assets")},value:function(){return(0,d.localize)("20+")}}},real_financial_specs:{leverage:{key:function(){return(0,d.localize)("Leverage")},value:function(){return(0,d.localize)("Up to 1:1000")}},"margin-call":{key:function(){return(0,d.localize)("Margin call")},value:function(){return(0,d.localize)("100%")}},"stop-out-level":{key:function(){return(0,d.localize)("Stop out level")},value:function(){return(0,d.localize)("50%")}},"number-of-assets":{key:function(){return(0,d.localize)("Number of assets")},value:function(){return(0,d.localize)("150+")}}},eu_real_financial_specs:{leverage:{key:function(){return(0,d.localize)("Leverage")},value:function(){return(0,d.localize)("Up to 1:30")}},"margin-call":{key:function(){return(0,d.localize)("Margin call")},value:function(){return(0,d.localize)("100%")}},"stop-out-level":{key:function(){return(0,d.localize)("Stop out level")},value:function(){return(0,d.localize)("50%")}},"number-of-assets":{key:function(){return(0,d.localize)("Number of assets")},value:function(){return(0,d.localize)("50+")}}},real_financial_stp_specs:{leverage:{key:function(){return(0,d.localize)("Leverage")},value:function(){return(0,d.localize)("Up to 1:100")}},"margin-call":{key:function(){return(0,d.localize)("Margin call")},value:function(){return(0,d.localize)("100%")}},"stop-out-level":{key:function(){return(0,d.localize)("Stop out level")},value:function(){return(0,d.localize)("50%")}},"number-of-assets":{key:function(){return(0,d.localize)("Number of assets")},value:function(){return(0,d.localize)("70+")}}},au_real_financial_specs:{leverage:{key:function(){return(0,d.localize)("Leverage")},value:function(){return(0,d.localize)("Up to 1:30")}},"margin-call":{key:function(){return(0,d.localize)("Margin call")},value:function(){return(0,d.localize)("100%")}},"stop-out-level":{key:function(){return(0,d.localize)("Stop out level")},value:function(){return(0,d.localize)("50%")}},"number-of-assets":{key:function(){return(0,d.localize)("Number of assets")},value:function(){return(0,d.localize)("100+")}}},demo_financial_stp_specs:{leverage:{key:function(){return(0,d.localize)("Leverage")},value:function(){return(0,d.localize)("Up to 1:100")}},"margin-call":{key:function(){return(0,d.localize)("Margin call")},value:function(){return(0,d.localize)("100%")}},"stop-out-level":{key:function(){return(0,d.localize)("Stop out level")},value:function(){return(0,d.localize)("50%")}},"number-of-assets":{key:function(){return(0,d.localize)("Number of assets")},value:function(){return(0,d.localize)("70+")}}}},dxtrade:{demo_all_specs:{leverage:{key:function(){return(0,d.localize)("Leverage")},value:function(){return(0,d.localize)("Up to 1:1000")}},"margin-call":{key:function(){return(0,d.localize)("Margin call")},value:function(){return(0,d.localize)("100%")}},"stop-out-level":{key:function(){return(0,d.localize)("Stop out level")},value:function(){return(0,d.localize)("50%")}},"number-of-assets":{key:function(){return(0,d.localize)("Number of assets")},value:function(){return(0,d.localize)("110+")}}},real_synthetic_specs:{leverage:{key:function(){return(0,d.localize)("Leverage")},value:function(){return(0,d.localize)("Up to 1:1000")}},"margin-call":{key:function(){return(0,d.localize)("Margin call")},value:function(){return(0,d.localize)("100%")}},"stop-out-level":{key:function(){return(0,d.localize)("Stop out level")},value:function(){return(0,d.localize)("50%")}},"number-of-assets":{key:function(){return(0,d.localize)("Number of assets")},value:function(){return(0,d.localize)("20+")}}},real_financial_specs:{leverage:{key:function(){return(0,d.localize)("Leverage")},value:function(){return(0,d.localize)("Up to 1:1000")}},"margin-call":{key:function(){return(0,d.localize)("Margin call")},value:function(){return(0,d.localize)("100%")}},"stop-out-level":{key:function(){return(0,d.localize)("Stop out level")},value:function(){return(0,d.localize)("50%")}},"number-of-assets":{key:function(){return(0,d.localize)("Number of assets")},value:function(){return(0,d.localize)("90+")}}},eu_real_financial_specs:{leverage:{key:function(){return(0,d.localize)("Leverage")},value:function(){return(0,d.localize)("Up to 1:30")}},"margin-call":{key:function(){return(0,d.localize)("Margin call")},value:function(){return(0,d.localize)("100%")}},"stop-out-level":{key:function(){return(0,d.localize)("Stop out level")},value:function(){return(0,d.localize)("50%")}},"number-of-assets":{key:function(){return(0,d.localize)("Number of assets")},value:function(){return(0,d.localize)("90+")}}},au_real_financial_specs:{leverage:{key:function(){return(0,d.localize)("Leverage")},value:function(){return(0,d.localize)("Up to 1:30")}},"margin-call":{key:function(){return(0,d.localize)("Margin call")},value:function(){return(0,d.localize)("100%")}},"stop-out-level":{key:function(){return(0,d.localize)("Stop out level")},value:function(){return(0,d.localize)("50%")}},"number-of-assets":{key:function(){return(0,d.localize)("Number of assets")},value:function(){return(0,d.localize)("90+")}}}}};const Hr=function(e){var t,a=e.has_cfd_account_error,n=e.standpoint,r=e.is_loading,i=e.is_logged_in,c=e.onSelectAccount,l=e.openAccountTransfer,s=e.platform,u=e.current_list,_=e.openPasswordManager,p=Object.keys(u).find((function(e){return e.startsWith("".concat(s,".demo.dxtrade"))}))||"";return o.createElement("div",{className:"cfd-demo-accounts-display","data-testid":"dt_cfd_demo_accounts_display"},r?o.createElement(x,null):o.createElement(Gr,{key:"cfd",title:(0,d.localize)("Deriv X"),type:{category:"demo",platform:"dxtrade",type:"all"},is_disabled:a||n.malta,is_logged_in:i,existing_accounts_data:(t="dxtrade",Object.keys(u).some((function(e){return e.startsWith("".concat(s,".demo.").concat(t))&&1===u[e].enabled}))?Object.keys(u).filter((function(e){return e.startsWith("".concat(s,".demo.").concat(t))})).reduce((function(e,t){return e.push(u[t]),e}),[]):void 0),commission_message:(0,d.localize)("No commission"),onSelectAccount:function(){return c({category:"demo",platform:"dxtrade",type:"all"})},onPasswordManager:_,onClickFund:function(){return l(u[p],{category:"demo",type:"all"})},platform:s,descriptor:(0,d.localize)("Trade CFDs on forex, derived indices, cryptocurrencies, and commodities with high leverage."),specs:Yr.dxtrade.demo_all_specs,has_banner:!0}))};const $r=function(e){var t=e.is_eu,a=e.is_eu_country,n=e.has_maltainvest_account,r=e.has_cfd_account_error,i=e.openAccountNeededModal,c=e.standpoint,l=e.is_loading,s=e.is_logged_in,u=e.isSyntheticCardVisible,_=e.isFinancialCardVisible,p=e.onSelectAccount,m=e.openAccountTransfer,f=e.platform,g=e.current_list,h=e.openPasswordManager,b=e.residence,v=e.toggleMT5TradeModal,y=s&&t||!s&&a,w=function(e){return Object.keys(g).find((function(t){return t.startsWith("".concat(f,".demo.").concat(e))}))||""},E=o.useMemo((function(){var e=s&&t||!s&&a;return"au"===b?Yr[f].au_real_financial_specs:e?Yr[f].eu_real_financial_specs:Yr[f].real_financial_specs}),[s,t,a,b,f]);return o.createElement("div",{className:"cfd-demo-accounts-display","data-testid":"dt_cfd_demo_accounts_display"},l?o.createElement(x,null):o.createElement("div",{className:"cfd-demo-accounts-display","data-testid":"dt_cfd_demo_accounts_display"},u("demo")&&o.createElement(Gr,{title:(0,d.localize)("Derived"),type:{category:"demo",type:"synthetic",platform:f},is_disabled:r||c.malta,is_logged_in:s,existing_accounts_data:g[w("synthetic")],commission_message:(0,d.localize)("No commission"),onSelectAccount:function(){return p({category:"demo",type:"synthetic",platform:f})},onPasswordManager:h,onClickFund:function(){return m(g[w("synthetic")],{category:"demo",type:"synthetic"})},platform:f,descriptor:(0,d.localize)("Trade CFDs on our synthetics, basket indices, and Derived FX."),specs:Yr[f].real_synthetic_specs,has_banner:!0,toggleMT5TradeModal:v}),_()&&o.createElement(Gr,{title:y?(0,d.localize)("CFDs"):(0,d.localize)("Financial"),is_disabled:r,is_logged_in:s,is_eu:y,type:{category:"demo",type:"financial",platform:f},existing_accounts_data:Object.keys(g).some((function(e){return e.startsWith("".concat(f,".demo.financial"))}))?Object.keys(g).filter((function(e){return e.startsWith("".concat(f,".demo.financial"))})).reduce((function(e,t){return e.push(g[t]),e}),[]):void 0,commission_message:(0,d.localize)("No commission"),onSelectAccount:function(){t&&!n&&c.iom?i("maltainvest",(0,d.localize)("Deriv Multipliers"),(0,d.localize)("demo CFDs")):p({category:"demo",type:"financial",platform:f})},onPasswordManager:h,onClickFund:function(){return m(g[w("financial")],{category:"demo",type:"financial"})},platform:f,descriptor:Ot(f,y),specs:E,has_banner:!0,toggleMT5TradeModal:v})))};var Kr=function(e){var t=e.has_real_account,a=e.is_accounts_switcher_on,n=e.is_eu,r=e.is_eu_country,i=e.has_cfd_account_error,c=e.is_virtual,l=e.isSyntheticCardVisible,_=e.isFinancialCardVisible,p=e.onSelectAccount,m=e.realSyntheticAccountsExistingData,f=e.realFinancialAccountsExistingData,g=e.openAccountTransfer,h=e.isAccountOfTypeDisabled,b=e.current_list,v=e.openPasswordManager,y=e.platform,w=e.standpoint,x=e.is_logged_in,z=e.toggleAccountsDialog,S=e.toggleMT5TradeModal,D=e.toggleShouldShowRealAccountsList,O=e.residence,A=e.openDerivRealAccountNeededModal,k=e.should_enable_add_button,T=x&&n||!x&&r,P=o.useMemo((function(){var e=x&&n||!x&&r;return"au"===O?Yr[y].au_real_financial_specs:e?Yr[y].eu_real_financial_specs:Yr[y].real_financial_specs}),[O,x,n,r,y]),M=function(e){k?A():p({type:e,category:"real",platform:y})},C=function(e){return"dxtrade"===y?g(b[(0,s.getAccountListKey)(e,y)],{category:e.account_type,type:(0,s.getCFDAccountKey)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:y})}):g(e,{category:e.account_type,type:(0,s.getCFDAccountKey)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:"mt5"})})},F=function(e){if(i)return!0;if("synthetic"===e&&w.malta)return!0;if(n){var a=(0,s.getAccountTypeFields)({category:"real",type:e});return h(null==a?void 0:a.account_type)}switch(e){case"synthetic":case"financial":return!k&&!t;default:return!1}},N=function(e){return Object.keys(b).some((function(t){return t.startsWith("".concat(y,".real.").concat(e))&&(a=b[t],"dxtrade"!==y||1===a.enabled);var a}))?Object.keys(b).filter((function(t){return t.startsWith("".concat(y,".real.").concat(e))})).reduce((function(e,t){return e.push(b[t]),e}),[]):void 0};m(N("synthetic")),f(N("financial"));var j=[l("real")&&o.createElement(Gr,{key:"real.synthetic",has_cfd_account_error:i,title:"mt5"===y?(0,d.localize)("Derived"):(0,d.localize)("Synthetic"),has_real_account:t,is_accounts_switcher_on:a,is_disabled:F("synthetic"),is_logged_in:x,type:{category:"real",type:"synthetic",platform:y},existing_accounts_data:N("synthetic"),commission_message:(0,d.localize)("No commission"),onSelectAccount:function(){return M("synthetic")},onPasswordManager:v,onClickFund:C,platform:y,descriptor:"mt5"===y?(0,d.localize)("Trade CFDs on our synthetics, basket indices."):(0,d.localize)("Trade CFDs on our synthetic indices that simulate real-world market movements."),specs:Yr[y].real_synthetic_specs,is_virtual:c,toggleShouldShowRealAccountsList:D,toggleAccountsDialog:z,toggleMT5TradeModal:S}),_()&&o.createElement(Gr,{key:"real.financial",has_real_account:t,is_disabled:F("financial"),title:T?(0,d.localize)("CFDs"):(0,d.localize)("Financial"),type:{category:"real",type:"financial",platform:y},existing_accounts_data:N("financial"),commission_message:(0,d.localize)("No commission"),onSelectAccount:function(){return M("financial")},onPasswordManager:v,onClickFund:C,platform:y,descriptor:Ot(y,T),specs:P,is_accounts_switcher_on:a,is_eu:T,is_logged_in:x,is_virtual:c,toggleShouldShowRealAccountsList:D,toggleAccountsDialog:z,toggleMT5TradeModal:S})].filter(Boolean);return o.createElement("div",{"data-testid":"dt_cfd_real_accounts_display",className:E()("cfd-real-accounts-display")},o.createElement(u.DesktopWrapper,null,o.createElement(u.Carousel,{list:j,width:328,nav_position:"middle",show_bullet:!1,item_per_window:2,is_mt5:!0})),o.createElement(u.MobileWrapper,null,j))},Zr=["children","is_loading","loading_component"];function Qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eo(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return eo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function to(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ao=function(e){var t=e.children,a=e.is_loading,n=e.loading_component,r=to(e,Zr),i=n;return a?o.createElement(i,null):o.createElement(u.Tabs,r,t)};const no=(0,c.withRouter)(v((function(e){var t=e.client,a=e.modules,n=e.ui;return{beginRealSignupForMt5:a.cfd.beginRealSignupForMt5,checkShouldOpenAccount:a.cfd.checkShouldOpenAccount,country:t.account_settings.residence,client_email:t.email_address,createCFDAccount:a.cfd.createCFDAccount,current_list:a.cfd.current_list,dxtrade_tokens:a.cfd.dxtrade_tokens,landing_companies:t.landing_companies,isAccountOfTypeDisabled:t.isAccountOfTypeDisabled,is_logged_in:t.is_logged_in,is_logging_in:t.is_logging_in,is_eu:t.is_eu,is_eu_country:t.is_eu_country,is_virtual:t.is_virtual,is_mt5_allowed:t.is_mt5_allowed,is_dxtrade_allowed:t.is_dxtrade_allowed,mt5_disabled_signup_types:t.mt5_disabled_signup_types,dxtrade_disabled_signup_types:t.dxtrade_disabled_signup_types,has_maltainvest_account:t.has_maltainvest_account,can_upgrade_to:t.can_upgrade_to,disableCFDPasswordModal:a.cfd.disableCFDPasswordModal,dxtrade_accounts_list_error:t.dxtrade_accounts_list_error,is_compare_accounts_visible:a.cfd.is_compare_accounts_visible,is_mt5_trade_modal_visible:a.cfd.is_mt5_trade_modal_visible,is_fully_authenticated:t.is_fully_authenticated,openPasswordModal:a.cfd.enableCFDPasswordModal,openAccountNeededModal:n.openAccountNeededModal,getRealSyntheticAccountsExistingData:a.cfd.getRealSyntheticAccountsExistingData,getRealFinancialAccountsExistingData:a.cfd.getRealFinancialAccountsExistingData,is_loading:t.is_populating_mt5_account_list,residence:t.residence,has_mt5_real_account_error:t.has_account_error_in_mt5_real_list,has_mt5_demo_account_error:t.has_account_error_in_mt5_demo_list,has_dxtrade_real_account_error:t.has_account_error_in_dxtrade_real_list,has_dxtrade_demo_account_error:t.has_account_error_in_dxtrade_demo_list,has_real_account:t.has_active_real_account,setAccountType:a.cfd.setAccountType,setCFDPasswordResetModal:a.cfd.setCFDPasswordResetModal,setCurrentAccount:a.cfd.setCurrentAccount,standpoint:t.standpoint,toggleCompareAccounts:a.cfd.toggleCompareAccountsModal,toggleMT5TradeModal:a.cfd.toggleMT5TradeModal,is_accounts_switcher_on:n.is_accounts_switcher_on,openTopUpModal:n.openTopUpModal,NotificationMessages:n.notification_messages_ui,onMount:a.cfd.onMount,onUnmount:a.cfd.onUnmount,toggleAccountsDialog:n.toggleAccountsDialog,toggleShouldShowRealAccountsList:n.toggleShouldShowRealAccountsList,upgradeable_landing_companies:t.upgradeable_landing_companies,is_dark_mode_on:n.is_dark_mode_on,disableApp:n.disableApp,enableApp:n.enableApp,is_reset_trading_password_modal_visible:n.is_reset_trading_password_modal_visible,toggleResetTradingPasswordModal:n.setResetTradingPasswordModalOpen,mt5_verification_code:t.verification_code.trading_platform_mt5_password_reset,dxtrade_verification_code:t.verification_code.trading_platform_dxtrade_password_reset,mt5_status_server:t.website_status.mt5_status,openDerivRealAccountNeededModal:n.openDerivRealAccountNeededModal}}))((function(e){var t=Qr(o.useState(!1),2),a=t[0],n=t[1],r=Qr(o.useState(!1),2),i=r[0],c=r[1],_=Qr(o.useState(0),2),m=_[0],f=_[1],g=Qr(o.useState(!1),2),h=g[0],b=g[1],v=Qr(o.useState(!1),2),w=v[0],E=v[1],x=Qr(o.useState({is_visible:!1,selected_login:"",selected_account:"",selected_account_type:"",selected_account_group:"",selected_server:""}),2),S=x[0],D=x[1];o.useEffect((function(){return k(A()),O(),e.onMount(),function(){e.onUnmount()}}),[]),o.useEffect((function(){e.checkShouldOpenAccount(),e.is_logged_in&&["demo","real"].forEach((function(e){var t=C(e)||F();"real"===e&&i!==t&&c(t),"demo"===e&&a!==t&&n(t)})),e.is_logged_in||i&&a||(c(!0),n(!0)),"#demo"===window.location.hash&&(n(!0),f(1))}));var O=function(){/reset-password/.test(e.location.hash)&&e.setCFDPasswordResetModal(!0)},A=function(){return i?0:a?1:e.location.hash?/demo/.test(e.location.hash)?1:0:void 0},k=function(e){if(void 0!==e){var t={};1===e?t.is_demo_tab=!0:0===e&&(t.is_demo_tab=!1),m!==e&&(t.active_index=e),(0,s.isEmptyObject)(t)||(f(t.active_index),b(t.is_demo_tab))}},T=function(t,a){"real"===a.category?(t.platform===s.CFD_PLATFORMS.DXTRADE?sessionStorage.setItem("cfd_transfer_to_login_id",t.account_id):sessionStorage.setItem("cfd_transfer_to_login_id",t.login),e.disableCFDPasswordModal(),e.history.push(s.routes.cashier_acc_transfer)):(e.setCurrentAccount(t,a),e.openTopUpModal())},P=function(e,t,a,n,r){D((function(o){return{is_visible:!o.is_visible,selected_login:"string"==typeof e?e:"",selected_account:"string"==typeof t?t:"",selected_account_group:a,selected_account_type:n,selected_server:r}}))},M=function(t){e.setAccountType(t),e.openPasswordModal()},C=function(t){var a=e.current_list,n=e.platform,r=e.is_eu,o=e.is_eu_country,i=e.landing_companies,c=e.is_logged_in,l=Object.keys(a).some((function(e){return e.startsWith("".concat(n,".").concat(t,".synthetic"))}));return!(!c&&o)&&(!(r&&!l)&&((0,s.isLandingCompanyEnabled)({landing_companies:i,platform:n,type:"gaming"})||!c))},F=function(){var t=e.platform,a=e.landing_companies;return!e.is_logged_in||(0,s.isLandingCompanyEnabled)({landing_companies:a,platform:t,type:"financial"})},N=e.account_status,j=e.beginRealSignupForMt5,L=e.country,R=e.createCFDAccount,I=e.current_list,V=e.dxtrade_tokens,B=e.dxtrade_accounts_list_error,U=e.isAccountOfTypeDisabled,W=e.is_accounts_switcher_on,X=e.is_dark_mode_on,q=e.is_eu,G=e.is_eu_country,Y=e.is_loading,H=e.is_logged_in,$=e.is_logging_in,K=e.is_mt5_allowed,Z=e.is_mt5_trade_modal_visible,Q=e.is_dxtrade_allowed,ee=e.is_virtual,te=e.landing_companies,ae=e.has_maltainvest_account,ne=e.has_mt5_real_account_error,re=e.has_mt5_demo_account_error,oe=e.has_dxtrade_real_account_error,ie=e.has_dxtrade_demo_account_error,ce=e.mt5_disabled_signup_types,le=e.dxtrade_disabled_signup_types,se=e.has_real_account,ue=e.NotificationMessages,de=e.platform,_e=e.openAccountNeededModal,pe=e.residence,me=e.standpoint,fe=e.toggleAccountsDialog,ge=e.toggleMT5TradeModal,he=e.toggleShouldShowRealAccountsList,be=e.upgradeable_landing_companies,ve=e.is_reset_trading_password_modal_visible,ye=e.toggleResetTradingPasswordModal,we=e.enableApp,xe=e.disableApp,ze=e.mt5_verification_code,Se=e.dxtrade_verification_code,De=e.mt5_status_server,Oe=e.getRealSyntheticAccountsExistingData,Ae=e.getRealFinancialAccountsExistingData,ke=e.openDerivRealAccountNeededModal,Te=H&&!se&&(null==be?void 0:be.length)>0,Pe=Te&&s.CFD_PLATFORMS.MT5&&i;if(!L&&H||$)return o.createElement(u.Loading,null);var Me=function(e){return null==e?void 0:e.map((function(e){return e.all})).some((function(e){return 1===e}))},Ce=Me(De.demo),Fe=Me(De.real),je=h?Ce||re||ce.demo:Fe||ne||ce.real,Le=h?ie||le.demo:oe||le.real,Re=de===s.CFD_PLATFORMS.MT5?je:Le||!!B,Ie=de===s.CFD_PLATFORMS.MT5?ze:Se;return de!==s.CFD_PLATFORMS.DXTRADE||Q?H&&!te||Y?o.createElement(u.Loading,null):o.createElement(o.Fragment,null,K||de===s.CFD_PLATFORMS.DXTRADE||!H?o.createElement("div",{className:"cfd-dashboard__container"},o.createElement(ue,{is_mt5:!0,is_notification_loaded:w,stopNotificationLoading:function(){E(!0)}}),o.createElement("div",{className:"cfd-dashboard"},o.createElement("div",{className:"cfd-dashboard__welcome-message"},o.createElement("h1",{className:"cfd-dashboard__welcome-message--heading"},St(H,de))),H&&Re&&o.createElement("div",{className:"cfd-dashboard__accounts-error"},o.createElement(u.Text,{as:"p",className:"cfd-dashboard__accounts-error-message",line_height:"l",size:"xxs",color:"prominent",weight:"normal",align:"center"},o.createElement(d.Localize,{i18n_default_text:"Due to an issue on our server, some of your {{platform}} accounts are unavailable at the moment. Please bear with us and thank you for your patience.",values:{platform:(0,s.getCFDPlatformLabel)(de)}}))),o.createElement("div",{className:"cfd-dashboard__accounts-display"},o.createElement(ur,{is_visible:S.is_visible,platform:de,selected_login:S.selected_login,selected_account:S.selected_account,selected_account_group:S.selected_account_group,selected_account_type:S.selected_account_type,selected_server:S.selected_server,toggleModal:P}),o.createElement(ao,{active_index:m,top:!0,center:!0,is_loading:Y,is_logged_in:H,loading_component:z,onTabItemClick:k,should_update_hash:!0},i&&o.createElement("div",{label:(0,d.localize)("Real account"),hash:"real"},o.createElement(o.Fragment,null,Te&&o.createElement(y,{onClickSignup:j,platform:de}),o.createElement(Kr,{is_accounts_switcher_on:W,is_eu:q,is_eu_country:G,is_logged_in:H,has_cfd_account_error:de===s.CFD_PLATFORMS.MT5?Fe||ce.real:Fe||le.real||!!B,current_list:I,account_status:N,onSelectAccount:R,realSyntheticAccountsExistingData:Oe,realFinancialAccountsExistingData:Ae,is_virtual:ee,isSyntheticCardVisible:C,isFinancialCardVisible:F,openAccountTransfer:T,openPasswordManager:P,platform:de,isAccountOfTypeDisabled:U,has_real_account:se,standpoint:me,toggleAccountsDialog:fe,toggleMT5TradeModal:ge,toggleShouldShowRealAccountsList:he,residence:pe,openDerivRealAccountNeededModal:ke,should_enable_add_button:Pe}))),a&&o.createElement("div",{label:(0,d.localize)("Demo account"),hash:"demo"},de===s.CFD_PLATFORMS.DXTRADE&&o.createElement(Hr,{is_logged_in:H,has_cfd_account_error:Ce||le.demo||!!B,standpoint:me,is_loading:Y,current_list:I,onSelectAccount:R,landing_companies:te,openAccountTransfer:T,openPasswordManager:P,platform:de}),de===s.CFD_PLATFORMS.MT5&&o.createElement($r,{is_eu:q,is_eu_country:G,is_logged_in:H,has_maltainvest_account:ae,has_cfd_account_error:Ce||ce.demo,openAccountNeededModal:_e,standpoint:me,is_loading:Y,isSyntheticCardVisible:C,isFinancialCardVisible:F,current_list:I,onSelectAccount:R,landing_companies:te,openAccountTransfer:T,openPasswordManager:P,toggleMT5TradeModal:ge,platform:de,residence:pe}))),o.createElement(Ee,{platform:de,is_demo_tab:h,openPasswordModal:M,is_real_enabled:i}),o.createElement(Ne,{openPasswordModal:M}),o.createElement(Xe,{current_list:I,is_open:Z,onPasswordManager:P,toggleModal:ge,is_eu_user:H&&q||!H&&G}),o.createElement("div",{className:"cfd-dashboard__maintenance"},o.createElement(u.Icon,{icon:"IcAlertWarning",size:(0,s.isMobile)()?28:16,className:"cfd-dashboard__maintenance-icon"}),o.createElement("div",{className:"cfd-dashboard__maintenance-text"},de===s.CFD_PLATFORMS.DXTRADE&&o.createElement(d.Localize,{i18n_default_text:"Server maintenance starts at 06:00 GMT every Sunday and may last up to 2 hours. You may experience service disruption during this time."}),de===s.CFD_PLATFORMS.MT5&&o.createElement(d.Localize,{i18n_default_text:"Server maintenance starts at 01:00 GMT every Sunday, and this process may take up to 2 hours to complete. Service may be disrupted during this time."})))),o.createElement(Ct,{platform:de,active_index:m,is_dark_mode_on:X,dxtrade_tokens:V}),o.createElement(Tr,{platform:de}),o.createElement(Ar,{platform:de,has_suspended_account:Re}),o.createElement(kr,null),de===s.CFD_PLATFORMS.MT5&&H&&o.createElement(o.Fragment,null,o.createElement(xt,null),o.createElement(J,null)),o.createElement(Vr,{platform:de}),o.createElement(p(),{platform:de,enableApp:we,disableApp:xe,toggleResetTradingPasswordModal:ye,is_visible:ve,is_loading:Y,verification_code:Ie}))):o.createElement(u.PageError,{buttonSize:"medium",header:o.createElement(d.Localize,{i18n_default_text:"{{platform_name_mt5}} is not available in {{country}}",values:{country:L,platform_name_mt5:(0,s.getPlatformSettings)("mt5").name},components:[o.createElement("br",{key:0})]}),messages:[o.createElement(d.Localize,{key:0,i18n_default_text:"Please explore our other platforms."})],redirect_urls:[s.routes.trade,s.routes.bot],redirect_labels:[o.createElement(d.Localize,{key:0,i18n_default_text:"Explore {{platform_name_trader}}",values:{platform_name_trader:(0,s.getPlatformSettings)("trader").name}}),o.createElement(d.Localize,{key:1,i18n_default_text:"Explore {{platform_name_dbot}}",values:{platform_name_dbot:(0,s.getPlatformSettings)("dbot").name}})]})):o.createElement(l.Redirect,{to:s.routes.mt5})})));function ro(){return ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ro.apply(this,arguments)}var oo,io=o.lazy((function(){return a.e("404").then(a.bind(a,"./src/Modules/Page404/index.js"))})),co={path:s.routes.error404,component:io,getTitle:function(){return(0,d.localize)("Error 404")}};const lo=function(){return oo||(oo=[{path:s.routes.dxtrade,component:function(e){return o.createElement(no,ro({},e,{platform:"dxtrade"}))},getTitle:function(){return(0,d.localize)("Deriv X")},is_authenticated:!1},{path:s.routes.mt5,component:function(e){return o.createElement(no,ro({},e,{platform:"mt5"}))},getTitle:function(){return(0,d.localize)("MT5")},is_authenticated:!1}]).push(co),oo};var so=function e(t,a){var n;return a.some((function(a){var r;try{r=(0,c.matchPath)(t,a)}catch(e){if(/undefined/.test(e.message))return}return r?(n=a,!0):!!a.routes&&(n=e(t,a.routes))})),n},uo=["active_class","to","children"];function _o(){return _o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_o.apply(this,arguments)}function po(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var mo=function(e){var t=e.active_class,a=e.to,n=e.children,r=po(e,uo),i=o.useContext(s.PlatformContext).is_dashboard,c=function(e){return/^\//.test(e)?e:"/".concat(e||"")}(a),u=so(c,lo({is_dashboard:i}));if(!u)throw new Error("Route not found: ".concat(a));return a?o.createElement(l.NavLink,_o({to:c,activeClassName:t||"active",exact:u.exact},r),n):o.createElement("a",r,n)};mo.propTypes={active_class:r().string,children:r().oneOfType([r().object,r().array,r().string]),to:r().string};function fo(){return fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},fo.apply(this,arguments)}function go(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ho(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?go(Object(a),!0).forEach((function(t){bo(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):go(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function bo(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const vo=function(e){return o.createElement(l.Route,{exact:e.exact,path:e.path,render:function(t){var a,n=null;if(e.component===l.Redirect){var r=e.to;if(e.path===s.routes.index)r=t.location.pathname.toLowerCase().replace(e.path,"");n=o.createElement(l.Redirect,{to:r})}else if(!e.is_authenticated||e.is_logged_in||e.is_logging_in){var i,c=(null!==(i=e.routes)&&void 0!==i?i:[]).reduce((function(e,t){return ho(ho({},e),t.subroutes.find((function(e){return e.default})))}),{}),u=!(0,s.isEmptyObject)(c),_=(0,s.removeBranchName)(location.pathname);n=o.createElement(o.Fragment,null,u&&_===e.path&&o.createElement(l.Redirect,{to:c.path}),o.createElement(e.component,fo({},t,{routes:e.routes})))}else(0,s.redirectToLogin)(e.is_logged_in,(0,d.getLanguage)());var p=(null===(a=e.getTitle)||void 0===a?void 0:a.call(e))||"";return document.title="".concat(p," | ").concat(s.default_title),n}})};function yo(){return yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},yo.apply(this,arguments)}const wo=function(e){var t=o.useContext(s.PlatformContext).is_dashboard;return o.createElement(o.Suspense,{fallback:function(){return o.createElement("div",null,o.createElement(d.Localize,{i18n_default_text:"Loading..."}))}},o.createElement(l.Switch,null,lo({is_dashboard:t}).map((function(t){return o.createElement(vo,yo({key:t.path},t,e))}))))};var Eo=function(e){var t=e.header,a=e.message,n=e.is_dialog,r=e.redirect_label,i=e.redirectOnClick,c=e.should_show_refresh,l=void 0===c||c?(0,d.localize)("Please refresh this page to continue."):"";return n?o.createElement(u.Dialog,{title:t||(0,d.localize)("There was an error"),is_visible:!0,confirm_button_text:r||(0,d.localize)("Ok"),onConfirm:i||function(){return location.reload()}},a||(0,d.localize)("Sorry, an error occured while processing your request.")):o.createElement(u.PageError,{header:t||(0,d.localize)("Something’s not right"),messages:a?[a,l]:[(0,d.localize)("Sorry, an error occured while processing your request."),l],redirect_urls:[s.routes.trade],redirect_labels:[r||(0,d.localize)("Refresh")],buttonOnClick:i||function(){return location.reload()}})};Eo.propTypes={header:r().string,is_dialog:r().bool,message:r().oneOfType([r().node,r().string,r().object]),redirect_label:r().string,redirectOnClick:r().func,should_show_refresh:r().bool,type:r().string};const xo=Eo;var zo=function(e){return e.has_error?o.createElement(xo,e.error):o.createElement(wo,{is_logged_in:e.is_logged_in,is_logging_in:e.is_logging_in,passthrough:e.passthrough})};zo.propTypes={error:i.PropTypes.objectOrObservableObject,has_error:r().bool,is_logged_in:r().bool,is_logging_in:r().bool,is_virtual:r().bool,passthrough:r().object};const So=(0,c.withRouter)(v((function(e){var t=e.client,a=e.common;return{is_logged_in:t.is_logged_in,is_logging_in:t.is_logging_in,error:a.error,has_error:a.has_error}}))(zo));function Do(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oo(e,t,a){return t&&Do(e.prototype,t),a&&Do(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ao=Oo((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cfd=new Xn({root_store:t})}));function ko(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function To(e,t,a){return t&&ko(e.prototype,t),a&&ko(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}var Po,Mo,Co,Fo=To((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=t.client,this.common=t.common,this.modules=new Ao(this,t),this.ui=t.ui,this.gtm=t.gtm,this.rudderstack=t.rudderstack,this.pushwoosh=t.pushwoosh,this.notifications=t.notifications}));const No=(Mo=!1,Co=new Nt.PromiseClass,{init:function(e){Mo||(Po=e,Co.resolve(Po.server_time),Mo=!0)},get:function(){return Mo&&Po.server_time?Po.server_time.clone():void 0},timePromise:function(){return Mo?Promise.resolve(Po.server_time):Co.promise}});var jo;(0,Ft.configure)({enforceActions:"observed"});const Lo=function(e,t){return jo||(No.init(e.common),(0,s.setWebsocket)(t),jo=new Fo(e))};function Ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Io(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Vo=function(e){var t=e.passthrough,a=Ro(o.useState(Lo(t.root_store,t.WS)),1)[0];return o.createElement(b,{store:a},o.createElement(o.Fragment,null,o.createElement(So,null)))};Vo.propTypes={passthrough:r().shape({root_store:r().object,WS:r().object})};const Bo=Vo}}]);